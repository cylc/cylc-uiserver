import{X as c}from"./index-4d6c7840.js";import{a as h}from"./codemirror-ab5992a1.js";function T(e,o){for(var r=0;r<o.length;r++){const t=o[r];if(typeof t!="string"&&!Array.isArray(t)){for(const n in t)if(n!=="default"&&!(n in e)){const i=Object.getOwnPropertyDescriptor(t,n);i&&Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:()=>t[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var v={},y=c&&c.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(v,"__esModule",{value:!0});var u=y(h);u.default.defineOption("info",!1,function(e,o,r){if(r&&r!==u.default.Init){var t=e.state.info.onMouseOver;u.default.off(e.getWrapperElement(),"mouseover",t),clearTimeout(e.state.info.hoverTimeout),delete e.state.info}if(o){var n=e.state.info=M(o);n.onMouseOver=_.bind(null,e),u.default.on(e.getWrapperElement(),"mouseover",n.onMouseOver)}});function M(e){return{options:e instanceof Function?{render:e}:e===!0?{}:e}}function O(e){var o=e.state.info.options;return(o==null?void 0:o.hoverTime)||500}function _(e,o){var r=e.state.info,t=o.target||o.srcElement;if(t instanceof HTMLElement&&!(t.nodeName!=="SPAN"||r.hoverTimeout!==void 0)){var n=t.getBoundingClientRect(),i=function(){clearTimeout(r.hoverTimeout),r.hoverTimeout=setTimeout(f,p)},a=function(){u.default.off(document,"mousemove",i),u.default.off(e.getWrapperElement(),"mouseout",a),clearTimeout(r.hoverTimeout),r.hoverTimeout=void 0},f=function(){u.default.off(document,"mousemove",i),u.default.off(e.getWrapperElement(),"mouseout",a),r.hoverTimeout=void 0,E(e,n)},p=O(e);r.hoverTimeout=setTimeout(f,p),u.default.on(document,"mousemove",i),u.default.on(e.getWrapperElement(),"mouseout",a)}}function E(e,o){var r=e.coordsChar({left:(o.left+o.right)/2,top:(o.top+o.bottom)/2}),t=e.state.info,n=t.options,i=n.render||e.getHelper(r,"info");if(i){var a=e.getTokenAt(r,!0);if(a){var f=i(a,n,e,r);f&&w(e,o,f)}}}function w(e,o,r){var t=document.createElement("div");t.className="CodeMirror-info",t.appendChild(r),document.body.appendChild(t);var n=t.getBoundingClientRect(),i=window.getComputedStyle(t),a=n.right-n.left+parseFloat(i.marginLeft)+parseFloat(i.marginRight),f=n.bottom-n.top+parseFloat(i.marginTop)+parseFloat(i.marginBottom),p=o.bottom;f>window.innerHeight-o.bottom-15&&o.top>window.innerHeight-o.bottom&&(p=o.top-f),p<0&&(p=o.bottom);var s=Math.max(0,window.innerWidth-a-15);s>o.left&&(s=o.left),t.style.opacity="1",t.style.top=p+"px",t.style.left=s+"px";var d,m=function(){clearTimeout(d)},l=function(){clearTimeout(d),d=setTimeout(g,200)},g=function(){u.default.off(t,"mouseover",m),u.default.off(t,"mouseout",l),u.default.off(e.getWrapperElement(),"mouseout",l),t.style.opacity?(t.style.opacity="0",setTimeout(function(){t.parentNode&&t.parentNode.removeChild(t)},600)):t.parentNode&&t.parentNode.removeChild(t)};u.default.on(t,"mouseover",m),u.default.on(t,"mouseout",l),u.default.on(e.getWrapperElement(),"mouseout",l)}const W=T({__proto__:null,default:v},[v]);export{W as i};
