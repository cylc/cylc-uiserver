import{b1 as D,b2 as J,b3 as Y,b4 as Z,b5 as H,b6 as M,b7 as O,b8 as q,b9 as Q,ba as x,a as t,bb as ee,aS as g,bc as K,bd as te,be as le,bf as se,bg as ae,bh as N,bi as oe,bj as ne,R as h,bk as re,bl as ue,_ as ie,O as de,bm as ce,q as me,j as pe,bn as fe,bo as be,z as Ve,bp as ge,bq as ye,r as ve,c as j,w as l,V as E,o as i,g as o,L as n,t as d,br as he,bs as Se,h as r,n as L,p as F,aQ as T,e as U,I as G,k as b,d as _,T as _e,H as Pe,aT as we}from"./index-4d6c7840.js";import{defaultView as ke,allViews as $e}from"./Workspace-7c36eb53.js";import{V as Ce}from"./VAlert-1222a762.js";import"./graphql-c1d511dc.js";const z=D()({name:"VCheckbox",inheritAttrs:!1,props:{...J(),...Y()},emits:{"update:focused":e=>!0},setup(e,a){let{attrs:V,slots:m}=a;const{isFocused:u,focus:c,blur:p}=Z(e),s=H(),f=M(()=>e.id||`checkbox-${s}`);return O(()=>{const[P,B]=q(V),[w,X]=Q(e),[y,S]=x(e);return t(K,g({class:"v-checkbox"},P,w,{id:f.value,focused:u.value}),{...m,default:v=>{let{id:k,messagesId:$,isDisabled:C,isReadonly:I}=v;return t(ee,g(y,{id:k.value,"aria-describedby":$.value,disabled:C.value,readonly:I.value},B,{onFocus:c,onBlur:p}),m)}})}),{}}}),W=2;function R(e=null){localStorage.fontSize=e,document.documentElement.style.fontSize=e}function Ie(){R(`${A()-W}px`)}function je(){R(`${A()+W}px`)}function A(){const e=window.getComputedStyle(document.documentElement).fontSize;return parseFloat(e)}const Fe=D()({name:"VRadio",props:{...te({falseIcon:"$radioOff",trueIcon:"$radioOn"})},setup(e,a){let{slots:V}=a;return O(()=>t(le,g(e,{class:"v-radio",type:"radio"}),V)),{}}});const Te=D()({name:"VRadioGroup",inheritAttrs:!1,props:{height:{type:[Number,String],default:"auto"},...J(),...se(ae(),["multiple"]),trueIcon:{type:N,default:"$radioOn"},falseIcon:{type:N,default:"$radioOff"},type:{type:String,default:"radio"}},emits:{"update:modelValue":e=>!0},setup(e,a){let{attrs:V,slots:m}=a;const u=H(),c=M(()=>e.id||`radio-group-${u}`),p=oe(e,"modelValue");return O(()=>{const[s,f]=q(V),[P,B]=Q(e),[w,X]=ne({...e,multiple:!1}),y=m.label?m.label({label:e.label,props:{for:c.value}}):e.label;return t(K,g({class:"v-radio-group"},s,P,{modelValue:p.value,"onUpdate:modelValue":S=>p.value=S,id:c.value}),{...m,default:S=>{let{id:v,messagesId:k,isDisabled:$,isReadonly:C}=S;return t(h,null,[y&&t(re,{id:v.value},{default:()=>[y]}),t(ue,g(w,{id:v.value,"aria-describedby":k.value,defaultsTarget:"VRadio",trueIcon:e.trueIcon,falseIcon:e.falseIcon,type:e.type,disabled:$.value,readonly:C.value,"aria-labelledby":y?v.value:void 0},f,{modelValue:p.value,"onUpdate:modelValue":I=>p.value=I}),m)])}})}),{}}}),Ue={name:"UserProfile",components:{Job:de},mixins:[ce],data(){return{defaultView:ke(),cyclePointsOrderDesc:!0,jobTheme:localStorage.jobTheme||"default"}},computed:{...me("user",["user"]),reducedAnimation:{get(){return this.$store.state.app.reducedAnimation},set(e){this.setReducedAnimation(e)}}},head(){return{title:pe("App.userProfile")}},mounted(){localStorage.cyclePointsOrderDesc&&(this.cyclePointsOrderDesc=JSON.parse(localStorage.cyclePointsOrderDesc))},methods:{resetFontSize:R,decreaseFontSize:Ie,increaseFontSize:je,getCurrentFontSize:A,...fe("app",["setJobTheme"])},watch:{jobTheme:function(e){this.setJobTheme(e)},cyclePointsOrderDesc(e){localStorage.setItem("cyclePointsOrderDesc",e),this.cyclePointsOrderDesc=e},defaultView(e){localStorage.setItem("defaultView",e),this.defaultView=e}},allViews:Object.fromEntries($e.map(({name:e,icon:a})=>[e,a])),vuetifyDefaults:{global:{hideDetails:!0}},jobStates:be.enumValues.map(e=>e.name),jobThemes:["default","greyscale","colour_blind"],icons:{settings:Ve,increase:ge,decrease:ye}},ze={class:"text-h5"},De={class:"text-body-1"},Oe=n("p",{class:"text-h6"},"Preferences",-1),Re=n("span",null,"Font size",-1),Ae=n("span",null,"Colour Theme",-1),Be={class:"c-job-state-table"},Ne=n("th",null,"State",-1),Ee=n("td",null,null,-1),Le=n("span",null,"Latest cycle point at top",-1),Ge=n("span",null,"Reduced animations",-1),Je=n("span",null,"Default view",-1);function He(e,a,V,m,u,c){const p=ve("job");return i(),j(E,{fluid:"",class:"c-user-profile"},{default:l(()=>[t(r,{class:"wrap"},{default:l(()=>[t(o,{cols:"12"},{default:l(()=>[t(Ce,{icon:e.$options.icons.settings,prominent:"",color:"grey-lighten-3"},{default:l(()=>[n("h3",ze,d(e.$t("UserProfile.tableHeader")),1),n("p",De,d(e.$t("UserProfile.tableSubHeader")),1)]),_:1},8,["icon"]),e.user!==null?(i(),j(he,{key:0},{default:l(()=>[t(Se,{defaults:e.$options.vuetifyDefaults},{default:l(()=>[t(E,{"py-0":""},{default:l(()=>[t(r,{"no-gutters":"",class:"align-center wrap"},{default:l(()=>[t(o,{cols:"3"},{default:l(()=>[n("span",null,d(e.$t("UserProfile.username")),1)]),_:1}),t(o,{cols:"9"},{default:l(()=>[t(L,{"model-value":e.user.username,disabled:"",id:"profile-username","aria-disabled":"true",class:"text-body-1"},null,8,["model-value"])]),_:1})]),_:1}),t(r,{"no-gutters":"",class:"align-center wrap"},{default:l(()=>[t(o,{cols:"3"},{default:l(()=>[n("span",null,d(e.$t("UserProfile.administrator")),1)]),_:1}),t(o,{cols:"9"},{default:l(()=>[t(z,{modelValue:e.user.admin,"onUpdate:modelValue":a[0]||(a[0]=s=>e.user.admin=s),disabled:"",id:"profile-admin","aria-disabled":"true",class:"text-body-1"},null,8,["modelValue"])]),_:1})]),_:1}),t(r,{"no-gutters":"",class:"align-center wrap"},{default:l(()=>[t(o,{cols:"3"},{default:l(()=>[n("span",null,d(e.$t("UserProfile.groups")),1)]),_:1}),t(o,{cols:"9"},{default:l(()=>[t(F,{items:e.user.groups,modelValue:e.user.groups,"onUpdate:modelValue":a[1]||(a[1]=s=>e.user.groups=s),"menu-props":{attach:!0},multiple:"",disabled:"",id:"profile-groups","aria-disabled":"true",class:"text-body-1"},null,8,["items","modelValue"])]),_:1})]),_:1}),t(r,{"no-gutters":"",class:"align-center wrap"},{default:l(()=>[t(o,{cols:"3"},{default:l(()=>[n("span",null,d(e.$t("UserProfile.created")),1)]),_:1}),t(o,{cols:"9"},{default:l(()=>[t(L,{"model-value":e.user.created,disabled:"",id:"profile-created","aria-disabled":"true",class:"text-body-1"},null,8,["model-value"])]),_:1})]),_:1}),t(r,{"no-gutters":"",class:"align-center wrap"},{default:l(()=>[t(o,{cols:"3"},{default:l(()=>[n("span",null,d(e.$t("UserProfile.permissions")),1)]),_:1}),t(o,{cols:"9"},{default:l(()=>[t(F,{items:e.user.permissions,modelValue:e.user.permissions,"onUpdate:modelValue":a[2]||(a[2]=s=>e.user.permissions=s),"menu-props":{attach:!0},multiple:"",disabled:"",id:"profile-permissions","aria-disabled":"true",class:"text-body-1"},null,8,["items","modelValue"])]),_:1})]),_:1}),t(r,{"no-gutters":"",class:"mt-4"},{default:l(()=>[t(o,{cols:"12"},{default:l(()=>[Oe]),_:1})]),_:1}),t(r,{"no-gutters":"",class:"align-center wrap"},{default:l(()=>[t(o,{cols:"3"},{default:l(()=>[Re]),_:1}),t(o,{cols:"9"},{default:l(()=>[t(T,{variant:"outlined",id:"font-size-reset-button",class:"mr-2",onClick:a[3]||(a[3]=s=>c.resetFontSize())},{default:l(()=>[U(" Reset ")]),_:1}),t(T,{variant:"outlined",id:"font-size-decrease-button",class:"mx-2",onClick:a[4]||(a[4]=s=>c.decreaseFontSize())},{default:l(()=>[t(G,null,{default:l(()=>[U(d(e.$options.icons.decrease),1)]),_:1})]),_:1}),t(T,{variant:"outlined",id:"font-size-increase-button",class:"ml-2",onClick:a[5]||(a[5]=s=>c.increaseFontSize())},{default:l(()=>[t(G,null,{default:l(()=>[U(d(e.$options.icons.increase),1)]),_:1})]),_:1})]),_:1})]),_:1}),t(r,{"no-gutters":"",class:"align-center wrap"},{default:l(()=>[t(o,{cols:"3"},{default:l(()=>[Ae]),_:1}),t(Te,{modelValue:u.jobTheme,"onUpdate:modelValue":a[6]||(a[6]=s=>u.jobTheme=s)},{default:l(()=>[n("table",Be,[n("tr",null,[Ne,(i(!0),b(h,null,_(e.$options.jobThemes,s=>(i(),b("th",{key:s},d(s.replace("_"," ")),1))),128))]),n("tr",null,[Ee,(i(!0),b(h,null,_(e.$options.jobThemes,s=>(i(),b("td",{key:s},[t(Fe,{value:s,id:`input-job-theme-${s}`},null,8,["value","id"])]))),128))]),(i(!0),b(h,null,_(e.$options.jobStates,s=>(i(),b("tr",{key:s},[n("td",null,d(s),1),(i(!0),b(h,null,_(e.$options.jobThemes,f=>(i(),b("td",{key:f,class:_e([`job_theme--${f}`,"job_theme_override"])},[t(p,{status:s},null,8,["status"])],2))),128))]))),128))])]),_:1},8,["modelValue"]),t(o,{cols:"9"})]),_:1}),t(r,{"no-gutters":"",class:"align-center wrap"},{default:l(()=>[t(o,{cols:"3"},{default:l(()=>[Le]),_:1}),t(z,{modelValue:u.cyclePointsOrderDesc,"onUpdate:modelValue":a[7]||(a[7]=s=>u.cyclePointsOrderDesc=s),id:"input-cyclepoints-order"},null,8,["modelValue"])]),_:1}),t(r,{"no-gutters":"",class:"align-center wrap"},{default:l(()=>[t(o,{cols:"3"},{default:l(()=>[Ge]),_:1}),t(z,{modelValue:c.reducedAnimation,"onUpdate:modelValue":a[8]||(a[8]=s=>c.reducedAnimation=s),"data-cy":"reduced-animation"},null,8,["modelValue"])]),_:1}),t(r,{"no-gutters":"",class:"align-center wrap"},{default:l(()=>[t(o,{cols:"3"},{default:l(()=>[Je]),_:1}),t(F,{modelValue:u.defaultView,"onUpdate:modelValue":a[9]||(a[9]=s=>u.defaultView=s),items:Object.keys(e.$options.allViews),"prepend-inner-icon":e.$options.allViews[u.defaultView],"data-cy":"select-default-view","menu-props":{"data-cy":"select-default-view-menu"}},{item:l(({item:s,props:f})=>[t(Pe,g(f,{"prepend-icon":e.$options.allViews[s.value]}),null,16,["prepend-icon"])]),_:1},8,["modelValue","items","prepend-inner-icon"])]),_:1})]),_:1})]),_:1},8,["defaults"])]),_:1})):(i(),j(we,{key:1,indeterminate:!0}))]),_:1})]),_:1})]),_:1})}const We=ie(Ue,[["render",He]]);export{We as default};
