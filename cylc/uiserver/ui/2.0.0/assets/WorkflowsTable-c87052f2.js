import{_ as u,bt as f,j as k,bu as b,S as _,bv as p,q as h,u as m,bw as r,y,r as w,P as g,c as W,w as l,V as v,o as C,a,g as T,L as e,t,Q as S,h as V}from"./index-4d6c7840.js";import{V as $}from"./VAlert-1222a762.js";const N={name:"WorkflowsTable",mixins:[f],head(){return{title:k("App.workflows")}},components:{WorkflowIcon:b},data:()=>({query:new _(p,{},"root",[],!0,!0)}),computed:{...h("workflows",["cylcTree"]),...m("workflows",["getNodes"]),workflows(){return this.getNodes("workflow")},workflowsTable(){return Object.values(this.workflows)}},methods:{viewWorkflow(s){this.$router.push({path:`/workspace/${s.tokens.workflow}`})}},headers:[{sortable:!1,title:"",key:"icon"},{sortable:!0,title:r.global.t("Workflows.tableColumnName"),key:"tokens.workflow"},{sortable:!0,title:"Status",key:"node.status"},{sortable:!0,title:r.global.t("Workflows.tableColumnOwner"),key:"node.owner"},{sortable:!0,title:r.global.t("Workflows.tableColumnHost"),key:"node.host"},{sortable:!1,title:r.global.t("Workflows.tableColumnPort"),key:"node.port"}],icons:{mdiTable:y}},x={class:"text-h5"},B=["onClick"],I={width:"1em"};function O(s,j,A,D,L,n){const i=w("WorkflowIcon"),c=w("v-data-table"),d=g("cylc-object");return C(),W(v,{"fill-height":"",fluid:"","grid-list-xl":""},{default:l(()=>[a(V,{class:"align-self-start"},{default:l(()=>[a(T,null,{default:l(()=>[a($,{icon:s.$options.icons.mdiTable,prominent:"",color:"grey-lighten-3"},{default:l(()=>[e("h3",x,t(s.$t("Workflows.tableHeader")),1)]),_:1},8,["icon"]),a(c,{headers:s.$options.headers,items:n.workflowsTable,"data-cy":"workflows-table"},{item:l(({item:o})=>[e("tr",{onClick:P=>n.viewWorkflow(o.raw),style:{cursor:"pointer"}},[e("td",I,[S(a(i,{status:o.raw.node.status},null,8,["status"]),[[d,o.raw]])]),e("td",null,t(o.raw.tokens.workflow),1),e("td",null,t(o.raw.node.status),1),e("td",null,t(o.raw.node.owner),1),e("td",null,t(o.raw.node.host),1),e("td",null,t(o.raw.node.port),1)],8,B)]),_:1},8,["headers","items"])]),_:1})]),_:1})]),_:1})}const E=u(N,[["render",O]]);export{E as default};
