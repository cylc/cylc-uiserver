import{cL as dt,cM as ct,bT as T,cp as M,q as w,ap as ge,cN as Te,cO as ue,cP as W,cQ as z,bS as K,cR as ae,bY as U,z as y,g as x,A as Ve,bK as N,c3 as O,cS as ft,b_ as B,az as ee,aj as L,cT as gt,cU as vt,cV as mt,cW as ht,cX as F,cY as ie,cZ as Fe,c_ as te,c$ as X,d0 as bt,bV as yt,bX as ve,d1 as pt,F as j,d2 as xt,d3 as me,d4 as he,cH as be,D as pe,bi as St,bM as Pt,d5 as wt,B as Ce,l as xe,d6 as Y,d7 as de,d8 as Z,t as kt,d9 as ce,da as J,ao as It,db as Dt,dc as Tt,bh as Se,dd as Vt,de as Ft,L as Ct}from"./index-xEfRJwX9.js";import{V as Pe}from"./VPagination-CRACFHH_.js";function we(e,t,l){return Object.keys(e).filter(a=>dt(a)&&a.endsWith(t)).reduce((a,n)=>(a[n.slice(0,-t.length)]=r=>ct(e[n],r,l(r)),a),{})}const Bt=T({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),Be=Symbol.for("vuetify:data-table-pagination");function _t(e){const t=M(e,"page",void 0,a=>Number(a??1)),l=M(e,"itemsPerPage",void 0,a=>Number(a??10));return{page:t,itemsPerPage:l}}function Et(e){const{page:t,itemsPerPage:l,itemsLength:a}=e,n=w(()=>l.value===-1?0:l.value*(t.value-1)),r=w(()=>l.value===-1?a.value:Math.min(a.value,n.value+l.value)),o=w(()=>l.value===-1||a.value===0?1:Math.ceil(a.value/l.value));ge([t,o],()=>{t.value>o.value&&(t.value=o.value)});function i(f){l.value=f,t.value=1}function s(){t.value=ue(t.value+1,1,o.value)}function u(){t.value=ue(t.value-1,1,o.value)}function c(f){t.value=ue(f,1,o.value)}const v={page:t,itemsPerPage:l,startIndex:n,stopIndex:r,pageCount:o,itemsLength:a,nextPage:s,prevPage:u,setPage:c,setItemsPerPage:i};return z(Be,v),v}function Ot(){const e=W(Be);if(!e)throw new Error("Missing pagination!");return e}function At(e){const t=Te("usePaginatedItems"),{items:l,startIndex:a,stopIndex:n,itemsPerPage:r}=e,o=w(()=>r.value<=0?l.value:l.value.slice(a.value,n.value));return ge(o,i=>{t.emit("update:currentItems",i)},{immediate:!0}),{paginatedItems:o}}const _e=T({prevIcon:{type:O,default:"$prev"},nextIcon:{type:O,default:"$next"},firstIcon:{type:O,default:"$first"},lastIcon:{type:O,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),ke=K()({name:"VDataTableFooter",props:_e(),setup(e,t){let{slots:l}=t;const{t:a}=ae(),{page:n,pageCount:r,startIndex:o,stopIndex:i,itemsLength:s,itemsPerPage:u,setItemsPerPage:c}=Ot(),v=w(()=>e.itemsPerPageOptions.map(f=>typeof f=="number"?{value:f,title:f===-1?a("$vuetify.dataFooter.itemsPerPageAll"):String(f)}:{...f,title:isNaN(Number(f.title))?a(f.title):f.title}));return U(()=>{const f=Pe.filterProps(e);return y("div",{class:"v-data-table-footer"},[l.prepend?.(),y("div",{class:"v-data-table-footer__items-per-page"},[y("span",{"aria-label":a(e.itemsPerPageText)},[a(e.itemsPerPageText)]),x(Ve,{items:v.value,modelValue:u.value,"onUpdate:modelValue":m=>c(Number(m)),density:"compact",variant:"outlined",hideDetails:!0},null)]),y("div",{class:"v-data-table-footer__info"},[y("div",null,[a(e.pageText,s.value?o.value+1:0,i.value,s.value)])]),y("div",{class:"v-data-table-footer__pagination"},[x(Pe,N({modelValue:n.value,"onUpdate:modelValue":m=>n.value=m,density:"comfortable",firstAriaLabel:e.firstPageLabel,lastAriaLabel:e.lastPageLabel,length:r.value,nextAriaLabel:e.nextPageLabel,previousAriaLabel:e.prevPageLabel,rounded:!0,showFirstLastPage:!0,totalVisible:e.showCurrentPage?1:0,variant:"plain"},f),null)])])}),{}}}),q=ft({align:{type:String,default:"start"},fixed:{type:[Boolean,String],default:!1},fixedOffset:[Number,String],fixedEndOffset:[Number,String],height:[Number,String],lastFixed:Boolean,firstFixedEnd:Boolean,noPadding:Boolean,indent:[Number,String],empty:Boolean,tag:String,width:[Number,String],maxWidth:[Number,String],nowrap:Boolean},(e,t)=>{let{slots:l}=t;const a=e.tag??"td",n=typeof e.fixed=="string"?e.fixed:e.fixed?"start":"none";return x(a,{class:ee(["v-data-table__td",{"v-data-table-column--fixed":n==="start","v-data-table-column--fixed-end":n==="end","v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--first-fixed-end":e.firstFixedEnd,"v-data-table-column--no-padding":e.noPadding,"v-data-table-column--nowrap":e.nowrap,"v-data-table-column--empty":e.empty},`v-data-table-column--align-${e.align}`]),style:{height:B(e.height),width:B(e.width),maxWidth:B(e.maxWidth),left:n==="start"?B(e.fixedOffset||null):void 0,right:n==="end"?B(e.fixedEndOffset||null):void 0,paddingInlineStart:e.indent?B(e.indent):void 0}},{default:()=>[l.default?.()]})}),Nt=T({headers:Array},"DataTable-header"),Ee=Symbol.for("vuetify:data-table-headers"),Oe={title:"",sortable:!1},Rt={...Oe,width:48};function $t(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(l=>({element:l,priority:0}));return{enqueue:(l,a)=>{let n=!1;for(let r=0;r<t.length;r++)if(t[r].priority>a){t.splice(r,0,{element:l,priority:a}),n=!0;break}n||t.push({element:l,priority:a})},size:()=>t.length,count:()=>{let l=0;if(!t.length)return 0;const a=Math.floor(t[0].priority);for(let n=0;n<t.length;n++)Math.floor(t[n].priority)===a&&(l+=1);return l},dequeue:()=>t.shift()}}function fe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)t.push(e);else for(const l of e.children)fe(l,t);return t}function Ae(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const l of e)l.key&&t.add(l.key),l.children&&Ae(l.children,t);return t}function Ht(e){if(e.key){if(e.key==="data-table-group")return Oe;if(["data-table-expand","data-table-select"].includes(e.key))return Rt}}function ye(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(t,...e.children.map(l=>ye(l,t+1))):t}function Gt(e){let t=!1;function l(r,o){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"none";if(r)if(i!=="none"&&(r.fixed=i),r.fixed===!0&&(r.fixed="start"),r.fixed===o)if(r.children)if(o==="start")for(let s=r.children.length-1;s>=0;s--)l(r.children[s],o,o);else for(let s=0;s<r.children.length;s++)l(r.children[s],o,o);else!t&&o==="start"?r.lastFixed=!0:!t&&o==="end"?r.firstFixedEnd=!0:isNaN(Number(r.width))?mt(`Multiple fixed columns should have a static width (key: ${r.key})`):r.minWidth=Math.max(Number(r.width)||0,Number(r.minWidth)||0),t=!0;else if(r.children)if(o==="start")for(let s=r.children.length-1;s>=0;s--)l(r.children[s],o);else for(let s=0;s<r.children.length;s++)l(r.children[s],o);else t=!1}for(let r=e.length-1;r>=0;r--)l(e[r],"start");for(let r=0;r<e.length;r++)l(e[r],"end");let a=0;for(let r=0;r<e.length;r++)a=Ne(e[r],a);let n=0;for(let r=e.length-1;r>=0;r--)n=Re(e[r],n)}function Ne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!e)return t;if(e.children){e.fixedOffset=t;for(const l of e.children)t=Ne(l,t)}else e.fixed&&e.fixed!=="end"&&(e.fixedOffset=t,t+=parseFloat(e.width||"0")||0);return t}function Re(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!e)return t;if(e.children){e.fixedEndOffset=t;for(const l of e.children)t=Re(l,t)}else e.fixed==="end"&&(e.fixedEndOffset=t,t+=parseFloat(e.width||"0")||0);return t}function Lt(e,t){const l=[];let a=0;const n=$t(e);for(;n.size()>0;){let o=n.count();const i=[];let s=1;for(;o>0;){const{element:u,priority:c}=n.dequeue(),v=t-a-ye(u);if(i.push({...u,rowspan:v??1,colspan:u.children?fe(u).length:1}),u.children)for(const f of u.children){const m=c%1+s/Math.pow(10,a+2);n.enqueue(f,a+v+m)}s+=1,o-=1}a+=1,l.push(i)}return{columns:e.map(o=>fe(o)).flat(),headers:l}}function $e(e){const t=[];for(const l of e){const a={...Ht(l),...l},n=a.key??(typeof a.value=="string"?a.value:null),r=a.value??n??null,o={...a,key:n,value:r,sortable:a.sortable??(a.key!=null||!!a.sort),children:a.children?$e(a.children):void 0};t.push(o)}return t}function Mt(e,t){const l=L([]),a=L([]),n=L({}),r=L({}),o=L({});gt(()=>{const u=(e.headers||Object.keys(e.items[0]??{}).map(h=>({key:h,title:vt(h)}))).slice(),c=Ae(u);t?.groupBy?.value.length&&!c.has("data-table-group")&&u.unshift({key:"data-table-group",title:"Group"}),t?.showSelect?.value&&!c.has("data-table-select")&&u.unshift({key:"data-table-select"}),t?.showExpand?.value&&!c.has("data-table-expand")&&u.push({key:"data-table-expand"});const v=$e(u);Gt(v);const f=Math.max(...v.map(h=>ye(h)))+1,m=Lt(v,f);l.value=m.headers,a.value=m.columns;const S=m.headers.flat(1);for(const h of S)h.key&&(h.sortable&&(h.sort&&(n.value[h.key]=h.sort),h.sortRaw&&(r.value[h.key]=h.sortRaw)),h.filter&&(o.value[h.key]=h.filter))});const i={headers:l,columns:a,sortFunctions:n,sortRawFunctions:r,filterFunctions:o};return z(Ee,i),i}function le(){const e=W(Ee);if(!e)throw new Error("Missing headers!");return e}const jt={showSelectAll:!1,allSelected:()=>[],select:e=>{let{items:t,value:l}=e;return new Set(l?[t[0]?.value]:[])},selectAll:e=>{let{selected:t}=e;return t}},He={showSelectAll:!0,allSelected:e=>{let{currentPage:t}=e;return t},select:e=>{let{items:t,value:l,selected:a}=e;for(const n of t)l?a.add(n.value):a.delete(n.value);return a},selectAll:e=>{let{value:t,currentPage:l,selected:a}=e;return He.select({items:l,value:t,selected:a})}},Ge={showSelectAll:!0,allSelected:e=>{let{allItems:t}=e;return t},select:e=>{let{items:t,value:l,selected:a}=e;for(const n of t)l?a.add(n.value):a.delete(n.value);return a},selectAll:e=>{let{value:t,allItems:l,selected:a}=e;return Ge.select({items:l,value:t,selected:a})}},Wt=T({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:Fe}},"DataTable-select"),Le=Symbol.for("vuetify:data-table-selection");function zt(e,t){let{allItems:l,currentPage:a}=t;const n=M(e,"modelValue",e.modelValue,b=>new Set(ie(b).map(p=>l.value.find(C=>e.valueComparator(p,C.value))?.value??p)),b=>[...b.values()]),r=w(()=>l.value.filter(b=>b.selectable)),o=w(()=>a.value.filter(b=>b.selectable)),i=w(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return jt;case"all":return Ge;case"page":default:return He}}),s=ht(null);function u(b){return ie(b).every(p=>n.value.has(p.value))}function c(b){return ie(b).some(p=>n.value.has(p.value))}function v(b,p){const C=i.value.select({items:b,value:p,selected:new Set(n.value)});n.value=C}function f(b,p,C){const k=[];if(p=p??a.value.findIndex(_=>_.value===b.value),e.selectStrategy!=="single"&&C?.shiftKey&&s.value!==null){const[_,H]=[s.value,p].sort((A,P)=>A-P);k.push(...a.value.slice(_,H+1).filter(A=>A.selectable))}else k.push(b),s.value=p;v(k,!u([b]))}function m(b){const p=i.value.selectAll({value:b,allItems:r.value,currentPage:o.value,selected:new Set(n.value)});n.value=p}const S=w(()=>n.value.size>0),h=w(()=>{const b=i.value.allSelected({allItems:r.value,currentPage:o.value});return!!b.length&&u(b)}),d=F(()=>i.value.showSelectAll),D={toggleSelect:f,select:v,selectAll:m,isSelected:u,isSomeSelected:c,someSelected:S,allSelected:h,showSelectAll:d,lastSelectedIndex:s,selectStrategy:i};return z(Le,D),D}function ne(){const e=W(Le);if(!e)throw new Error("Missing selection!");return e}const Kt=T({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),Me=Symbol.for("vuetify:data-table-sort");function qt(e){const t=M(e,"sortBy"),l=F(()=>e.mustSort),a=F(()=>e.multiSort);return{sortBy:t,mustSort:l,multiSort:a}}function Ut(e){const{sortBy:t,mustSort:l,multiSort:a,page:n}=e,r=s=>{if(s.key==null)return;let u=t.value.map(v=>({...v}))??[];const c=u.find(v=>v.key===s.key);c?c.order==="desc"?l.value&&u.length===1?c.order="asc":u=u.filter(v=>v.key!==s.key):c.order="desc":a.value?u.push({key:s.key,order:"asc"}):u=[{key:s.key,order:"asc"}],t.value=u,n&&(n.value=1)};function o(s){return!!t.value.find(u=>u.key===s.key)}const i={sortBy:t,toggleSort:r,isSorted:o};return z(Me,i),i}function je(){const e=W(Me);if(!e)throw new Error("Missing sort!");return e}function Qt(e,t,l,a){const n=ae();return{sortedItems:w(()=>l.value.length?Xt(t.value,l.value,n.current.value,{transform:a?.transform,sortFunctions:{...e.customKeySort,...a?.sortFunctions?.value},sortRawFunctions:a?.sortRawFunctions?.value}):t.value)}}function Xt(e,t,l,a){const n=new Intl.Collator(l,{sensitivity:"accent",usage:"sort"});return e.map(o=>[o,a?.transform?a.transform(o):o]).sort((o,i)=>{for(let s=0;s<t.length;s++){let u=!1;const c=t[s].key,v=t[s].order??"asc";if(v===!1)continue;let f=te(o[1],c),m=te(i[1],c),S=o[0].raw,h=i[0].raw;if(v==="desc"&&([f,m]=[m,f],[S,h]=[h,S]),a?.sortRawFunctions?.[c]){const d=a.sortRawFunctions[c](S,h);if(d==null)continue;if(u=!0,d)return d}if(a?.sortFunctions?.[c]){const d=a.sortFunctions[c](f,m);if(d==null)continue;if(u=!0,d)return d}if(!u&&(f instanceof Date&&m instanceof Date&&(f=f.getTime(),m=m.getTime()),[f,m]=[f,m].map(d=>d!=null?d.toString().toLocaleLowerCase():d),f!==m))return X(f)&&X(m)?0:X(f)?-1:X(m)?1:!isNaN(f)&&!isNaN(m)?Number(f)-Number(m):n.compare(f,m)}return 0}).map(o=>{let[i]=o;return i})}const We=T({color:String,disableSort:Boolean,fixedHeader:Boolean,multiSort:Boolean,sortAscIcon:{type:O,default:"$sortAsc"},sortDescIcon:{type:O,default:"$sortDesc"},headerProps:{type:Object},sticky:Boolean,...he(),...me(),...xt()},"VDataTableHeaders"),Ie=K()({name:"VDataTableHeaders",props:We(),setup(e,t){let{slots:l}=t;const{t:a}=ae(),{toggleSort:n,sortBy:r,isSorted:o}=je(),{someSelected:i,allSelected:s,selectAll:u,showSelectAll:c}=ne(),{columns:v,headers:f}=le(),{loaderClasses:m}=bt(e);function S(P,g){if(!(e.sticky||e.fixedHeader)&&!P.fixed)return;const I=typeof P.fixed=="string"?P.fixed:P.fixed?"start":"none";return{position:"sticky",left:I==="start"?B(P.fixedOffset):void 0,right:I==="end"?B(P.fixedEndOffset):void 0,top:e.sticky||e.fixedHeader?`calc(var(--v-table-header-height) * ${g})`:void 0}}function h(P,g){P.key==="Enter"&&!e.disableSort&&n(g)}function d(P){const g=r.value.find(I=>I.key===P.key);return g?g.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:D,backgroundColorStyles:b}=yt(()=>e.color),{displayClasses:p,mobile:C}=ve(e),k=w(()=>({headers:f.value,columns:v.value,toggleSort:n,isSorted:o,sortBy:r.value,someSelected:i.value,allSelected:s.value,selectAll:u,getSortIcon:d})),_=w(()=>["v-data-table__th",{"v-data-table__th--sticky":e.sticky||e.fixedHeader},p.value,m.value]),H=P=>{let{column:g,x:I,y:V}=P;const re=g.key==="data-table-select"||g.key==="data-table-expand",Q=g.key==="data-table-group"&&g.width===0&&!g.title,oe=N(e.headerProps??{},g.headerProps??{});return x(q,N({tag:"th",align:g.align,class:[{"v-data-table__th--sortable":g.sortable&&!e.disableSort,"v-data-table__th--sorted":o(g),"v-data-table__th--fixed":g.fixed},..._.value],style:{width:B(g.width),minWidth:B(g.minWidth),maxWidth:B(g.maxWidth),...S(g,V)},colspan:g.colspan,rowspan:g.rowspan,fixed:g.fixed,nowrap:g.nowrap,lastFixed:g.lastFixed,firstFixedEnd:g.firstFixedEnd,noPadding:re,empty:Q,tabindex:g.sortable?0:void 0,onClick:g.sortable?()=>n(g):void 0,onKeydown:g.sortable?R=>h(R,g):void 0},oe),{default:()=>{const R=`header.${g.key}`,G={column:g,selectAll:u,isSorted:o,toggleSort:n,sortBy:r.value,someSelected:i.value,allSelected:s.value,getSortIcon:d};return l[R]?l[R](G):Q?"":g.key==="data-table-select"?l["header.data-table-select"]?.(G)??(c.value&&x(be,{density:e.density,modelValue:s.value,indeterminate:i.value&&!s.value,"onUpdate:modelValue":u},null)):y("div",{class:"v-data-table-header__content"},[y("span",null,[g.title]),g.sortable&&!e.disableSort&&x(pe,{key:"icon",class:"v-data-table-header__sort-icon",icon:d(g)},null),e.multiSort&&o(g)&&y("div",{key:"badge",class:ee(["v-data-table-header__sort-badge",...D.value]),style:St(b.value)},[r.value.findIndex(se=>se.key===g.key)+1])])}})},A=()=>{const P=w(()=>v.value.filter(I=>I?.sortable&&!e.disableSort)),g=w(()=>{if(v.value.find(V=>V.key==="data-table-select")!=null)return s.value?"$checkboxOn":i.value?"$checkboxIndeterminate":"$checkboxOff"});return x(q,N({tag:"th",class:[..._.value],colspan:f.value.length+1},e.headerProps),{default:()=>[y("div",{class:"v-data-table-header__content"},[x(Ve,{chips:!0,class:"v-data-table__td-sort-select",clearable:!0,density:"default",items:P.value,label:a("$vuetify.dataTable.sortBy"),multiple:e.multiSort,variant:"underlined","onClick:clear":()=>r.value=[],appendIcon:g.value,"onClick:append":()=>u(!s.value)},{chip:I=>x(Pt,{onClick:I.item.raw?.sortable?()=>n(I.item.raw):void 0,onMousedown:V=>{V.preventDefault(),V.stopPropagation()}},{default:()=>[I.item.title,x(pe,{class:ee(["v-data-table__td-sort-icon",o(I.item.raw)&&"v-data-table__td-sort-icon-active"]),icon:d(I.item.raw),size:"small"},null)]})})])]})};U(()=>C.value?y("tr",null,[x(A,null,null)]):y(j,null,[l.headers?l.headers(k.value):f.value.map((P,g)=>y("tr",null,[P.map((I,V)=>x(H,{column:I,x:V,y:g},null))])),e.loading&&y("tr",{class:"v-data-table-progress"},[y("th",{colspan:v.value.length},[x(pt,{name:"v-data-table-progress",absolute:!0,active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:l.loader})])])]))}}),Yt=T({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),ze=Symbol.for("vuetify:data-table-group");function Zt(e){return{groupBy:M(e,"groupBy")}}function Jt(e){const{disableSort:t,groupBy:l,sortBy:a}=e,n=L(new Set),r=w(()=>l.value.map(c=>({...c,order:c.order??!1})).concat(t?.value?[]:a.value));function o(c){return n.value.has(c.id)}function i(c){const v=new Set(n.value);o(c)?v.delete(c.id):v.add(c.id),n.value=v}function s(c){function v(f){const m=[];for(const S of f.items)"type"in S&&S.type==="group"?m.push(...v(S)):m.push(S);return[...new Set(m)]}return v({items:c})}const u={sortByWithGroups:r,toggleGroup:i,opened:n,groupBy:l,extractRows:s,isGroupOpen:o};return z(ze,u),u}function Ke(){const e=W(ze);if(!e)throw new Error("Missing group!");return e}function ea(e,t){if(!e.length)return[];const l=new Map;for(const a of e){const n=te(a.raw,t);l.has(n)||l.set(n,[]),l.get(n).push(a)}return l}function qe(e,t){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!t.length)return[];const n=ea(e,t[0]),r=[],o=t.slice(1);return n.forEach((i,s)=>{const u=t[0],c=`${a}_${u}_${s}`;r.push({depth:l,id:c,key:u,value:s,items:o.length?qe(i,o,l+1,c):i,type:"group"})}),r}function Ue(e,t,l){const a=[];for(const n of e)"type"in n&&n.type==="group"?(n.value!=null&&a.push(n),(t.has(n.id)||n.value==null)&&(a.push(...Ue(n.items,t,l)),l&&a.push({...n,type:"group-summary"}))):a.push(n);return a}function ta(e,t,l,a){return{flatItems:w(()=>{if(!t.value.length)return e.value;const r=qe(e.value,t.value.map(o=>o.key));return Ue(r,l.value,wt(a))})}}const Qe=T({item:{type:Object,required:!0},groupCollapseIcon:{type:O,default:"$tableGroupCollapse"},groupExpandIcon:{type:O,default:"$tableGroupExpand"},...he()},"VDataTableGroupHeaderRow"),aa=K()({name:"VDataTableGroupHeaderRow",props:Qe(),setup(e,t){let{slots:l}=t;const{isGroupOpen:a,toggleGroup:n,extractRows:r}=Ke(),{isSelected:o,isSomeSelected:i,select:s}=ne(),{columns:u}=le(),c=w(()=>r([e.item])),v=F(()=>u.value.length-(u.value.some(f=>f.key==="data-table-select")?1:0));return()=>y("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[u.value.map(f=>{if(f.key==="data-table-group"){const m=a(e.item)?e.groupCollapseIcon:e.groupExpandIcon,S=()=>n(e.item);return l["data-table-group"]?.({item:e.item,count:c.value.length,props:{icon:m,onClick:S}})??x(q,{class:"v-data-table-group-header-row__column",colspan:v.value},{default:()=>[x(Ce,{size:"small",variant:"text",icon:m,onClick:S},null),y("span",null,[e.item.value]),y("span",null,[xe("("),c.value.length,xe(")")])]})}else if(f.key==="data-table-select"){const m=o(c.value),S=i(c.value)&&!m,h=d=>s(c.value,d);return l["data-table-select"]?.({props:{modelValue:m,indeterminate:S,"onUpdate:modelValue":h}})??x(q,{class:"v-data-table__td--select-row",noPadding:!0},{default:()=>[x(be,{density:e.density,modelValue:m,indeterminate:S,"onUpdate:modelValue":h},null)]})}return""})])}}),la=T({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),Xe=Symbol.for("vuetify:datatable:expanded");function na(e){const t=F(()=>e.expandOnClick),l=M(e,"expanded",e.expanded,i=>new Set(i),i=>[...i.values()]);function a(i,s){const u=new Set(l.value),c=Y(i.value);if(s)u.add(c);else{const v=[...l.value].find(f=>Y(f)===c);u.delete(v)}l.value=u}function n(i){const s=Y(i.value);return[...l.value].some(u=>Y(u)===s)}function r(i){a(i,!n(i))}const o={expand:a,expanded:l,expandOnClick:t,isExpanded:n,toggleExpand:r};return z(Xe,o),o}function Ye(){const e=W(Xe);if(!e)throw new Error("foo");return e}const Ze=T({index:Number,item:Object,cellProps:[Object,Function],collapseIcon:{type:O,default:"$collapse"},expandIcon:{type:O,default:"$expand"},onClick:de(),onContextmenu:de(),onDblclick:de(),...he(),...me()},"VDataTableRow"),ra=K()({name:"VDataTableRow",props:Ze(),setup(e,t){let{slots:l}=t;const{displayClasses:a,mobile:n}=ve(e,"v-data-table__tr"),{isSelected:r,toggleSelect:o,someSelected:i,allSelected:s,selectAll:u}=ne(),{isExpanded:c,toggleExpand:v}=Ye(),{toggleSort:f,sortBy:m,isSorted:S}=je(),{columns:h}=le();U(()=>y("tr",{class:ee(["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)},a.value]),onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&h.value.map((d,D)=>{const b=e.item,p=`item.${d.key}`,C=`header.${d.key}`,k={index:e.index,item:b.raw,internalItem:b,value:te(b.columns,d.key),column:d,isSelected:r,toggleSelect:o,isExpanded:c,toggleExpand:v},_={column:d,selectAll:u,isSorted:S,toggleSort:f,sortBy:m.value,someSelected:i.value,allSelected:s.value,getSortIcon:()=>""},H=typeof e.cellProps=="function"?e.cellProps({index:k.index,item:k.item,internalItem:k.internalItem,value:k.value,column:d}):e.cellProps,A=typeof d.cellProps=="function"?d.cellProps({index:k.index,item:k.item,internalItem:k.internalItem,value:k.value}):d.cellProps,P=d.key==="data-table-select"||d.key==="data-table-expand",g=d.key==="data-table-group"&&d.width===0&&!d.title;return x(q,N({align:d.align,indent:d.intent,class:{"v-data-table__td--expanded-row":d.key==="data-table-expand","v-data-table__td--select-row":d.key==="data-table-select"},fixed:d.fixed,fixedOffset:d.fixedOffset,fixedEndOffset:d.fixedEndOffset,lastFixed:d.lastFixed,firstFixedEnd:d.firstFixedEnd,maxWidth:n.value?void 0:d.maxWidth,noPadding:P,empty:g,nowrap:d.nowrap,width:n.value?void 0:d.width},H,A),{default:()=>{if(d.key==="data-table-select")return l["item.data-table-select"]?.({...k,props:{disabled:!b.selectable,modelValue:r([b]),onClick:Z(()=>o(b),["stop"])}})??x(be,{disabled:!b.selectable,density:e.density,modelValue:r([b]),onClick:Z(V=>o(b,e.index,V),["stop"])},null);if(d.key==="data-table-expand")return l["item.data-table-expand"]?.({...k,props:{icon:c(b)?e.collapseIcon:e.expandIcon,size:"small",variant:"text",onClick:Z(()=>v(b),["stop"])}})??x(Ce,{icon:c(b)?e.collapseIcon:e.expandIcon,size:"small",variant:"text",onClick:Z(()=>v(b),["stop"])},null);if(l[p]&&!n.value)return l[p](k);const I=kt(k.value);return n.value?y(j,null,[y("div",{class:"v-data-table__td-title"},[l[C]?.(_)??d.title]),y("div",{class:"v-data-table__td-value"},[l[p]?.(k)??I])]):I}})})]))}}),Je=T({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function],...ce(Ze(),["collapseIcon","expandIcon","density"]),...ce(Qe(),["groupCollapseIcon","groupExpandIcon","density"]),...me()},"VDataTableRows"),De=K()({name:"VDataTableRows",inheritAttrs:!1,props:Je(),setup(e,t){let{attrs:l,slots:a}=t;const{columns:n}=le(),{expandOnClick:r,toggleExpand:o,isExpanded:i}=Ye(),{isSelected:s,toggleSelect:u}=ne(),{toggleGroup:c,isGroupOpen:v}=Ke(),{t:f}=ae(),{mobile:m}=ve(e);return U(()=>{const S=ce(e,["groupCollapseIcon","groupExpandIcon","density"]);return e.loading&&(!e.items.length||a.loading)?y("tr",{class:"v-data-table-rows-loading",key:"loading"},[y("td",{colspan:n.value.length},[a.loading?.()??f(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?y("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[y("td",{colspan:n.value.length},[a["no-data"]?.()??f(e.noDataText)])]):y(j,null,[e.items.map((h,d)=>{if(h.type==="group"){const p={index:d,item:h,columns:n.value,isExpanded:i,toggleExpand:o,isSelected:s,toggleSelect:u,toggleGroup:c,isGroupOpen:v};return a["group-header"]?a["group-header"](p):x(aa,N({key:`group-header_${h.id}`,item:h},we(l,":groupHeader",()=>p),S),a)}if(h.type==="group-summary"){const p={index:d,item:h,columns:n.value,toggleGroup:c};return a["group-summary"]?.(p)??""}const D={index:d,item:h.raw,internalItem:h,columns:n.value,isExpanded:i,toggleExpand:o,isSelected:s,toggleSelect:u},b={...D,props:N({key:`item_${h.key??h.index}`,onClick:r.value?()=>{o(h)}:void 0,index:d,item:h,cellProps:e.cellProps,collapseIcon:e.collapseIcon,expandIcon:e.expandIcon,density:e.density,mobile:m.value},we(l,":row",()=>D),typeof e.rowProps=="function"?e.rowProps({item:D.item,index:D.index,internalItem:D.internalItem}):e.rowProps)};return y(j,{key:b.props.key},[a.item?a.item(b):x(ra,b.props,a),i(h)&&a["expanded-row"]?.(D)])})])}),{}}}),oa=T({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function sa(e,t,l,a){const n=e.returnObject?t:J(t,e.itemValue),r=J(t,e.itemSelectable,!0),o=a.reduce((i,s)=>(s.key!=null&&(i[s.key]=J(t,s.value)),i),{});return{type:"item",key:e.returnObject?J(t,e.itemValue):n,index:l,value:n,selectable:r,columns:o,raw:t}}function ua(e,t,l){return t.map((a,n)=>sa(e,a,n,l))}function ia(e,t){return{items:w(()=>ua(e,e.items,t.value))}}function da(e){let{page:t,itemsPerPage:l,sortBy:a,groupBy:n,search:r}=e;const o=Te("VDataTable"),i=()=>({page:t.value,itemsPerPage:l.value,sortBy:a.value,groupBy:n.value,search:r.value});let s=null;ge(i,u=>{Fe(s,u)||(s&&s.search!==u.search&&(t.value=1),o.emit("update:options",u),s=u)},{deep:!0,immediate:!0})}const ca=T({...Je(),hideDefaultBody:Boolean,hideDefaultFooter:Boolean,hideDefaultHeader:Boolean,width:[String,Number],search:String,...la(),...Yt(),...Nt(),...oa(),...Wt(),...Kt(),...We(),...Ft()},"DataTable"),fa=T({...Bt(),...ca(),...Vt(),..._e()},"VDataTable"),ma=K()({name:"VDataTable",props:fa(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0,"update:currentItems":e=>!0},setup(e,t){let{attrs:l,slots:a}=t;const{groupBy:n}=Zt(e),{sortBy:r,multiSort:o,mustSort:i}=qt(e),{page:s,itemsPerPage:u}=_t(e),{disableSort:c}=It(e),{columns:v,headers:f,sortFunctions:m,sortRawFunctions:S,filterFunctions:h}=Mt(e,{groupBy:n,showSelect:F(()=>e.showSelect),showExpand:F(()=>e.showExpand)}),{items:d}=ia(e,v),D=F(()=>e.search),{filteredItems:b}=Dt(e,d,D,{transform:$=>$.columns,customKeyFilter:h}),{toggleSort:p}=Ut({sortBy:r,multiSort:o,mustSort:i,page:s}),{sortByWithGroups:C,opened:k,extractRows:_,isGroupOpen:H,toggleGroup:A}=Jt({groupBy:n,sortBy:r,disableSort:c}),{sortedItems:P}=Qt(e,b,C,{transform:$=>({...$.raw,...$.columns}),sortFunctions:m,sortRawFunctions:S}),{flatItems:g}=ta(P,n,k,()=>!!a["group-summary"]),I=w(()=>g.value.length),{startIndex:V,stopIndex:re,pageCount:Q,setItemsPerPage:oe}=Et({page:s,itemsPerPage:u,itemsLength:I}),{paginatedItems:R}=At({items:g,startIndex:V,stopIndex:re,itemsPerPage:u}),G=w(()=>_(R.value)),{isSelected:se,select:et,selectAll:tt,toggleSelect:at,someSelected:lt,allSelected:nt}=zt(e,{allItems:d,currentPage:G}),{isExpanded:rt,toggleExpand:ot}=na(e);da({page:s,itemsPerPage:u,sortBy:r,groupBy:n,search:D}),Tt({VDataTableRows:{hideNoData:F(()=>e.hideNoData),noDataText:F(()=>e.noDataText),loading:F(()=>e.loading),loadingText:F(()=>e.loadingText)}});const E=w(()=>({page:s.value,itemsPerPage:u.value,sortBy:r.value,pageCount:Q.value,toggleSort:p,setItemsPerPage:oe,someSelected:lt.value,allSelected:nt.value,isSelected:se,select:et,selectAll:tt,toggleSelect:at,isExpanded:rt,toggleExpand:ot,isGroupOpen:H,toggleGroup:A,items:G.value.map($=>$.raw),internalItems:G.value,groupedItems:R.value,columns:v.value,headers:f.value}));return U(()=>{const $=ke.filterProps(e),st=Ie.filterProps(e),ut=De.filterProps(e),it=Se.filterProps(e);return x(Se,N({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},it,{fixedHeader:e.fixedHeader||e.sticky}),{top:()=>a.top?.(E.value),default:()=>a.default?a.default(E.value):y(j,null,[a.colgroup?.(E.value),!e.hideDefaultHeader&&y("thead",{key:"thead"},[x(Ie,st,a)]),a.thead?.(E.value),!e.hideDefaultBody&&y("tbody",null,[a["body.prepend"]?.(E.value),a.body?a.body(E.value):x(De,N(l,ut,{items:R.value}),a),a["body.append"]?.(E.value)]),a.tbody?.(E.value),a.tfoot?.(E.value)]),bottom:()=>a.bottom?a.bottom(E.value):!e.hideDefaultFooter&&y(j,null,[x(Ct,null,null),x(ke,$,{prepend:a["footer.prepend"]})])})}),{}}});export{ma as V,ke as a};
