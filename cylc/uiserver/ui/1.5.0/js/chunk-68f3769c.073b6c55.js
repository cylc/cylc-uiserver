(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68f3769c"],{"20b0":function(e,t,n){"use strict";n.r(t);var i,o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{"data-cy":"workspace-view"}},[n("toolbar",{attrs:{views:e.views,"workflow-name":e.workflowName,initialOptions:{}},on:{add:this.addView}}),n("div",{staticClass:"workflow-panel fill-height"},[n("lumino",{ref:"lumino",attrs:{"tab-title-prop":"tab-title"},on:{"lumino:deleted":e.onWidgetDeletedEvent}},e._l(e.widgets,(function(t,i){return n("v-skeleton-loader",{key:i,attrs:{id:i,loading:e.isLoading,"tab-title":t.view.data().widget.title,type:"list-item-three-line"}},[n(t.view,{tag:"component",staticClass:"h-100",attrs:{"workflow-name":e.workflowName,initialOptions:t.initialOptions}})],1)})),1)],1)],1)},r=[],s=(n("d9e2"),n("a026"));function a(e){var t;return t="function"===typeof e.iter?e.iter():new h(e),t}function c(e,t){var n,i=0,o=a(e);while(void 0!==(n=o.next()))if(!1===t(n,i++))return}function l(e,t){var n,i=0,o=a(e);while(void 0!==(n=o.next()))if(!t(n,i++))return!1;return!0}function d(e,t){var n,i=0,o=a(e);while(void 0!==(n=o.next()))if(t(n,i++))return!0;return!1}function u(e){var t,n=0,i=[],o=a(e);while(void 0!==(t=o.next()))i[n++]=t;return i}(function(e){function t(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o,r=e.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=i<n?i+1+(r-n):i-n+1;for(var s=0;s<o;++s){var a=(n+s)%r;if(e[a]===t)return a}return-1}function n(e,t,n,i){void 0===n&&(n=-1),void 0===i&&(i=0);var o,r=e.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=n<i?n+1+(r-i):n-i+1;for(var s=0;s<o;++s){var a=(n-s+r)%r;if(e[a]===t)return a}return-1}function i(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o,r=e.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=i<n?i+1+(r-n):i-n+1;for(var s=0;s<o;++s){var a=(n+s)%r;if(t(e[a],a))return a}return-1}function o(e,t,n,i){void 0===n&&(n=-1),void 0===i&&(i=0);var o,r=e.length;if(0===r)return-1;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=n<i?n+1+(r-i):n-i+1;for(var s=0;s<o;++s){var a=(n-s+r)%r;if(t(e[a],a))return a}return-1}function r(e,t,n,o){void 0===n&&(n=0),void 0===o&&(o=-1);var r=i(e,t,n,o);return-1!==r?e[r]:void 0}function s(e,t,n,i){void 0===n&&(n=-1),void 0===i&&(i=0);var r=o(e,t,n,i);return-1!==r?e[r]:void 0}function a(e,t,n,i,o){void 0===i&&(i=0),void 0===o&&(o=-1);var r=e.length;if(0===r)return 0;i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=o<0?Math.max(0,o+r):Math.min(o,r-1);var s=i,a=o-i+1;while(a>0){var c=a>>1,l=s+c;n(e[l],t)<0?(s=l+1,a-=c+1):a=c}return s}function c(e,t,n,i,o){void 0===i&&(i=0),void 0===o&&(o=-1);var r=e.length;if(0===r)return 0;i=i<0?Math.max(0,i+r):Math.min(i,r-1),o=o<0?Math.max(0,o+r):Math.min(o,r-1);var s=i,a=o-i+1;while(a>0){var c=a>>1,l=s+c;n(e[l],t)>0?a=c:(s=l+1,a-=c+1)}return s}function l(e,t,n){if(e===t)return!0;if(e.length!==t.length)return!1;for(var i=0,o=e.length;i<o;++i)if(n?!n(e[i],t[i]):e[i]!==t[i])return!1;return!0}function d(e,t){void 0===t&&(t={});var n=t.start,i=t.stop,o=t.step;if(void 0===o&&(o=1),0===o)throw new Error("Slice `step` cannot be zero.");var r,s=e.length;void 0===n?n=o<0?s-1:0:n<0?n=Math.max(n+s,o<0?-1:0):n>=s&&(n=o<0?s-1:s),void 0===i?i=o<0?-1:s:i<0?i=Math.max(i+s,o<0?-1:0):i>=s&&(i=o<0?s-1:s),r=o<0&&i>=n||o>0&&n>=i?0:o<0?Math.floor((i-n+1)/o+1):Math.floor((i-n-1)/o+1);for(var a=[],c=0;c<r;++c)a[c]=e[n+c*o];return a}function u(e,t,n){var i=e.length;if(!(i<=1)&&(t=t<0?Math.max(0,t+i):Math.min(t,i-1),n=n<0?Math.max(0,n+i):Math.min(n,i-1),t!==n)){for(var o=e[t],r=t<n?1:-1,s=t;s!==n;s+=r)e[s]=e[s+r];e[n]=o}}function h(e,t,n){void 0===t&&(t=0),void 0===n&&(n=-1);var i=e.length;if(!(i<=1)){t=t<0?Math.max(0,t+i):Math.min(t,i-1),n=n<0?Math.max(0,n+i):Math.min(n,i-1);while(t<n){var o=e[t],r=e[n];e[t++]=r,e[n--]=o}}}function p(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o=e.length;if(!(o<=1)&&(n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=i<0?Math.max(0,i+o):Math.min(i,o-1),!(n>=i))){var r=i-n+1;if(t>0?t%=r:t<0&&(t=(t%r+r)%r),0!==t){var s=n+t;h(e,n,s-1),h(e,s,i),h(e,n,i)}}}function m(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o=e.length;if(0!==o){var r;n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=i<0?Math.max(0,i+o):Math.min(i,o-1),r=i<n?i+1+(o-n):i-n+1;for(var s=0;s<r;++s)e[(n+s)%o]=t}}function f(e,t,n){var i=e.length;t=t<0?Math.max(0,t+i):Math.min(t,i);for(var o=i;o>t;--o)e[o]=e[o-1];e[t]=n}function v(e,t){var n=e.length;if(t<0&&(t+=n),!(t<0||t>=n)){for(var i=e[t],o=t+1;o<n;++o)e[o-1]=e[o];return e.length=n-1,i}}function g(e,n,i,o){void 0===i&&(i=0),void 0===o&&(o=-1);var r=t(e,n,i,o);return-1!==r&&v(e,r),r}function _(e,t,i,o){void 0===i&&(i=-1),void 0===o&&(o=0);var r=n(e,t,i,o);return-1!==r&&v(e,r),r}function y(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o=e.length;if(0===o)return 0;n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=i<0?Math.max(0,i+o):Math.min(i,o-1);for(var r=0,s=0;s<o;++s)n<=i&&s>=n&&s<=i&&e[s]===t||i<n&&(s<=i||s>=n)&&e[s]===t?r++:r>0&&(e[s-r]=e[s]);return r>0&&(e.length=o-r),r}function b(e,t,n,o){var r;void 0===n&&(n=0),void 0===o&&(o=-1);var s=i(e,t,n,o);return-1!==s&&(r=v(e,s)),{index:s,value:r}}function w(e,t,n,i){var r;void 0===n&&(n=-1),void 0===i&&(i=0);var s=o(e,t,n,i);return-1!==s&&(r=v(e,s)),{index:s,value:r}}function x(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var o=e.length;if(0===o)return 0;n=n<0?Math.max(0,n+o):Math.min(n,o-1),i=i<0?Math.max(0,i+o):Math.min(i,o-1);for(var r=0,s=0;s<o;++s)n<=i&&s>=n&&s<=i&&t(e[s],s)||i<n&&(s<=i||s>=n)&&t(e[s],s)?r++:r>0&&(e[s-r]=e[s]);return r>0&&(e.length=o-r),r}e.firstIndexOf=t,e.lastIndexOf=n,e.findFirstIndex=i,e.findLastIndex=o,e.findFirstValue=r,e.findLastValue=s,e.lowerBound=a,e.upperBound=c,e.shallowEqual=l,e.slice=d,e.move=u,e.reverse=h,e.rotate=p,e.fill=m,e.insert=f,e.removeAt=v,e.removeFirstOf=g,e.removeLastOf=_,e.removeAllOf=y,e.removeFirstWhere=b,e.removeLastWhere=w,e.removeAllWhere=x})(i||(i={}));var h=function(){function e(e){this._index=0,this._source=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._source.length))return this._source[this._index++]},e}();(function(){function e(e,t){void 0===t&&(t=Object.keys(e)),this._index=0,this._source=e,this._keys=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source,this._keys);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?e:this.next()}}})(),function(){function e(e,t){void 0===t&&(t=Object.keys(e)),this._index=0,this._source=e,this._keys=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source,this._keys);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?this._source[e]:this.next()}}}(),function(){function e(e,t){void 0===t&&(t=Object.keys(e)),this._index=0,this._source=e,this._keys=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source,this._keys);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._keys.length)){var e=this._keys[this._index++];return e in this._source?[e,this._source[e]]:this.next()}}}(),function(){function e(e){this._fn=e}e.prototype.iter=function(){return this},e.prototype.clone=function(){throw new Error("An `FnIterator` cannot be cloned.")},e.prototype.next=function(){return this._fn.call(void 0)}}();function p(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new m(a(e.map(a)))}var m=function(){function e(e){this._cloned=!1,this._source=e,this._active=void 0}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone());return t._active=this._active&&this._active.clone(),t._cloned=!0,this._cloned=!0,t},e.prototype.next=function(){if(void 0===this._active){var e=this._source.next();if(void 0===e)return;this._active=this._cloned?e.clone():e}var t=this._active.next();return void 0!==t?t:(this._active=void 0,this.next())},e}();function f(){return new v}var v=function(){function e(){}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e},e.prototype.next=function(){},e}();(function(){function e(e,t){this._source=e,this._index=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._index)},e.prototype.next=function(){var e=this._source.next();if(void 0!==e)return[this._index++,e]}})();function g(e,t){return new _(a(e),t)}var _=function(){function e(e,t){this._index=0,this._source=e,this._fn=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone(),this._fn);return t._index=this._index,t},e.prototype.next=function(){var e,t=this._fn,n=this._source;while(void 0!==(e=n.next()))if(t(e,this._index++))return e},e}();function y(e,t){var n,i=0,o=a(e);while(void 0!==(n=o.next()))if(t(n,i++))return n}function b(e,t){var n=a(e),i=n.next();if(void 0!==i){var o=i;while(void 0!==(i=n.next()))t(i,o)>0&&(o=i);return o}}function w(e,t){return new x(a(e),t)}var x=function(){function e(e,t){this._index=0,this._source=e,this._fn=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone(),this._fn);return t._index=this._index,t},e.prototype.next=function(){var e=this._source.next();if(void 0!==e)return this._fn.call(void 0,e,this._index++)},e}();var M;(function(){function e(e,t,n){this._index=0,this._start=e,this._stop=t,this._step=n,this._length=M.rangeLength(e,t,n)}e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._start,this._stop,this._step);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._length))return this._start+this._step*this._index++}})();function C(e,t,n){var i=0,o=a(e),r=o.next();if(void 0===r&&void 0===n)throw new TypeError("Reduce of empty iterable with no initial value.");if(void 0===r)return n;var s,c,l=o.next();if(void 0===l&&void 0===n)return r;if(void 0===l)return t(n,r,i++);s=t(void 0===n?r:t(n,r,i++),l,i++);while(void 0!==(c=o.next()))s=t(s,c,i++);return s}function E(e){return new S(e,1)}(function(e){function t(e,t,n){return 0===n?1/0:e>t&&n>0||e<t&&n<0?0:Math.ceil((t-e)/n)}e.rangeLength=t})(M||(M={}));var S=function(){function e(e,t){this._value=e,this._count=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._value,this._count)},e.prototype.next=function(){if(!(this._count<=0))return this._count--,this._value},e}();function k(e){var t;return t="function"===typeof e.retro?e.retro():new I(e),t}var I=function(){function e(e){this._source=e,this._index=e.length-1}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index<0||this._index>=this._source.length))return this._source[this._index--]},e}();var A;(function(){function e(e,t){this._source=e,this._step=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._step)},e.prototype.next=function(){for(var e=this._source.next(),t=this._step-1;t>0;--t)this._source.next();return e}})();(function(e){function t(e,t,n){void 0===n&&(n=0);for(var i=new Array(t.length),o=0,r=n,s=t.length;o<s;++o,++r){if(r=e.indexOf(t[o],r),-1===r)return null;i[o]=r}return i}function n(e,n,i){void 0===i&&(i=0);var o=t(e,n,i);if(!o)return null;for(var r=0,s=0,a=o.length;s<a;++s){var c=o[s]-i;r+=c*c}return{score:r,indices:o}}function i(e,n,i){void 0===i&&(i=0);var o=t(e,n,i);if(!o)return null;for(var r=0,s=i-1,a=0,c=o.length;a<c;++a){var l=o[a];r+=l-s-1,s=l}return{score:r,indices:o}}function o(e,t,n){var i=[],o=0,r=0,s=t.length;while(o<s){var a=t[o],c=t[o];while(++o<s&&t[o]===c+1)c++;r<a&&i.push(e.slice(r,a)),a<c+1&&i.push(n(e.slice(a,c+1))),r=c+1}return r<e.length&&i.push(e.slice(r)),i}function r(e,t){return e<t?-1:e>t?1:0}e.findIndices=t,e.matchSumOfSquares=n,e.matchSumOfDeltas=i,e.highlight=o,e.cmp=r})(A||(A={}));(function(){function e(e,t){this._source=e,this._count=t}e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._count)},e.prototype.next=function(){if(!(this._count<=0)){var e=this._source.next();if(void 0!==e)return this._count--,e}}})();(function(){function e(e){this._source=e}e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.map((function(e){return e.clone()})))},e.prototype.next=function(){for(var e=new Array(this._source.length),t=0,n=this._source.length;t<n;++t){var i=this._source[t].next();if(void 0===i)return;e[t]=i}return e}})();var z=n("1b62"),L=n("a254"),P=n("ebc4"),T=n("7376");function D(){var e="/home/runner/work/cylc-ui/cylc-ui/src/components/cylc/workflow/index.js",t="6915d19864f6e65ae474043b576dd1c96ecf89b2",n=new Function("return this")(),i="__coverage__",o={path:"/home/runner/work/cylc-ui/cylc-ui/src/components/cylc/workflow/index.js",statementMap:{0:{start:{line:22,column:2},end:{line:22,column:36}}},fnMap:{0:{name:"createWidgetId",decl:{start:{line:21,column:9},end:{line:21,column:23}},loc:{start:{line:21,column:27},end:{line:23,column:1}},line:21}},branchMap:{},s:{0:0},f:{0:0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"6915d19864f6e65ae474043b576dd1c96ecf89b2"},r=n[i]||(n[i]={});r[e]&&r[e].hash===t||(r[e]=o);var s=r[e];return D=function(){return s},s}function O(){return D().f[0]++,D().s[0]++,""+(new Date).getTime()}D();var B,R,N,j,W,H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"workflow-panel"},[n("div",{ref:"main",staticClass:"main pa-2 fill-height"}),n("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[e._t("default")],2)])])},F=[];n("caad");(function(e){function t(e){var t=document.body,n=function(i){i.preventDefault(),i.stopPropagation(),i.clipboardData.setData("text",e),t.removeEventListener("copy",n,!0)};t.addEventListener("copy",n,!0),document.execCommand("copy")}e.copyText=t})(B||(B={})),function(e){function t(e){var t=window.getComputedStyle(e),n=parseFloat(t.borderTopWidth)||0,i=parseFloat(t.borderLeftWidth)||0,o=parseFloat(t.borderRightWidth)||0,r=parseFloat(t.borderBottomWidth)||0,s=parseFloat(t.paddingTop)||0,a=parseFloat(t.paddingLeft)||0,c=parseFloat(t.paddingRight)||0,l=parseFloat(t.paddingBottom)||0,d=i+a+c+o,u=n+s+l+r;return{borderTop:n,borderLeft:i,borderRight:o,borderBottom:r,paddingTop:s,paddingLeft:a,paddingRight:c,paddingBottom:l,horizontalSum:d,verticalSum:u}}function n(e){var t=window.getComputedStyle(e),n=parseFloat(t.minWidth)||0,i=parseFloat(t.minHeight)||0,o=parseFloat(t.maxWidth)||1/0,r=parseFloat(t.maxHeight)||1/0;return o=Math.max(n,o),r=Math.max(i,r),{minWidth:n,minHeight:i,maxWidth:o,maxHeight:r}}function i(e,t,n){var i=e.getBoundingClientRect();return t>=i.left&&t<i.right&&n>=i.top&&n<i.bottom}function o(e,t){var n=e.getBoundingClientRect(),i=t.getBoundingClientRect();i.top<=n.top&&i.bottom>=n.bottom||(i.top<n.top&&i.height<=n.height||i.bottom>n.bottom&&i.height>=n.height?e.scrollTop-=n.top-i.top:(i.top<n.top&&i.height>n.height||i.bottom>n.bottom&&i.height<n.height)&&(e.scrollTop-=n.bottom-i.bottom))}e.boxSizing=t,e.sizeLimits=n,e.hitTest=i,e.scrollIntoViewIfNeeded=o}(R||(R={})),function(e){function t(t){return e.IS_MAC?t.metaKey:t.ctrlKey}e.IS_MAC=!!navigator.platform.match(/Mac/i),e.IS_WIN=!!navigator.platform.match(/Win/i),e.IS_IE=/Trident/.test(navigator.userAgent),e.IS_EDGE=/Edge/.test(navigator.userAgent),e.accelKey=t}(N||(N={})),function(e){function t(e){if(e in W.specificityCache)return W.specificityCache[e];var t=W.calculateSingle(e);return W.specificityCache[e]=t}function n(e){if(e in W.validityCache)return W.validityCache[e];var t=!0;try{W.testElem.querySelector(e)}catch(n){t=!1}return W.validityCache[e]=t}function i(e,t){return W.protoMatchFunc.call(e,t)}e.calculateSpecificity=t,e.isValid=n,e.matches=i}(j||(j={})),function(e){function t(e){e=e.split(",",1)[0];var t=0,d=0,u=0;function h(t){var n=e.match(t);return null!==n&&(e=e.slice(n[0].length),!0)}e=e.replace(l," $1 ");while(e.length>0)if(h(n))t++;else if(h(i))d++;else if(h(o))d++;else if(h(s))u++;else if(h(a))d++;else if(h(r))u++;else if(!h(c))return 0;return t=Math.min(t,255),d=Math.min(d,255),u=Math.min(u,255),t<<16|d<<8|u}e.specificityCache=Object.create(null),e.validityCache=Object.create(null),e.testElem=document.createElement("div"),e.protoMatchFunc=function(){var e=Element.prototype;return e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector||function(e){var t=this,n=t.ownerDocument?t.ownerDocument.querySelectorAll(e):[];return-1!==Array.prototype.indexOf.call(n,t)}}(),e.calculateSingle=t;var n=/^#[^\s\+>~#\.\[:]+/,i=/^\.[^\s\+>~#\.\[:]+/,o=/^\[[^\]]+\]/,r=/^[^\s\+>~#\.\[:]+/,s=/^(::[^\s\+>~#\.\[:]+|:first-line|:first-letter|:before|:after)/,a=/^:[^\s\+>~#\.\[:]+/,c=/^[\s\+>~\*]+/,l=/:not\(([^\)]+)\)/g}(W||(W={}));var q,K=function(){function e(e){this._root=new q.LeafNode,this.cmp=e}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this._root.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._root.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"first",{get:function(){var e=q.firstLeaf(this._root);return e.size>0?e.items[0]:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){var e=q.lastLeaf(this._root);return e.size>0?e.items[e.size-1]:void 0},enumerable:!0,configurable:!0}),e.prototype.iter=function(){return q.iterItems(this._root)},e.prototype.retro=function(){return q.retroItems(this._root)},e.prototype.slice=function(e,t){return q.sliceItems(this._root,e,t)},e.prototype.retroSlice=function(e,t){return q.retroSliceItems(this._root,e,t)},e.prototype.at=function(e){return q.itemAt(this._root,e)},e.prototype.has=function(e,t){return q.hasItem(this._root,e,t)},e.prototype.indexOf=function(e,t){return q.indexOf(this._root,e,t)},e.prototype.get=function(e,t){return q.getItem(this._root,e,t)},e.prototype.assign=function(e){this.clear(),this.update(e)},e.prototype.insert=function(e){var t=q.insertItem(this._root,e,this.cmp);return this._root=q.maybeSplitRoot(this._root),t},e.prototype.update=function(e){var t=this;c(e,(function(e){t.insert(e)}))},e.prototype.delete=function(e,t){var n=q.deleteItem(this._root,e,t);return this._root=q.maybeExtractRoot(this._root),n},e.prototype.remove=function(e){var t=q.removeItem(this._root,e);return this._root=q.maybeExtractRoot(this._root),t},e.prototype.clear=function(){q.clear(this._root),this._root=new q.LeafNode},e}();(function(e){function t(t,n){var i=new e(n);return i.assign(t),i}e.from=t})(K||(K={})),function(e){var t=function(){function e(){this.items=[],this.sizes=[],this.children=[]}return Object.defineProperty(e.prototype,"type",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.sizes[this.sizes.length-1]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.children.length},enumerable:!0,configurable:!0}),e}();e.BranchNode=t;var n=function(){function e(){this.next=null,this.prev=null,this.items=[]}return Object.defineProperty(e.prototype,"type",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.items.length},enumerable:!0,configurable:!0}),e}();function o(e){while(0===e.type)e=e.children[0];return e}function r(e){while(0===e.type)e=e.children[e.children.length-1];return e}function s(e){var t=o(e);return new C(t,0,-1)}function a(e){var t=r(e);return new E(t,t.size-1,-1)}function l(e,t,n){t=void 0===t?0:t<0?Math.max(0,t+e.size):Math.min(t,e.size),n=void 0===n?e.size:n<0?Math.max(0,n+e.size):Math.min(n,e.size);var i=Math.max(0,n-t);if(0===i)return f();while(0===e.type){var o=S(e.sizes,t);o>0&&(t-=e.sizes[o-1]),e=e.children[o]}return new C(e,t,i)}function d(e,t,n){t=void 0===t?e.size-1:t<0?Math.max(-1,t+e.size):Math.min(t,e.size-1),n=void 0===n?-1:n<0?Math.max(-1,n+e.size):Math.min(n,e.size-1);var i=Math.max(0,t-n);if(0===i)return f();while(0===e.type){var o=S(e.sizes,t);o>0&&(t-=e.sizes[o-1]),e=e.children[o]}return new E(e,t,i)}function u(e,t){if(t<0&&(t+=e.size),!(t<0||t>=e.size)){while(0===e.type){var n=S(e.sizes,t);n>0&&(t-=e.sizes[n-1]),e=e.children[n]}return e.items[t]}}function h(e,t,n){while(0===e.type){var i=k(e.items,t,n);e=e.children[i]}var o=I(e.items,t,n);return o>=0}function p(e,t,n){var i=0;while(0===e.type){var o=k(e.items,t,n);o>0&&(i+=e.sizes[o-1]),e=e.children[o]}var r=I(e.items,t,n);return r>=0?i+r:-i+r}function m(e,t,n){while(0===e.type){var i=k(e.items,t,n);e=e.children[i]}var o=I(e.items,t,n);return o>=0?e.items[o]:void 0}function v(e,t,n){if(1===e.type){var o,r=I(e.items,t,n);return r>=0?(o=e.items[r],e.items[r]=t):(o=void 0,i.insert(e.items,-r-1,t)),o}var s=k(e.items,t,n),a=e.children[s],c=a.size,l=v(a,t,n),d=a.size;if(e.items[s]=a.items[0],c===d)return l;if(a.width>x){var u=z(a);i.insert(e.children,s+1,u),i.insert(e.items,s+1,u.items[0])}return A(e,s),l}function g(e,t,n){if(1===e.type){var o=I(e.items,t,n);if(o<0)return;return i.removeAt(e.items,o)}var r=k(e.items,t,n),s=e.children[r],a=s.size,c=g(s,t,n),l=s.size;return a===l||(e.items[r]=s.items[0],s.width<M&&(r=L(e,r)),A(e,r)),c}function _(e,t){if(t<0&&(t+=e.size),!(t<0||t>=e.size)){if(1===e.type)return i.removeAt(e.items,t);var n=S(e.sizes,t);n>0&&(t-=e.sizes[n]);var o=e.children[n],r=_(o,t);return e.items[n]=o.items[0],o.width<M&&(n=L(e,n)),A(e,n),r}}function y(e){0===e.type?(c(e.children,y),e.children.length=0,e.sizes.length=0,e.items.length=0):(e.items.length=0,e.next=null,e.prev=null)}function b(e){if(e.width<=x)return e;var n=new t,i=z(e);return n.sizes[0]=e.size,n.sizes[1]=e.size+i.size,n.children[0]=e,n.children[1]=i,n.items[0]=e.items[0],n.items[1]=i.items[0],n}function w(e){if(1===e.type)return e;if(e.children.length>1)return e;var t=e.children.pop();return y(e),t}e.LeafNode=n,e.firstLeaf=o,e.lastLeaf=r,e.iterItems=s,e.retroItems=a,e.sliceItems=l,e.retroSliceItems=d,e.itemAt=u,e.hasItem=h,e.indexOf=p,e.getItem=m,e.insertItem=v,e.deleteItem=g,e.removeItem=_,e.clear=y,e.maybeSplitRoot=b,e.maybeExtractRoot=w;var x=32,M=x>>1,C=function(){function e(e,t,n){this._node=e,this._index=t,this._count=n}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node,this._index,this._count)},e.prototype.next=function(){if(null!==this._node&&0!==this._count)return this._index>=this._node.size?(this._node=this._node.next,this._index=0,this.next()):(this._count>0&&this._count--,this._node.items[this._index++])},e}(),E=function(){function e(e,t,n){this._node=e,this._index=t,this._count=n}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node,this._index,this._count)},e.prototype.next=function(){if(null!==this._node&&0!==this._count)return this._index>=this._node.size&&(this._index=this._node.size-1),this._index<0?(this._node=this._node.prev,this._index=this._node?this._node.size-1:-1,this.next()):(this._count>0&&this._count--,this._node.items[this._index--])},e}();function S(e,t){for(var n=e.length,i=0;i<n;++i)if(e[i]>t)return i;return n-1}function k(e,t,n){for(var i=e.length,o=1;o<i;++o)if(n(e[o],t)>0)return o-1;return i-1}function I(e,t,n){for(var i=e.length,o=0;o<i;++o){var r=n(e[o],t);if(0===r)return o;if(r>0)return-o-1}return-i-1}function A(e,t){for(var n=e.sizes,i=e.children,o=t>0?n[t-1]:0,r=i.length;t<r;++t)o=n[t]=o+i[t].size;n.length=i.length}function z(e){if(1===e.type){for(var i=new n,o=e.items,r=i.items,s=M,a=o.length;s<a;++s)r.push(o[s]);return o.length=M,e.next&&(e.next.prev=i),i.next=e.next,i.prev=e,e.next=i,i}var c=new t,l=e.children,d=c.children;for(s=M,a=l.length;s<a;++s)d.push(l[s]);l.length=M;var u=e.items,h=c.items;for(s=M,a=u.length;s<a;++s)h.push(u[s]);return u.length=M,A(e,M),A(c,0),c}function L(e,t){var n,o,r,s,a,c,l=e.children[t],d=0===t?e.children[t+1]:e.children[t-1],u=0===t,h=1===l.type,p=d.width>M;if(h&&p&&u){var m=l,f=d;return m.items.push(f.items.shift()),e.items[t+1]=f.items[0],t}if(h&&p&&!u){m=l,f=d;return m.items.unshift(f.items.pop()),e.items[t]=m.items[0],t-1}if(h&&!p&&u){m=l,f=d;return(n=f.items).unshift.apply(n,m.items),i.removeAt(e.children,t),i.removeAt(e.items,t+1),m.prev&&(m.prev.next=f),f.prev=m.prev,y(m),t}if(h&&!p&&!u){m=l,f=d;return(o=f.items).push.apply(o,m.items),i.removeAt(e.children,t),i.removeAt(e.items,t),m.next&&(m.next.prev=f),f.next=m.next,y(m),t-1}if(!h&&p&&u){m=l,f=d;return m.children.push(f.children.shift()),m.items.push(f.items.shift()),e.items[t+1]=f.items[0],A(m,m.width-1),A(f,0),t}if(!h&&p&&!u){m=l,f=d;return m.children.unshift(f.children.pop()),m.items.unshift(f.items.pop()),e.items[t]=m.items[0],A(m,0),A(f,f.width-1),t-1}if(!h&&!p&&u){m=l,f=d;return(r=f.children).unshift.apply(r,m.children),(s=f.items).unshift.apply(s,m.items),i.removeAt(e.children,t),i.removeAt(e.items,t+1),A(f,0),m.children.length=0,y(m),t}if(!h&&!p&&!u){m=l,f=d;return(a=f.children).push.apply(a,m.children),(c=f.items).push.apply(c,m.items),i.removeAt(e.children,t),i.removeAt(e.items,t),A(f,0),m.children.length=0,y(m),t-1}throw"unreachable"}}(q||(q={}));var V,U=function(){function e(){this._first=null,this._last=null,this._size=0}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"first",{get:function(){return this._first?this._first.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){return this._last?this._last.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstNode",{get:function(){return this._first},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastNode",{get:function(){return this._last},enumerable:!0,configurable:!0}),e.prototype.iter=function(){return new e.ForwardValueIterator(this._first)},e.prototype.retro=function(){return new e.RetroValueIterator(this._last)},e.prototype.nodes=function(){return new e.ForwardNodeIterator(this._first)},e.prototype.retroNodes=function(){return new e.RetroNodeIterator(this._last)},e.prototype.assign=function(e){var t=this;this.clear(),c(e,(function(e){t.addLast(e)}))},e.prototype.push=function(e){this.addLast(e)},e.prototype.pop=function(){return this.removeLast()},e.prototype.shift=function(e){this.addFirst(e)},e.prototype.unshift=function(){return this.removeFirst()},e.prototype.addFirst=function(e){var t=new V.LinkedListNode(this,e);return this._first?(t.next=this._first,this._first.prev=t,this._first=t):(this._first=t,this._last=t),this._size++,t},e.prototype.addLast=function(e){var t=new V.LinkedListNode(this,e);return this._last?(t.prev=this._last,this._last.next=t,this._last=t):(this._first=t,this._last=t),this._size++,t},e.prototype.insertBefore=function(e,t){if(!t||t===this._first)return this.addFirst(e);if(!(t instanceof V.LinkedListNode)||t.list!==this)throw new Error("Reference node is not owned by the list.");var n=new V.LinkedListNode(this,e),i=t,o=i.prev;return n.next=i,n.prev=o,i.prev=n,o.next=n,this._size++,n},e.prototype.insertAfter=function(e,t){if(!t||t===this._last)return this.addLast(e);if(!(t instanceof V.LinkedListNode)||t.list!==this)throw new Error("Reference node is not owned by the list.");var n=new V.LinkedListNode(this,e),i=t,o=i.next;return n.next=o,n.prev=i,i.next=n,o.prev=n,this._size++,n},e.prototype.removeFirst=function(){var e=this._first;if(e)return e===this._last?(this._first=null,this._last=null):(this._first=e.next,this._first.prev=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value},e.prototype.removeLast=function(){var e=this._last;if(e)return e===this._first?(this._first=null,this._last=null):(this._last=e.prev,this._last.next=null),e.list=null,e.next=null,e.prev=null,this._size--,e.value},e.prototype.removeNode=function(e){if(!(e instanceof V.LinkedListNode)||e.list!==this)throw new Error("Node is not owned by the list.");var t=e;t===this._first&&t===this._last?(this._first=null,this._last=null):t===this._first?(this._first=t.next,this._first.prev=null):t===this._last?(this._last=t.prev,this._last.next=null):(t.next.prev=t.prev,t.prev.next=t.next),t.list=null,t.next=null,t.prev=null,this._size--},e.prototype.clear=function(){var e=this._first;while(e){var t=e.next;e.list=null,e.prev=null,e.next=null,e=t}this._first=null,this._last=null,this._size=0},e}();(function(e){function t(t){var n=new e;return n.assign(t),n}e.from=t;var n=function(){function e(e){this._node=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node)},e.prototype.next=function(){if(this._node){var e=this._node;return this._node=e.next,e.value}},e}();e.ForwardValueIterator=n;var i=function(){function e(e){this._node=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node)},e.prototype.next=function(){if(this._node){var e=this._node;return this._node=e.prev,e.value}},e}();e.RetroValueIterator=i;var o=function(){function e(e){this._node=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node)},e.prototype.next=function(){if(this._node){var e=this._node;return this._node=e.next,e}},e}();e.ForwardNodeIterator=o;var r=function(){function e(e){this._node=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node)},e.prototype.next=function(){if(this._node){var e=this._node;return this._node=e.prev,e}},e}();e.RetroNodeIterator=r})(U||(U={})),function(e){var t=function(){function e(e,t){this.list=null,this.next=null,this.prev=null,this.list=e,this.value=t}return e}();e.LinkedListNode=t}(V||(V={}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var Y=function(e,t){return Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Y(e,t)};function X(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Y(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var $,G=function(){function e(e){this.type=e}return Object.defineProperty(e.prototype,"isConflatable",{get:function(){return!1},enumerable:!0,configurable:!0}),e.prototype.conflate=function(e){return!1},e}(),J=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return X(t,e),Object.defineProperty(t.prototype,"isConflatable",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.conflate=function(e){return!0},t}(G);(function(e){function t(e,t){var n=m.get(e);if(n&&0!==n.length){var i=l(k(n),(function(n){return!n||w(n,e,t)}));i&&x(e,t)}else x(e,t)}function n(e,t){if(t.isConflatable){var n=d(p,(function(n){return n.handler===e&&(!!n.msg&&(n.msg.type===t.type&&(!!n.msg.isConflatable&&n.msg.conflate(t))))}));n||M(e,t)}else M(e,t)}function o(e,t){var n=m.get(e);n&&-1!==n.indexOf(t)||(n?n.push(t):m.set(e,[t]))}function r(e,t){var n=m.get(e);if(n){var i=n.indexOf(t);-1!==i&&(n[i]=null,E(n))}}function s(e){var t=m.get(e);t&&t.length>0&&(i.fill(t,null),E(t)),c(p,(function(t){t.handler===e&&(t.handler=null,t.msg=null)}))}function a(){_||0===g||(b(g),_=!0,C(),_=!1)}function u(){return v}function h(e){var t=v;return v=e,t}e.sendMessage=t,e.postMessage=n,e.installMessageHook=o,e.removeMessageHook=r,e.clearData=s,e.flush=a,e.getExceptionHandler=u,e.setExceptionHandler=h;var p=new U,m=new WeakMap,f=new Set,v=function(e){console.error(e)},g=0,_=!1,y=function(){var e="function"===typeof requestAnimationFrame;return e?requestAnimationFrame:setImmediate}(),b=function(){var e="function"===typeof cancelAnimationFrame;return e?cancelAnimationFrame:clearImmediate}();function w(e,t,n){var i=!0;try{i="function"===typeof e?e(t,n):e.messageHook(t,n)}catch(o){v(o)}return i}function x(e,t){try{e.processMessage(t)}catch(n){v(n)}}function M(e,t){p.addLast({handler:e,msg:t}),0===g&&(g=y(C))}function C(){if(g=0,!p.isEmpty){var e={handler:null,msg:null};p.addLast(e);while(1){var n=p.removeFirst();if(n===e)return;n.handler&&n.msg&&t(n.handler,n.msg)}}}function E(e){0===f.size&&y(S),f.add(e)}function S(){f.forEach(I),f.clear()}function I(e){i.removeAllWhere(e,A)}function A(e){return null===e}})($||($={}));var Z,Q=function(){function e(e){this._pid=Z.nextPID(),this.name=e.name,this._create=e.create,this._coerce=e.coerce||null,this._compare=e.compare||null,this._changed=e.changed||null}return e.prototype.get=function(e){var t,n=Z.ensureMap(e);return t=this._pid in n?n[this._pid]:n[this._pid]=this._createValue(e),t},e.prototype.set=function(e,t){var n,i=Z.ensureMap(e);n=this._pid in i?i[this._pid]:i[this._pid]=this._createValue(e);var o=this._coerceValue(e,t);this._maybeNotify(e,n,i[this._pid]=o)},e.prototype.coerce=function(e){var t,n=Z.ensureMap(e);t=this._pid in n?n[this._pid]:n[this._pid]=this._createValue(e);var i=this._coerceValue(e,t);this._maybeNotify(e,t,n[this._pid]=i)},e.prototype._createValue=function(e){var t=this._create;return t(e)},e.prototype._coerceValue=function(e,t){var n=this._coerce;return n?n(e,t):t},e.prototype._compareValue=function(e,t){var n=this._compare;return n?n(e,t):e===t},e.prototype._maybeNotify=function(e,t,n){var i=this._changed;i&&!this._compareValue(t,n)&&i(e,t,n)},e}();(function(e){function t(e){Z.ownerData.delete(e)}e.clearData=t})(Q||(Q={})),function(e){function t(t){var n=e.ownerData.get(t);return n||(n=Object.create(null),e.ownerData.set(t,n),n)}e.ownerData=new WeakMap,e.nextPID=function(){var e=0;return function(){var t=Math.random(),n=(""+t).slice(2);return"pid-"+n+"-"+e++}}(),e.ensureMap=t}(Z||(Z={}));var ee,te=function(){function e(e){this.sender=e}return e.prototype.connect=function(e,t){return ee.connect(this,e,t)},e.prototype.disconnect=function(e,t){return ee.disconnect(this,e,t)},e.prototype.emit=function(e){ee.emit(this,e)},e}();(function(e){function t(e,t){ee.disconnectBetween(e,t)}function n(e){ee.disconnectSender(e)}function i(e){ee.disconnectReceiver(e)}function o(e){ee.disconnectAll(e)}function r(e){ee.disconnectAll(e)}function s(){return ee.exceptionHandler}function a(e){var t=ee.exceptionHandler;return ee.exceptionHandler=e,t}e.disconnectBetween=t,e.disconnectSender=n,e.disconnectReceiver=i,e.disconnectAll=o,e.clearData=r,e.getExceptionHandler=s,e.setExceptionHandler=a})(te||(te={})),function(e){function t(e,t,n){n=n||void 0;var i=d.get(e.sender);if(i||(i=[],d.set(e.sender,i)),m(i,e,t,n))return!1;var o=n||t,r=u.get(o);r||(r=[],u.set(o,r));var s={signal:e,slot:t,thisArg:n};return i.push(s),r.push(s),!0}function n(e,t,n){n=n||void 0;var i=d.get(e.sender);if(!i||0===i.length)return!1;var o=m(i,e,t,n);if(!o)return!1;var r=n||t,s=u.get(r);return o.signal=null,v(i),v(s),!0}function o(e,t){var n=d.get(e);if(n&&0!==n.length){var i=u.get(t);i&&0!==i.length&&(c(i,(function(t){t.signal&&t.signal.sender===e&&(t.signal=null)})),v(n),v(i))}}function r(e){var t=d.get(e);t&&0!==t.length&&(c(t,(function(e){if(e.signal){var t=e.thisArg||e.slot;e.signal=null,v(u.get(t))}})),v(t))}function s(e){var t=u.get(e);t&&0!==t.length&&(c(t,(function(e){if(e.signal){var t=e.signal.sender;e.signal=null,v(d.get(t))}})),v(t))}function a(e){r(e),s(e)}function l(e,t){var n=d.get(e.sender);if(n&&0!==n.length)for(var i=0,o=n.length;i<o;++i){var r=n[i];r.signal===e&&f(r,t)}}e.exceptionHandler=function(e){console.error(e)},e.connect=t,e.disconnect=n,e.disconnectBetween=o,e.disconnectSender=r,e.disconnectReceiver=s,e.disconnectAll=a,e.emit=l;var d=new WeakMap,u=new WeakMap,h=new Set,p=function(){var e="function"===typeof requestAnimationFrame;return e?requestAnimationFrame:setImmediate}();function m(e,t,n,i){return y(e,(function(e){return e.signal===t&&e.slot===n&&e.thisArg===i}))}function f(t,n){var i=t.signal,o=t.slot,r=t.thisArg;try{o.call(r,i.sender,n)}catch(s){e.exceptionHandler(s)}}function v(e){0===h.size&&p(g),h.add(e)}function g(){h.forEach(_),h.clear()}function _(e){i.removeAllWhere(e,b)}function b(e){return null===e.signal}}(ee||(ee={}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var ne=function(e,t){return ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},ne(e,t)};function ie(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ne(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var oe=function(){function e(e){this._fn=e}return Object.defineProperty(e.prototype,"isDisposed",{get:function(){return!this._fn},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){if(this._fn){var e=this._fn;this._fn=null,e()}},e}(),re=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._disposed=new te(t),t}ie(t,e),Object.defineProperty(t.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.isDisposed||(e.prototype.dispose.call(this),this._disposed.emit(void 0),te.clearData(this))}}(oe),function(){function e(){this._isDisposed=!1,this._items=new Set}return Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,this._items.forEach((function(e){e.dispose()})),this._items.clear())},e.prototype.contains=function(e){return this._items.has(e)},e.prototype.add=function(e){this._items.add(e)},e.prototype.remove=function(e){this._items.delete(e)},e.prototype.clear=function(){this._items.clear()},e}());(function(e){function t(t){var n=new e;return c(t,(function(e){n.add(e)})),n}e.from=t})(re||(re={}));var se=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._disposed=new te(t),t}return ie(t,e),Object.defineProperty(t.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.isDisposed||(e.prototype.dispose.call(this),this._disposed.emit(void 0),te.clearData(this))},t}(re);(function(e){function t(t){var n=new e;return c(t,(function(e){n.add(e)})),n}e.from=t})(se||(se={}));var ae,ce=function(){function e(e){var t=this;this._onScrollFrame=function(){if(t._scrollTarget){var e=t._scrollTarget,n=e.element,i=e.edge,o=e.distance,r=ae.SCROLL_EDGE_SIZE-o,s=Math.pow(r/ae.SCROLL_EDGE_SIZE,2),a=Math.max(1,Math.round(s*ae.SCROLL_EDGE_SIZE));switch(i){case"top":n.scrollTop-=a;break;case"left":n.scrollLeft-=a;break;case"right":n.scrollLeft+=a;break;case"bottom":n.scrollTop+=a;break}requestAnimationFrame(t._onScrollFrame)}},this._disposed=!1,this._dropAction="none",this._override=null,this._currentTarget=null,this._currentElement=null,this._promise=null,this._scrollTarget=null,this._resolve=null,this.document=e.document||document,this.mimeData=e.mimeData,this.dragImage=e.dragImage||null,this.proposedAction=e.proposedAction||"copy",this.supportedActions=e.supportedActions||"all",this.source=e.source||null}return e.prototype.dispose=function(){if(!this._disposed){if(this._disposed=!0,this._currentTarget){var e=ae.createMouseEvent("pointerup",-1,-1);ae.dispatchDragLeave(this,this._currentTarget,null,e)}this._finalize("none")}},Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),e.prototype.start=function(e,t){var n=this;if(this._disposed)return Promise.resolve("none");if(this._promise)return this._promise;this._addListeners(),this._attachDragImage(e,t),this._promise=new Promise((function(e,t){n._resolve=e}));var i=ae.createMouseEvent("pointermove",e,t);return document.dispatchEvent(i),this._promise},e.prototype.handleEvent=function(e){switch(e.type){case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"pointermove":this._evtMouseMove(e);break;case"pointerup":this._evtMouseUp(e);break;case"keydown":this._evtKeyDown(e);break;default:e.preventDefault(),e.stopPropagation();break}},e.prototype.moveDragImage=function(e,t){if(this.dragImage){var n=this.dragImage.style;n.top=t+"px",n.left=e+"px"}},e.prototype._evtMouseMove=function(e){e.preventDefault(),e.stopPropagation(),this._updateCurrentTarget(e),this._updateDragScroll(e),this.moveDragImage(e.clientX,e.clientY)},e.prototype._evtMouseUp=function(e){if(e.preventDefault(),e.stopPropagation(),0===e.button)if(this._updateCurrentTarget(e),this._currentTarget){if("none"===this._dropAction)return ae.dispatchDragLeave(this,this._currentTarget,null,e),void this._finalize("none");var t=ae.dispatchDrop(this,this._currentTarget,e);this._finalize(t)}else this._finalize("none")},e.prototype._evtKeyDown=function(e){e.preventDefault(),e.stopPropagation(),27===e.keyCode&&this.dispose()},e.prototype._addListeners=function(){document.addEventListener("mousedown",this,!0),document.addEventListener("mousemove",this,!0),document.addEventListener("mouseup",this,!0),document.addEventListener("mouseenter",this,!0),document.addEventListener("mouseleave",this,!0),document.addEventListener("mouseover",this,!0),document.addEventListener("mouseout",this,!0),document.addEventListener("pointerdown",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("pointerup",this,!0),document.addEventListener("pointerenter",this,!0),document.addEventListener("pointerleave",this,!0),document.addEventListener("pointerover",this,!0),document.addEventListener("pointerout",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("keyup",this,!0),document.addEventListener("keypress",this,!0),document.addEventListener("contextmenu",this,!0)},e.prototype._removeListeners=function(){document.removeEventListener("mousedown",this,!0),document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0),document.removeEventListener("mouseenter",this,!0),document.removeEventListener("mouseleave",this,!0),document.removeEventListener("mouseover",this,!0),document.removeEventListener("mouseout",this,!0),document.removeEventListener("pointerdown",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointerenter",this,!0),document.removeEventListener("pointerleave",this,!0),document.removeEventListener("pointerover",this,!0),document.removeEventListener("pointerout",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("keyup",this,!0),document.removeEventListener("keypress",this,!0),document.removeEventListener("contextmenu",this,!0)},e.prototype._updateDragScroll=function(e){var t=ae.findScrollTarget(e);(this._scrollTarget||t)&&(this._scrollTarget||setTimeout(this._onScrollFrame,500),this._scrollTarget=t)},e.prototype._updateCurrentTarget=function(e){var t=this._currentTarget,n=this._currentTarget,i=this._currentElement,o=this.document.elementFromPoint(e.clientX,e.clientY);this._currentElement=o,o!==i&&o!==n&&ae.dispatchDragExit(this,n,o,e),o!==i&&o!==n&&(n=ae.dispatchDragEnter(this,o,n,e)),n!==t&&(this._currentTarget=n,ae.dispatchDragLeave(this,t,n,e));var r=ae.dispatchDragOver(this,n,e);this._setDropAction(r)},e.prototype._attachDragImage=function(e,t){if(this.dragImage){this.dragImage.classList.add("lm-mod-drag-image"),this.dragImage.classList.add("p-mod-drag-image");var n=this.dragImage.style;n.pointerEvents="none",n.position="fixed",n.top=t+"px",n.left=e+"px";var i=this.document instanceof Document?this.document.body:this.document.firstElementChild;i.appendChild(this.dragImage)}},e.prototype._detachDragImage=function(){if(this.dragImage){var e=this.dragImage.parentNode;e&&e.removeChild(this.dragImage)}},e.prototype._setDropAction=function(t){if(t=ae.validateAction(t,this.supportedActions),!this._override||this._dropAction!==t)switch(t){case"none":this._dropAction=t,this._override=e.overrideCursor("no-drop",this.document);break;case"copy":this._dropAction=t,this._override=e.overrideCursor("copy",this.document);break;case"link":this._dropAction=t,this._override=e.overrideCursor("alias",this.document);break;case"move":this._dropAction=t,this._override=e.overrideCursor("move",this.document);break}},e.prototype._finalize=function(e){var t=this._resolve;this._removeListeners(),this._detachDragImage(),this._override&&(this._override.dispose(),this._override=null),this.mimeData.clear(),this._disposed=!0,this._dropAction="none",this._currentTarget=null,this._currentElement=null,this._scrollTarget=null,this._promise=null,this._resolve=null,t&&t(e)},e}();(function(e){function t(e,t){void 0===t&&(t=document);var i=++n,o=t instanceof Document?t.body:t.firstElementChild;return o.style.cursor=e,o.classList.add("lm-mod-override-cursor"),o.classList.add("p-mod-override-cursor"),new oe((function(){i===n&&(o.style.cursor="",o.classList.remove("lm-mod-override-cursor"),o.classList.remove("p-mod-override-cursor"))}))}e.overrideCursor=t;var n=0})(ce||(ce={})),function(e){function t(e,t){return l[e]&d[t]?e:"none"}function n(e,t,n){var i=document.createEvent("MouseEvent");return i.initMouseEvent(e,!0,!0,window,0,0,0,t,n,!1,!1,!1,!1,0,null),i}function i(t){for(var n=t.clientX,i=t.clientY,o=document.elementFromPoint(n,i);o;o=o.parentElement){var r=o.hasAttribute("data-lm-dragscroll");if(r=r||o.hasAttribute("data-p-dragscroll"),r){var s=0,a=0;o===document.body&&(s=window.pageXOffset,a=window.pageYOffset);var c=o.getBoundingClientRect(),l=c.top+a,d=c.left+s,u=d+c.width,h=l+c.height;if(!(n<d||n>=u||i<l||i>=h)){var p=n-d+1,m=i-l+1,f=u-n,v=h-i,g=Math.min(p,m,f,v);if(!(g>e.SCROLL_EDGE_SIZE)){var _=void 0;switch(g){case v:_="bottom";break;case m:_="top";break;case f:_="right";break;case p:_="left";break;default:throw"unreachable"}var y=o.scrollWidth-o.clientWidth,b=o.scrollHeight-o.clientHeight,w=void 0;switch(_){case"top":w=b>0&&o.scrollTop>0;break;case"left":w=y>0&&o.scrollLeft>0;break;case"right":w=y>0&&o.scrollLeft<y;break;case"bottom":w=b>0&&o.scrollTop<b;break;default:throw"unreachable"}if(w)return{element:o,edge:_,distance:g}}}}}return null}function o(e,t,n,i){if(!t)return null;var o=u("lm-dragenter",e,i,n),r=!t.dispatchEvent(o);if(r)return t;if(o=u("p-dragenter",e,i,n),r=!t.dispatchEvent(o),r)return t;var s=e.document instanceof Document?e.document.body:e.document.firstElementChild;return t===s?n:(o=u("lm-dragenter",e,i,n),s.dispatchEvent(o),o=u("p-dragenter",e,i,n),s.dispatchEvent(o),s)}function r(e,t,n,i){if(t){var o=u("lm-dragexit",e,i,n);t.dispatchEvent(o),o=u("p-dragexit",e,i,n),t.dispatchEvent(o)}}function s(e,t,n,i){if(t){var o=u("lm-dragleave",e,i,n);t.dispatchEvent(o),o=u("p-dragleave",e,i,n),t.dispatchEvent(o)}}function a(e,t,n){if(!t)return"none";var i=u("lm-dragover",e,n,null),o=!t.dispatchEvent(i);return o?i.dropAction:(i=u("p-dragover",e,n,null),o=!t.dispatchEvent(i),o?i.dropAction:"none")}function c(e,t,n){if(!t)return"none";var i=u("lm-drop",e,n,null),o=!t.dispatchEvent(i);return o?i.dropAction:(i=u("p-drop",e,n,null),o=!t.dispatchEvent(i),o?i.dropAction:"none")}e.SCROLL_EDGE_SIZE=20,e.validateAction=t,e.createMouseEvent=n,e.findScrollTarget=i,e.dispatchDragEnter=o,e.dispatchDragExit=r,e.dispatchDragLeave=s,e.dispatchDragOver=a,e.dispatchDrop=c;var l={none:0,copy:1,link:2,move:4},d={none:l["none"],copy:l["copy"],link:l["link"],move:l["move"],"copy-link":l["copy"]|l["link"],"copy-move":l["copy"]|l["move"],"link-move":l["link"]|l["move"],all:l["copy"]|l["link"]|l["move"]};function u(e,t,n,i){var o=document.createEvent("MouseEvent");return o.initMouseEvent(e,!0,!0,window,0,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,i),o.dropAction="none",o.mimeData=t.mimeData,o.proposedAction=t.proposedAction,o.supportedActions=t.supportedActions,o.source=t.source,o}}(ae||(ae={}));var le=n("587e");function de(){return he.keyboardLayout}var ue=function(){function e(t,n,i){void 0===i&&(i=[]),this.name=t,this._codes=n,this._keys=e.extractKeys(n),this._modifierKeys=e.convertToKeySet(i)}return e.prototype.keys=function(){return Object.keys(this._keys)},e.prototype.isValidKey=function(e){return e in this._keys},e.prototype.isModifierKey=function(e){return e in this._modifierKeys},e.prototype.keyForKeydownEvent=function(e){return this._codes[e.keyCode]||""},e}();(function(e){function t(e){var t=Object.create(null);for(var n in e)t[e[n]]=!0;return t}function n(e){for(var t=Object(null),n=0,i=e.length;n<i;++n)t[e[n]]=!0;return t}e.extractKeys=t,e.convertToKeySet=n})(ue||(ue={}));var he,pe=new ue("en-us",{8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",27:"Escape",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",91:"Meta",93:"ContextMenu",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Meta"},["Shift","Ctrl","Alt","Meta"]);(function(e){e.keyboardLayout=pe})(he||(he={}));var me,fe=function(){function e(){this._timerID=0,this._replaying=!1,this._keystrokes=[],this._keydownEvents=[],this._keyBindings=[],this._exactKeyMatch=null,this._commands=Object.create(null),this._commandChanged=new te(this),this._commandExecuted=new te(this),this._keyBindingChanged=new te(this)}return Object.defineProperty(e.prototype,"commandChanged",{get:function(){return this._commandChanged},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"commandExecuted",{get:function(){return this._commandExecuted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keyBindingChanged",{get:function(){return this._keyBindingChanged},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keyBindings",{get:function(){return this._keyBindings},enumerable:!0,configurable:!0}),e.prototype.listCommands=function(){return Object.keys(this._commands)},e.prototype.hasCommand=function(e){return e in this._commands},e.prototype.addCommand=function(e,t){var n=this;if(e in this._commands)throw new Error("Command '"+e+"' already registered.");return this._commands[e]=me.createCommand(t),this._commandChanged.emit({id:e,type:"added"}),new oe((function(){delete n._commands[e],n._commandChanged.emit({id:e,type:"removed"})}))},e.prototype.notifyCommandChanged=function(e){if(void 0!==e&&!(e in this._commands))throw new Error("Command '"+e+"' is not registered.");this._commandChanged.emit({id:e,type:e?"changed":"many-changed"})},e.prototype.label=function(e,t){void 0===t&&(t=le["JSONExt"].emptyObject);var n=this._commands[e];return n?n.label.call(void 0,t):""},e.prototype.mnemonic=function(e,t){void 0===t&&(t=le["JSONExt"].emptyObject);var n=this._commands[e];return n?n.mnemonic.call(void 0,t):-1},e.prototype.icon=function(e,t){void 0===t&&(t=le["JSONExt"].emptyObject);var n=this._commands[e];return n?n.icon.call(void 0,t):""},e.prototype.iconClass=function(e,t){void 0===t&&(t=le["JSONExt"].emptyObject);var n=this._commands[e];return n?n.iconClass.call(void 0,t):""},e.prototype.iconLabel=function(e,t){void 0===t&&(t=le["JSONExt"].emptyObject);var n=this._commands[e];return n?n.iconLabel.call(void 0,t):""},e.prototype.caption=function(e,t){void 0===t&&(t=le["JSONExt"].emptyObject);var n=this._commands[e];return n?n.caption.call(void 0,t):""},e.prototype.usage=function(e,t){void 0===t&&(t=le["JSONExt"].emptyObject);var n=this._commands[e];return n?n.usage.call(void 0,t):""},e.prototype.className=function(e,t){void 0===t&&(t=le["JSONExt"].emptyObject);var n=this._commands[e];return n?n.className.call(void 0,t):""},e.prototype.dataset=function(e,t){void 0===t&&(t=le["JSONExt"].emptyObject);var n=this._commands[e];return n?n.dataset.call(void 0,t):{}},e.prototype.isEnabled=function(e,t){void 0===t&&(t=le["JSONExt"].emptyObject);var n=this._commands[e];return!!n&&n.isEnabled.call(void 0,t)},e.prototype.isToggled=function(e,t){void 0===t&&(t=le["JSONExt"].emptyObject);var n=this._commands[e];return!!n&&n.isToggled.call(void 0,t)},e.prototype.isToggleable=function(e,t){var n=this._commands[e];return!!n&&n.isToggleable},e.prototype.isVisible=function(e,t){void 0===t&&(t=le["JSONExt"].emptyObject);var n=this._commands[e];return!!n&&n.isVisible.call(void 0,t)},e.prototype.execute=function(e,t){void 0===t&&(t=le["JSONExt"].emptyObject);var n,i=this._commands[e];if(!i)return Promise.reject(new Error("Command '"+e+"' not registered."));try{n=i.execute.call(void 0,t)}catch(r){n=Promise.reject(r)}var o=Promise.resolve(n);return this._commandExecuted.emit({id:e,args:t,result:o}),o},e.prototype.addKeyBinding=function(e){var t=this,n=me.createKeyBinding(e);return this._keyBindings.push(n),this._keyBindingChanged.emit({binding:n,type:"added"}),new oe((function(){i.removeFirstOf(t._keyBindings,n),t._keyBindingChanged.emit({binding:n,type:"removed"})}))},e.prototype.processKeydownEvent=function(t){if(!this._replaying&&!e.isModifierKeyPressed(t)){var n=e.keystrokeForKeydownEvent(t);if(!n)return this._replayKeydownEvents(),void this._clearPendingState();this._keystrokes.push(n);var i=me.matchKeyBinding(this._keyBindings,this._keystrokes,t),o=i.exact,r=i.partial;if(!o&&!r)return this._replayKeydownEvents(),void this._clearPendingState();if(t.preventDefault(),t.stopPropagation(),o&&!r)return this._executeKeyBinding(o),void this._clearPendingState();o&&(this._exactKeyMatch=o),this._keydownEvents.push(t),this._startTimer()}},e.prototype._startTimer=function(){var e=this;this._clearTimer(),this._timerID=window.setTimeout((function(){e._onPendingTimeout()}),me.CHORD_TIMEOUT)},e.prototype._clearTimer=function(){0!==this._timerID&&(clearTimeout(this._timerID),this._timerID=0)},e.prototype._replayKeydownEvents=function(){0!==this._keydownEvents.length&&(this._replaying=!0,this._keydownEvents.forEach(me.replayKeyEvent),this._replaying=!1)},e.prototype._executeKeyBinding=function(e){var t=e.command,n=e.args;if(this.hasCommand(t)&&this.isEnabled(t,n))this.execute(t,n);else{var i=this.hasCommand(t)?"enabled":"registered",o=e.keys.join(", "),r="Cannot execute key binding '"+o+"':",s="command '"+t+"' is not "+i+".";console.warn(r+" "+s)}},e.prototype._clearPendingState=function(){this._clearTimer(),this._exactKeyMatch=null,this._keystrokes.length=0,this._keydownEvents.length=0},e.prototype._onPendingTimeout=function(){this._timerID=0,this._exactKeyMatch?this._executeKeyBinding(this._exactKeyMatch):this._replayKeydownEvents(),this._clearPendingState()},e}();(function(e){function t(e){for(var t="",n=!1,i=!1,o=!1,r=!1,s=0,a=e.split(/\s+/);s<a.length;s++){var c=a[s];"Accel"===c?N.IS_MAC?i=!0:o=!0:"Alt"===c?n=!0:"Cmd"===c?i=!0:"Ctrl"===c?o=!0:"Shift"===c?r=!0:c.length>0&&(t=c)}return{cmd:i,ctrl:o,alt:n,shift:r,key:t}}function n(e){var n="",i=t(e);return i.ctrl&&(n+="Ctrl "),i.alt&&(n+="Alt "),i.shift&&(n+="Shift "),i.cmd&&N.IS_MAC&&(n+="Cmd "),n+i.key}function i(e){var t;return t=N.IS_WIN?e.winKeys||e.keys:N.IS_MAC?e.macKeys||e.keys:e.linuxKeys||e.keys,t.map(n)}function o(e){var n=[],i=N.IS_MAC?" ":"+",o=t(e);return o.ctrl&&n.push("Ctrl"),o.alt&&n.push("Alt"),o.shift&&n.push("Shift"),N.IS_MAC&&o.cmd&&n.push("Cmd"),n.push(o.key),n.map(me.formatKey).join(i)}function r(e){var t=de(),n=t.keyForKeydownEvent(e);return t.isModifierKey(n)}function s(e){var t=de(),n=t.keyForKeydownEvent(e);if(!n||t.isModifierKey(n))return"";var i=[];return e.ctrlKey&&i.push("Ctrl"),e.altKey&&i.push("Alt"),e.shiftKey&&i.push("Shift"),e.metaKey&&N.IS_MAC&&i.push("Cmd"),i.push(n),i.join(" ")}e.parseKeystroke=t,e.normalizeKeystroke=n,e.normalizeKeys=i,e.formatKeystroke=o,e.isModifierKeyPressed=r,e.keystrokeForKeydownEvent=s})(fe||(fe={})),function(e){function t(e){var t,n;return e.icon&&"string"!==typeof e.icon?(n=m(e.iconClass,c),t=m(e.icon,p)):(n=m(e.iconClass||e.icon,c),t=n),{execute:e.execute,label:m(e.label,c),mnemonic:m(e.mnemonic,l),icon:t,iconClass:n,iconLabel:m(e.iconLabel,c),caption:m(e.caption,c),usage:m(e.usage,c),className:m(e.className,c),dataset:m(e.dataset,h),isEnabled:e.isEnabled||d,isToggled:e.isToggled||u,isToggleable:e.isToggleable||!!e.isToggled,isVisible:e.isVisible||d}}function n(e){return{keys:fe.normalizeKeys(e),selector:f(e),command:e.command,args:e.args||le["JSONExt"].emptyObject}}function i(e,t,n){for(var i=null,o=!1,r=1/0,s=0,a=0,c=e.length;a<c;++a){var l=e[a],d=v(l.keys,t);if(0!==d)if(2!==d){var u=g(l.selector,n);if(!(-1===u||u>r)){var h=j.calculateSpecificity(l.selector);(!i||u<r||h>=s)&&(i=l,r=u,s=h)}}else o||-1===g(l.selector,n)||(o=!0)}return{exact:i,partial:o}}function o(e){e.target.dispatchEvent(_(e))}function r(e){return N.IS_MAC?s.hasOwnProperty(e)?s[e]:e:a.hasOwnProperty(e)?a[e]:e}e.CHORD_TIMEOUT=1e3,e.createCommand=t,e.createKeyBinding=n,e.matchKeyBinding=i,e.replayKeyEvent=o,e.formatKey=r;var s={Backspace:"⌫",Tab:"⇥",Enter:"↩",Shift:"⇧",Ctrl:"⌃",Alt:"⌥",Escape:"⎋",PageUp:"⇞",PageDown:"⇟",End:"↘",Home:"↖",ArrowLeft:"←",ArrowUp:"↑",ArrowRight:"→",ArrowDown:"↓",Delete:"⌦",Cmd:"⌘"},a={Escape:"Esc",PageUp:"Page Up",PageDown:"Page Down",ArrowLeft:"Left",ArrowUp:"Up",ArrowRight:"Right",ArrowDown:"Down",Delete:"Del"},c=function(){return""},l=function(){return-1},d=function(){return!0},u=function(){return!1},h=function(){return{}},p=function(){};function m(e,t){return void 0===e?t:"function"===typeof e?e:function(){return e}}function f(e){if(-1!==e.selector.indexOf(","))throw new Error("Selector cannot contain commas: "+e.selector);if(!j.isValid(e.selector))throw new Error("Invalid selector: "+e.selector);return e.selector}function v(e,t){if(e.length<t.length)return 0;for(var n=0,i=t.length;n<i;++n)if(e[n]!==t[n])return 0;return e.length>t.length?2:1}function g(e,t){for(var n=t.target,i=t.currentTarget,o=0;null!==n;n=n.parentElement,++o){if(n.hasAttribute("data-lm-suppress-shortcuts"))return-1;if(n.hasAttribute("data-p-suppress-shortcuts"))return-1;if(j.matches(n,e))return o;if(n===i)return-1}return-1}function _(e){var t=document.createEvent("Event"),n=e.bubbles||!0,i=e.cancelable||!0;return t.initEvent(e.type||"keydown",n,i),t.key=e.key||"",t.keyCode=e.keyCode||0,t.which=e.keyCode||0,t.ctrlKey=e.ctrlKey||!1,t.altKey=e.altKey||!1,t.shiftKey=e.shiftKey||!1,t.metaKey=e.metaKey||!1,t.view=e.view||window,t}}(me||(me={}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var ve=function(e,t){return ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},ve(e,t)};function ge(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ve(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var _e,ye,be=function(){function e(e){this.type="text",this.content=e}return e}(),we=function(){function e(e,t,n,i){this.type="element",this.tag=e,this.attrs=t,this.children=n,this.renderer=i}return e}();(function(e){function t(t,n,i){return e.call(this,t,n,[],i||void 0)||this}ge(t,e)})(we);function xe(e){for(var t,n={},i=[],o=1,r=arguments.length;o<r;++o){var s=arguments[o];"string"===typeof s?i.push(new be(s)):s instanceof be||s instanceof we?i.push(s):s instanceof Array?a(i,s):1!==o&&2!==o||!s||"object"!==typeof s||("render"in s?t=s:n=s)}return new we(e,n,i,t);function a(e,t){for(var n=0,i=t;n<i.length;n++){var o=i[n];"string"===typeof o?e.push(new be(o)):(o instanceof be||o instanceof we)&&e.push(o)}}}(function(e){e.a=e.bind(void 0,"a"),e.abbr=e.bind(void 0,"abbr"),e.address=e.bind(void 0,"address"),e.area=e.bind(void 0,"area"),e.article=e.bind(void 0,"article"),e.aside=e.bind(void 0,"aside"),e.audio=e.bind(void 0,"audio"),e.b=e.bind(void 0,"b"),e.bdi=e.bind(void 0,"bdi"),e.bdo=e.bind(void 0,"bdo"),e.blockquote=e.bind(void 0,"blockquote"),e.br=e.bind(void 0,"br"),e.button=e.bind(void 0,"button"),e.canvas=e.bind(void 0,"canvas"),e.caption=e.bind(void 0,"caption"),e.cite=e.bind(void 0,"cite"),e.code=e.bind(void 0,"code"),e.col=e.bind(void 0,"col"),e.colgroup=e.bind(void 0,"colgroup"),e.data=e.bind(void 0,"data"),e.datalist=e.bind(void 0,"datalist"),e.dd=e.bind(void 0,"dd"),e.del=e.bind(void 0,"del"),e.dfn=e.bind(void 0,"dfn"),e.div=e.bind(void 0,"div"),e.dl=e.bind(void 0,"dl"),e.dt=e.bind(void 0,"dt"),e.em=e.bind(void 0,"em"),e.embed=e.bind(void 0,"embed"),e.fieldset=e.bind(void 0,"fieldset"),e.figcaption=e.bind(void 0,"figcaption"),e.figure=e.bind(void 0,"figure"),e.footer=e.bind(void 0,"footer"),e.form=e.bind(void 0,"form"),e.h1=e.bind(void 0,"h1"),e.h2=e.bind(void 0,"h2"),e.h3=e.bind(void 0,"h3"),e.h4=e.bind(void 0,"h4"),e.h5=e.bind(void 0,"h5"),e.h6=e.bind(void 0,"h6"),e.header=e.bind(void 0,"header"),e.hr=e.bind(void 0,"hr"),e.i=e.bind(void 0,"i"),e.iframe=e.bind(void 0,"iframe"),e.img=e.bind(void 0,"img"),e.input=e.bind(void 0,"input"),e.ins=e.bind(void 0,"ins"),e.kbd=e.bind(void 0,"kbd"),e.label=e.bind(void 0,"label"),e.legend=e.bind(void 0,"legend"),e.li=e.bind(void 0,"li"),e.main=e.bind(void 0,"main"),e.map=e.bind(void 0,"map"),e.mark=e.bind(void 0,"mark"),e.meter=e.bind(void 0,"meter"),e.nav=e.bind(void 0,"nav"),e.noscript=e.bind(void 0,"noscript"),e.object=e.bind(void 0,"object"),e.ol=e.bind(void 0,"ol"),e.optgroup=e.bind(void 0,"optgroup"),e.option=e.bind(void 0,"option"),e.output=e.bind(void 0,"output"),e.p=e.bind(void 0,"p"),e.param=e.bind(void 0,"param"),e.pre=e.bind(void 0,"pre"),e.progress=e.bind(void 0,"progress"),e.q=e.bind(void 0,"q"),e.rp=e.bind(void 0,"rp"),e.rt=e.bind(void 0,"rt"),e.ruby=e.bind(void 0,"ruby"),e.s=e.bind(void 0,"s"),e.samp=e.bind(void 0,"samp"),e.section=e.bind(void 0,"section"),e.select=e.bind(void 0,"select"),e.small=e.bind(void 0,"small"),e.source=e.bind(void 0,"source"),e.span=e.bind(void 0,"span"),e.strong=e.bind(void 0,"strong"),e.sub=e.bind(void 0,"sub"),e.summary=e.bind(void 0,"summary"),e.sup=e.bind(void 0,"sup"),e.table=e.bind(void 0,"table"),e.tbody=e.bind(void 0,"tbody"),e.td=e.bind(void 0,"td"),e.textarea=e.bind(void 0,"textarea"),e.tfoot=e.bind(void 0,"tfoot"),e.th=e.bind(void 0,"th"),e.thead=e.bind(void 0,"thead"),e.time=e.bind(void 0,"time"),e.title=e.bind(void 0,"title"),e.tr=e.bind(void 0,"tr"),e.track=e.bind(void 0,"track"),e.u=e.bind(void 0,"u"),e.ul=e.bind(void 0,"ul"),e.var_=e.bind(void 0,"var"),e.video=e.bind(void 0,"video"),e.wbr=e.bind(void 0,"wbr")})(xe||(xe={})),function(e){function t(e){return ye.createDOMNode(e)}function n(e,t){var n=ye.hostMap.get(t)||[],i=ye.asContentArray(e);ye.hostMap.set(t,i),ye.updateContent(t,n,i)}e.realize=t,e.render=n}(_e||(_e={})),function(e){function t(e){return e?e instanceof Array?e:[e]:[]}function n(e){var t=arguments[1]||null,i=arguments[2]||null;if(t)t.insertBefore(n(e),i);else{if("text"===e.type)return document.createTextNode(e.content);if(t=document.createElement(e.tag),a(t,e.attrs),e.renderer)return e.renderer.render(t,{attrs:e.attrs,children:e.children}),t;for(var o=0,r=e.children.length;o<r;++o)n(e.children[o],t)}return t}function o(e,t,s){if(t!==s){for(var a=p(e,t),l=t.slice(),d=e.firstChild,u=s.length,h=0;h<u;++h)if(h>=l.length)n(s[h],e);else{var m=l[h],f=s[h];if(m!==f)if("text"!==m.type||"text"!==f.type)if("text"!==m.type&&"text"!==f.type)if(!m.renderer==!f.renderer){var v=f.attrs.key;if(v&&v in a){var g=a[v];g.vNode!==m&&(i.move(l,l.indexOf(g.vNode,h+1),h),e.insertBefore(g.element,d),m=g.vNode,d=g.element)}if(m!==f){var _=m.attrs.key;_&&_!==v?(i.insert(l,h,f),n(f,e,d)):m.tag===f.tag?(c(d,m.attrs,f.attrs),f.renderer?f.renderer.render(d,{attrs:f.attrs,children:f.children}):o(d,m.children,f.children),d=d.nextSibling):(i.insert(l,h,f),n(f,e,d))}else d=d.nextSibling}else i.insert(l,h,f),n(f,e,d);else i.insert(l,h,f),n(f,e,d);else d.textContent=f.content,d=d.nextSibling;else d=d.nextSibling}r(e,l,u,!0)}}function r(e,t,n,i){for(var o=t.length-1;o>=n;--o){var s=t[o],a=i?e.lastChild:e.childNodes[o];"text"===s.type||(s.renderer&&s.renderer.unrender?s.renderer.unrender(a,{attrs:s.attrs,children:s.children}):r(a,s.children,0,!1)),i&&e.removeChild(a)}}e.hostMap=new WeakMap,e.asContentArray=t,e.createDOMNode=n,e.updateContent=o;var s={key:!0,className:!0,htmlFor:!0,dataset:!0,style:!0};function a(e,t){for(var n in t)n in s||("on"===n.substr(0,2)?e[n]=t[n]:e.setAttribute(n,t[n]));void 0!==t.className&&e.setAttribute("class",t.className),void 0!==t.htmlFor&&e.setAttribute("for",t.htmlFor),t.dataset&&l(e,t.dataset),t.style&&u(e,t.style)}function c(e,t,n){if(t!==n){var i;for(i in t)i in s||i in n||("on"===i.substr(0,2)?e[i]=null:e.removeAttribute(i));for(i in n)i in s||t[i]===n[i]||("on"===i.substr(0,2)?e[i]=n[i]:e.setAttribute(i,n[i]));t.className!==n.className&&(void 0!==n.className?e.setAttribute("class",n.className):e.removeAttribute("class")),t.htmlFor!==n.htmlFor&&(void 0!==n.htmlFor?e.setAttribute("for",n.htmlFor):e.removeAttribute("for")),t.dataset!==n.dataset&&d(e,t.dataset||{},n.dataset||{}),t.style!==n.style&&h(e,t.style||{},n.style||{})}}function l(e,t){for(var n in t)e.setAttribute("data-"+n,t[n])}function d(e,t,n){for(var i in t)i in n||e.removeAttribute("data-"+i);for(var o in n)t[o]!==n[o]&&e.setAttribute("data-"+o,n[o])}function u(e,t){var n,i=e.style;for(n in t)i[n]=t[n]}function h(e,t,n){var i,o=e.style;for(i in t)i in n||(o[i]="");for(i in n)t[i]!==n[i]&&(o[i]=n[i])}function p(e,t){for(var n=e.firstChild,i=Object.create(null),o=0,r=t;o<r.length;o++){var s=r[o];"element"===s.type&&s.attrs.key&&(i[s.attrs.key]={vNode:s,element:n}),n=n.nextSibling}return i}}(ye||(ye={}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var Me=function(e,t){return Me=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Me(e,t)};function Ce(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Me(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Ee=function(){return Ee=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n],t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Ee.apply(this,arguments)};function Se(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n}function ke(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i}var Ie,Ae=function(){function e(){this.sizeHint=0,this.minSize=0,this.maxSize=1/0,this.stretch=1,this.size=0,this.done=!1}return e}();(function(e){function t(e,t){var n=e.length;if(0===n)return t;for(var i=0,o=0,r=0,s=0,a=0,c=0;c<n;++c){var l=e[c],d=l.minSize,u=l.maxSize,h=l.sizeHint;l.done=!1,l.size=Math.max(d,Math.min(h,u)),r+=l.size,i+=d,o+=u,l.stretch>0&&(s+=l.stretch,a++)}if(t===r)return 0;if(t<=i){for(c=0;c<n;++c){l=e[c];l.size=l.minSize}return t-i}if(t>=o){for(c=0;c<n;++c){l=e[c];l.size=l.maxSize}return t-o}var p=.01,m=n;if(t<r){var f=r-t;while(a>0&&f>p){var v=f,g=s;for(c=0;c<n;++c){l=e[c];if(!l.done&&0!==l.stretch){var _=l.stretch*v/g;l.size-_<=l.minSize?(f-=l.size-l.minSize,s-=l.stretch,l.size=l.minSize,l.done=!0,m--,a--):(f-=_,l.size-=_)}}}while(m>0&&f>p)for(_=f/m,c=0;c<n;++c){l=e[c];l.done||(l.size-_<=l.minSize?(f-=l.size-l.minSize,l.size=l.minSize,l.done=!0,m--):(f-=_,l.size-=_))}}else{f=t-r;while(a>0&&f>p)for(v=f,g=s,c=0;c<n;++c){l=e[c];if(!l.done&&0!==l.stretch){_=l.stretch*v/g;l.size+_>=l.maxSize?(f-=l.maxSize-l.size,s-=l.stretch,l.size=l.maxSize,l.done=!0,m--,a--):(f-=_,l.size+=_)}}while(m>0&&f>p)for(_=f/m,c=0;c<n;++c){l=e[c];l.done||(l.size+_>=l.maxSize?(f-=l.maxSize-l.size,l.size=l.maxSize,l.done=!0,m--):(f-=_,l.size+=_))}}return 0}function n(e,t,n){0!==e.length&&0!==n&&(n>0?i(e,t,n):o(e,t,-n))}function i(e,t,n){for(var i=0,o=0;o<=t;++o){var r=e[o];i+=r.maxSize-r.size}for(var s=0,a=(o=t+1,e.length);o<a;++o){r=e[o];s+=r.size-r.minSize}n=Math.min(n,i,s);var c=n;for(o=t;o>=0&&c>0;--o){r=e[o];var l=r.maxSize-r.size;l>=c?(r.sizeHint=r.size+c,c=0):(r.sizeHint=r.size+l,c-=l)}var d=n;for(o=t+1,a=e.length;o<a&&d>0;++o){r=e[o],l=r.size-r.minSize;l>=d?(r.sizeHint=r.size-d,d=0):(r.sizeHint=r.size-l,d-=l)}}function o(e,t,n){for(var i=0,o=t+1,r=e.length;o<r;++o){var s=e[o];i+=s.maxSize-s.size}var a=0;for(o=0;o<=t;++o){s=e[o];a+=s.size-s.minSize}n=Math.min(n,i,a);var c=n;for(o=t+1,r=e.length;o<r&&c>0;++o){s=e[o];var l=s.maxSize-s.size;l>=c?(s.sizeHint=s.size+c,c=0):(s.sizeHint=s.size+l,c-=l)}var d=n;for(o=t;o>=0&&d>0;--o){s=e[o],l=s.size-s.minSize;l>=d?(s.sizeHint=s.size-d,d=0):(s.sizeHint=s.size-l,d-=l)}}e.calc=t,e.adjust=n})(Ie||(Ie={}));var ze,Le=function(){function e(e){this._label="",this._caption="",this._mnemonic=-1,this._iconClass="",this._iconLabel="",this._className="",this._closable=!1,this._changed=new te(this),this.owner=e.owner,void 0!==e.label&&(this._label=e.label),void 0!==e.mnemonic&&(this._mnemonic=e.mnemonic),void 0!==e.icon?"string"===typeof e.icon?(this._icon=null,this._iconClass=e.icon):this._icon=e.icon:this._icon=null,void 0!==e.iconClass&&(this._iconClass=e.iconClass),void 0!==e.iconLabel&&(this._iconLabel=e.iconLabel),void 0!==e.iconRenderer&&(this._icon=e.iconRenderer),void 0!==e.caption&&(this._caption=e.caption),void 0!==e.className&&(this._className=e.className),void 0!==e.closable&&(this._closable=e.closable),this._dataset=e.dataset||{}}return Object.defineProperty(e.prototype,"changed",{get:function(){return this._changed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return this._label},set:function(e){this._label!==e&&(this._label=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mnemonic",{get:function(){return this._mnemonic},set:function(e){this._mnemonic!==e&&(this._mnemonic=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"icon",{get:function(){return null===this._icon?this.iconClass:this._icon},set:function(e){if("string"===typeof e)this._icon=null,this.iconClass=e;else{if(this._icon===e)return;this._icon=e,this._changed.emit(void 0)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconClass",{get:function(){return this._iconClass},set:function(e){this._iconClass!==e&&(this._iconClass=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconLabel",{get:function(){return this._iconLabel},set:function(e){this._iconLabel!==e&&(this._iconLabel=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconRenderer",{get:function(){return this._icon||void 0},set:function(e){this.icon=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"caption",{get:function(){return this._caption},set:function(e){this._caption!==e&&(this._caption=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._className},set:function(e){this._className!==e&&(this._className=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"closable",{get:function(){return this._closable},set:function(e){this._closable!==e&&(this._closable=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataset",{get:function(){return this._dataset},set:function(e){this._dataset!==e&&(this._dataset=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),e}(),Pe=function(){function e(t){void 0===t&&(t={}),this._flags=0,this._layout=null,this._parent=null,this._disposed=new te(this),this._hiddenMode=e.HiddenMode.Display,this.node=ze.createNode(t),this.addClass("lm-Widget"),this.addClass("p-Widget")}return e.prototype.dispose=function(){this.isDisposed||(this.setFlag(e.Flag.IsDisposed),this._disposed.emit(void 0),this.parent?this.parent=null:this.isAttached&&e.detach(this),this._layout&&(this._layout.dispose(),this._layout=null),te.clearData(this),$.clearData(this),Q.clearData(this))},Object.defineProperty(e.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this.testFlag(e.Flag.IsDisposed)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAttached",{get:function(){return this.testFlag(e.Flag.IsAttached)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isHidden",{get:function(){return this.testFlag(e.Flag.IsHidden)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVisible",{get:function(){return this.testFlag(e.Flag.IsVisible)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return ze.titleProperty.get(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.node.id},set:function(e){this.node.id=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataset",{get:function(){return this.node.dataset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hiddenMode",{get:function(){return this._hiddenMode},set:function(t){if(this._hiddenMode!==t){switch(this._hiddenMode=t,t){case e.HiddenMode.Display:this.node.style.willChange="auto";break;case e.HiddenMode.Scale:this.node.style.willChange="transform";break}this.isHidden&&(t===e.HiddenMode.Display?(this.addClass("lm-mod-hidden"),this.addClass("p-mod-hidden"),this.node.style.transform=""):(this.node.style.transform="scale(0)",this.removeClass("lm-mod-hidden"),this.removeClass("p-mod-hidden")))}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},set:function(t){if(this._parent!==t){if(t&&this.contains(t))throw new Error("Invalid parent widget.");if(this._parent&&!this._parent.isDisposed){var n=new e.ChildMessage("child-removed",this);$.sendMessage(this._parent,n)}if(this._parent=t,this._parent&&!this._parent.isDisposed){n=new e.ChildMessage("child-added",this);$.sendMessage(this._parent,n)}this.isDisposed||$.sendMessage(this,e.Msg.ParentChanged)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layout",{get:function(){return this._layout},set:function(t){if(this._layout!==t){if(this.testFlag(e.Flag.DisallowLayout))throw new Error("Cannot set widget layout.");if(this._layout)throw new Error("Cannot change widget layout.");if(t.parent)throw new Error("Cannot change layout parent.");this._layout=t,t.parent=this}},enumerable:!0,configurable:!0}),e.prototype.children=function(){return this._layout?this._layout.iter():f()},e.prototype.contains=function(e){for(var t=e;t;t=t._parent)if(t===this)return!0;return!1},e.prototype.hasClass=function(e){return this.node.classList.contains(e)},e.prototype.addClass=function(e){this.node.classList.add(e)},e.prototype.removeClass=function(e){this.node.classList.remove(e)},e.prototype.toggleClass=function(e,t){return!0===t?(this.node.classList.add(e),!0):!1===t?(this.node.classList.remove(e),!1):this.node.classList.toggle(e)},e.prototype.update=function(){$.postMessage(this,e.Msg.UpdateRequest)},e.prototype.fit=function(){$.postMessage(this,e.Msg.FitRequest)},e.prototype.activate=function(){$.postMessage(this,e.Msg.ActivateRequest)},e.prototype.close=function(){$.sendMessage(this,e.Msg.CloseRequest)},e.prototype.show=function(){if(this.testFlag(e.Flag.IsHidden)&&(!this.isAttached||this.parent&&!this.parent.isVisible||$.sendMessage(this,e.Msg.BeforeShow),this.clearFlag(e.Flag.IsHidden),this.node.removeAttribute("aria-hidden"),this.hiddenMode===e.HiddenMode.Display?(this.removeClass("lm-mod-hidden"),this.removeClass("p-mod-hidden")):this.node.style.transform="",!this.isAttached||this.parent&&!this.parent.isVisible||$.sendMessage(this,e.Msg.AfterShow),this.parent)){var t=new e.ChildMessage("child-shown",this);$.sendMessage(this.parent,t)}},e.prototype.hide=function(){if(!this.testFlag(e.Flag.IsHidden)&&(!this.isAttached||this.parent&&!this.parent.isVisible||$.sendMessage(this,e.Msg.BeforeHide),this.setFlag(e.Flag.IsHidden),this.node.setAttribute("aria-hidden","true"),this.hiddenMode===e.HiddenMode.Display?(this.addClass("lm-mod-hidden"),this.addClass("p-mod-hidden")):this.node.style.transform="scale(0)",!this.isAttached||this.parent&&!this.parent.isVisible||$.sendMessage(this,e.Msg.AfterHide),this.parent)){var t=new e.ChildMessage("child-hidden",this);$.sendMessage(this.parent,t)}},e.prototype.setHidden=function(e){e?this.hide():this.show()},e.prototype.testFlag=function(e){return 0!==(this._flags&e)},e.prototype.setFlag=function(e){this._flags|=e},e.prototype.clearFlag=function(e){this._flags&=~e},e.prototype.processMessage=function(t){switch(t.type){case"resize":this.notifyLayout(t),this.onResize(t);break;case"update-request":this.notifyLayout(t),this.onUpdateRequest(t);break;case"fit-request":this.notifyLayout(t),this.onFitRequest(t);break;case"before-show":this.notifyLayout(t),this.onBeforeShow(t);break;case"after-show":this.setFlag(e.Flag.IsVisible),this.notifyLayout(t),this.onAfterShow(t);break;case"before-hide":this.notifyLayout(t),this.onBeforeHide(t);break;case"after-hide":this.clearFlag(e.Flag.IsVisible),this.notifyLayout(t),this.onAfterHide(t);break;case"before-attach":this.notifyLayout(t),this.onBeforeAttach(t);break;case"after-attach":this.isHidden||this.parent&&!this.parent.isVisible||this.setFlag(e.Flag.IsVisible),this.setFlag(e.Flag.IsAttached),this.notifyLayout(t),this.onAfterAttach(t);break;case"before-detach":this.notifyLayout(t),this.onBeforeDetach(t);break;case"after-detach":this.clearFlag(e.Flag.IsVisible),this.clearFlag(e.Flag.IsAttached),this.notifyLayout(t),this.onAfterDetach(t);break;case"activate-request":this.notifyLayout(t),this.onActivateRequest(t);break;case"close-request":this.notifyLayout(t),this.onCloseRequest(t);break;case"child-added":this.notifyLayout(t),this.onChildAdded(t);break;case"child-removed":this.notifyLayout(t),this.onChildRemoved(t);break;default:this.notifyLayout(t);break}},e.prototype.notifyLayout=function(e){this._layout&&this._layout.processParentMessage(e)},e.prototype.onCloseRequest=function(t){this.parent?this.parent=null:this.isAttached&&e.detach(this)},e.prototype.onResize=function(e){},e.prototype.onUpdateRequest=function(e){},e.prototype.onFitRequest=function(e){},e.prototype.onActivateRequest=function(e){},e.prototype.onBeforeShow=function(e){},e.prototype.onAfterShow=function(e){},e.prototype.onBeforeHide=function(e){},e.prototype.onAfterHide=function(e){},e.prototype.onBeforeAttach=function(e){},e.prototype.onAfterAttach=function(e){},e.prototype.onBeforeDetach=function(e){},e.prototype.onAfterDetach=function(e){},e.prototype.onChildAdded=function(e){},e.prototype.onChildRemoved=function(e){},e}();(function(e){(function(e){e[e["Display"]=0]="Display",e[e["Scale"]=1]="Scale"})(e.HiddenMode||(e.HiddenMode={})),function(e){e[e["IsDisposed"]=1]="IsDisposed",e[e["IsAttached"]=2]="IsAttached",e[e["IsHidden"]=4]="IsHidden",e[e["IsVisible"]=8]="IsVisible",e[e["DisallowLayout"]=16]="DisallowLayout"}(e.Flag||(e.Flag={})),function(e){e.BeforeShow=new G("before-show"),e.AfterShow=new G("after-show"),e.BeforeHide=new G("before-hide"),e.AfterHide=new G("after-hide"),e.BeforeAttach=new G("before-attach"),e.AfterAttach=new G("after-attach"),e.BeforeDetach=new G("before-detach"),e.AfterDetach=new G("after-detach"),e.ParentChanged=new G("parent-changed"),e.UpdateRequest=new J("update-request"),e.FitRequest=new J("fit-request"),e.ActivateRequest=new J("activate-request"),e.CloseRequest=new J("close-request")}(e.Msg||(e.Msg={}));var t=function(e){function t(t,n){var i=e.call(this,t)||this;return i.child=n,i}return Ce(t,e),t}(G);e.ChildMessage=t;var n=function(e){function t(t,n){var i=e.call(this,"resize")||this;return i.width=t,i.height=n,i}return Ce(t,e),t}(G);function i(t,n,i){if(void 0===i&&(i=null),t.parent)throw new Error("Cannot attach a child widget.");if(t.isAttached||t.node.isConnected)throw new Error("Widget is already attached.");if(!n.isConnected)throw new Error("Host is not attached.");$.sendMessage(t,e.Msg.BeforeAttach),n.insertBefore(t.node,i),$.sendMessage(t,e.Msg.AfterAttach)}function o(t){if(t.parent)throw new Error("Cannot detach a child widget.");if(!t.isAttached||!t.node.isConnected)throw new Error("Widget is not attached.");$.sendMessage(t,e.Msg.BeforeDetach),t.node.parentNode.removeChild(t.node),$.sendMessage(t,e.Msg.AfterDetach)}e.ResizeMessage=n,function(e){e.UnknownSize=new e(-1,-1)}(n=e.ResizeMessage||(e.ResizeMessage={})),e.attach=i,e.detach=o})(Pe||(Pe={})),function(e){function t(e){return e.node||document.createElement(e.tag||"div")}e.titleProperty=new Q({name:"title",create:function(e){return new Le({owner:e})}}),e.createNode=t}(ze||(ze={}));var Te=function(){function e(e){void 0===e&&(e={}),this._disposed=!1,this._parent=null,this._fitPolicy=e.fitPolicy||"set-min-size"}return e.prototype.dispose=function(){this._parent=null,this._disposed=!0,te.clearData(this),Q.clearData(this)},Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},set:function(e){if(this._parent!==e){if(this._parent)throw new Error("Cannot change parent widget.");if(e.layout!==this)throw new Error("Invalid parent widget.");this._parent=e,this.init()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fitPolicy",{get:function(){return this._fitPolicy},set:function(e){if(this._fitPolicy!==e&&(this._fitPolicy=e,this._parent)){var t=this._parent.node.style;t.minWidth="",t.minHeight="",t.maxWidth="",t.maxHeight="",this._parent.fit()}},enumerable:!0,configurable:!0}),e.prototype.processParentMessage=function(e){switch(e.type){case"resize":this.onResize(e);break;case"update-request":this.onUpdateRequest(e);break;case"fit-request":this.onFitRequest(e);break;case"before-show":this.onBeforeShow(e);break;case"after-show":this.onAfterShow(e);break;case"before-hide":this.onBeforeHide(e);break;case"after-hide":this.onAfterHide(e);break;case"before-attach":this.onBeforeAttach(e);break;case"after-attach":this.onAfterAttach(e);break;case"before-detach":this.onBeforeDetach(e);break;case"after-detach":this.onAfterDetach(e);break;case"child-removed":this.onChildRemoved(e);break;case"child-shown":this.onChildShown(e);break;case"child-hidden":this.onChildHidden(e);break}},e.prototype.init=function(){var e=this;c(this,(function(t){t.parent=e.parent}))},e.prototype.onResize=function(e){c(this,(function(e){$.sendMessage(e,Pe.ResizeMessage.UnknownSize)}))},e.prototype.onUpdateRequest=function(e){c(this,(function(e){$.sendMessage(e,Pe.ResizeMessage.UnknownSize)}))},e.prototype.onBeforeAttach=function(e){c(this,(function(t){$.sendMessage(t,e)}))},e.prototype.onAfterAttach=function(e){c(this,(function(t){$.sendMessage(t,e)}))},e.prototype.onBeforeDetach=function(e){c(this,(function(t){$.sendMessage(t,e)}))},e.prototype.onAfterDetach=function(e){c(this,(function(t){$.sendMessage(t,e)}))},e.prototype.onBeforeShow=function(e){c(this,(function(t){t.isHidden||$.sendMessage(t,e)}))},e.prototype.onAfterShow=function(e){c(this,(function(t){t.isHidden||$.sendMessage(t,e)}))},e.prototype.onBeforeHide=function(e){c(this,(function(t){t.isHidden||$.sendMessage(t,e)}))},e.prototype.onAfterHide=function(e){c(this,(function(t){t.isHidden||$.sendMessage(t,e)}))},e.prototype.onChildRemoved=function(e){this.removeWidget(e.child)},e.prototype.onFitRequest=function(e){},e.prototype.onChildShown=function(e){},e.prototype.onChildHidden=function(e){},e}();(function(e){function t(e){return De.horizontalAlignmentProperty.get(e)}function n(e,t){De.horizontalAlignmentProperty.set(e,t)}function i(e){return De.verticalAlignmentProperty.get(e)}function o(e,t){De.verticalAlignmentProperty.set(e,t)}e.getHorizontalAlignment=t,e.setHorizontalAlignment=n,e.getVerticalAlignment=i,e.setVerticalAlignment=o})(Te||(Te={}));var De,Oe=function(){function e(e){this._top=NaN,this._left=NaN,this._width=NaN,this._height=NaN,this._minWidth=0,this._minHeight=0,this._maxWidth=1/0,this._maxHeight=1/0,this._disposed=!1,this.widget=e,this.widget.node.style.position="absolute"}return e.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var e=this.widget.node.style;e.position="",e.top="",e.left="",e.width="",e.height=""}},Object.defineProperty(e.prototype,"minWidth",{get:function(){return this._minWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minHeight",{get:function(){return this._minHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxHeight",{get:function(){return this._maxHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isHidden",{get:function(){return this.widget.isHidden},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVisible",{get:function(){return this.widget.isVisible},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAttached",{get:function(){return this.widget.isAttached},enumerable:!0,configurable:!0}),e.prototype.fit=function(){var e=R.sizeLimits(this.widget.node);this._minWidth=e.minWidth,this._minHeight=e.minHeight,this._maxWidth=e.maxWidth,this._maxHeight=e.maxHeight},e.prototype.update=function(e,t,n,i){var o=Math.max(this._minWidth,Math.min(n,this._maxWidth)),r=Math.max(this._minHeight,Math.min(i,this._maxHeight));if(o<n)switch(Te.getHorizontalAlignment(this.widget)){case"left":break;case"center":e+=(n-o)/2;break;case"right":e+=n-o;break;default:throw"unreachable"}if(r<i)switch(Te.getVerticalAlignment(this.widget)){case"top":break;case"center":t+=(i-r)/2;break;case"bottom":t+=i-r;break;default:throw"unreachable"}var s=!1,a=this.widget.node.style;if(this._top!==t&&(this._top=t,a.top=t+"px"),this._left!==e&&(this._left=e,a.left=e+"px"),this._width!==o&&(s=!0,this._width=o,a.width=o+"px"),this._height!==r&&(s=!0,this._height=r,a.height=r+"px"),s){var c=new Pe.ResizeMessage(o,r);$.sendMessage(this.widget,c)}},e}();(function(e){function t(e){e.parent&&e.parent.layout&&e.parent.update()}e.horizontalAlignmentProperty=new Q({name:"horizontalAlignment",create:function(){return"center"},changed:t}),e.verticalAlignmentProperty=new Q({name:"verticalAlignment",create:function(){return"top"},changed:t})})(De||(De={}));var Be,Re=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._widgets=[],t}return Ce(t,e),t.prototype.dispose=function(){while(this._widgets.length>0)this._widgets.pop().dispose();e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"widgets",{get:function(){return this._widgets},enumerable:!0,configurable:!0}),t.prototype.iter=function(){return a(this._widgets)},t.prototype.addWidget=function(e){this.insertWidget(this._widgets.length,e)},t.prototype.insertWidget=function(e,t){t.parent=this.parent;var n=this._widgets.indexOf(t),o=Math.max(0,Math.min(e,this._widgets.length));if(-1===n)return i.insert(this._widgets,o,t),void(this.parent&&this.attachWidget(o,t));o===this._widgets.length&&o--,n!==o&&(i.move(this._widgets,n,o),this.parent&&this.moveWidget(n,o,t))},t.prototype.removeWidget=function(e){this.removeWidgetAt(this._widgets.indexOf(e))},t.prototype.removeWidgetAt=function(e){var t=i.removeAt(this._widgets,e);t&&this.parent&&this.detachWidget(e,t)},t.prototype.init=function(){var t=this;e.prototype.init.call(this),c(this,(function(e,n){t.attachWidget(n,e)}))},t.prototype.attachWidget=function(e,t){var n=this.parent.node.children[e];this.parent.isAttached&&$.sendMessage(t,Pe.Msg.BeforeAttach),this.parent.node.insertBefore(t.node,n),this.parent.isAttached&&$.sendMessage(t,Pe.Msg.AfterAttach)},t.prototype.moveWidget=function(e,t,n){this.parent.isAttached&&$.sendMessage(n,Pe.Msg.BeforeDetach),this.parent.node.removeChild(n.node),this.parent.isAttached&&$.sendMessage(n,Pe.Msg.AfterDetach);var i=this.parent.node.children[t];this.parent.isAttached&&$.sendMessage(n,Pe.Msg.BeforeAttach),this.parent.node.insertBefore(n.node,i),this.parent.isAttached&&$.sendMessage(n,Pe.Msg.AfterAttach)},t.prototype.detachWidget=function(e,t){this.parent.isAttached&&$.sendMessage(t,Pe.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.isAttached&&$.sendMessage(t,Pe.Msg.AfterDetach)},t}(Te);(function(e){function t(e){return Math.max(0,Math.floor(e))}e.clampDimension=t})(Be||(Be={}));var Ne,je=Be,We=function(e){function t(t){var n=e.call(this)||this;return n.widgetOffset=0,n._fixed=0,n._spacing=4,n._dirty=!1,n._hasNormedSizes=!1,n._sizers=[],n._items=[],n._handles=[],n._box=null,n._alignment="start",n._orientation="horizontal",n.renderer=t.renderer,void 0!==t.orientation&&(n._orientation=t.orientation),void 0!==t.alignment&&(n._alignment=t.alignment),void 0!==t.spacing&&(n._spacing=Be.clampDimension(t.spacing)),n}return Ce(t,e),t.prototype.dispose=function(){c(this._items,(function(e){e.dispose()})),this._box=null,this._items.length=0,this._sizers.length=0,this._handles.length=0,e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"orientation",{get:function(){return this._orientation},set:function(e){this._orientation!==e&&(this._orientation=e,this.parent&&(this.parent.dataset["orientation"]=e,this.parent.fit()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignment",{get:function(){return this._alignment},set:function(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset["alignment"]=e,this.parent.update()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){return this._spacing},set:function(e){e=Be.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handles",{get:function(){return this._handles},enumerable:!0,configurable:!0}),t.prototype.absoluteSizes=function(){return this._sizers.map((function(e){return e.size}))},t.prototype.relativeSizes=function(){return Ne.normalize(this._sizers.map((function(e){return e.size})))},t.prototype.setRelativeSizes=function(e,t){void 0===t&&(t=!0);var n=this._sizers.length,i=e.slice(0,n);while(i.length<n)i.push(0);for(var o=Ne.normalize(i),r=0;r<n;++r){var s=this._sizers[r];s.sizeHint=o[r],s.size=o[r]}this._hasNormedSizes=!0,t&&this.parent&&this.parent.update()},t.prototype.moveHandle=function(e,t){var n,i=this._handles[e];if(i&&!i.classList.contains("lm-mod-hidden")&&(n="horizontal"===this._orientation?t-i.offsetLeft:t-i.offsetTop,0!==n)){for(var o=0,r=this._sizers;o<r.length;o++){var s=r[o];s.size>0&&(s.sizeHint=s.size)}Ie.adjust(this._sizers,e,n),this.parent&&this.parent.update()}},t.prototype.init=function(){this.parent.dataset["orientation"]=this.orientation,this.parent.dataset["alignment"]=this.alignment,e.prototype.init.call(this)},t.prototype.attachWidget=function(e,t){var n=new Oe(t),o=Ne.createHandle(this.renderer),r=Ne.averageSize(this._sizers),s=Ne.createSizer(r);i.insert(this._items,e,n),i.insert(this._sizers,e,s),i.insert(this._handles,e,o),this.parent.isAttached&&$.sendMessage(t,Pe.Msg.BeforeAttach),this.parent.node.appendChild(t.node),this.parent.node.appendChild(o),this.parent.isAttached&&$.sendMessage(t,Pe.Msg.AfterAttach),this.parent.fit()},t.prototype.moveWidget=function(e,t,n){i.move(this._items,e,t),i.move(this._sizers,e,t),i.move(this._handles,e,t),this.parent.fit()},t.prototype.detachWidget=function(e,t){var n=i.removeAt(this._items,e),o=i.removeAt(this._handles,e);i.removeAt(this._sizers,e),this.parent.isAttached&&$.sendMessage(t,Pe.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.node.removeChild(o),this.parent.isAttached&&$.sendMessage(t,Pe.Msg.AfterDetach),n.dispose(),this.parent.fit()},t.prototype.onBeforeShow=function(t){e.prototype.onBeforeShow.call(this,t),this.parent.update()},t.prototype.onBeforeAttach=function(t){e.prototype.onBeforeAttach.call(this,t),this.parent.fit()},t.prototype.onChildShown=function(e){this.parent.fit()},t.prototype.onChildHidden=function(e){this.parent.fit()},t.prototype.onResize=function(e){this.parent.isVisible&&this._update(e.width,e.height)},t.prototype.onUpdateRequest=function(e){this.parent.isVisible&&this._update(-1,-1)},t.prototype.onFitRequest=function(e){this.parent.isAttached&&this._fit()},t.prototype.updateItemPosition=function(e,t,n,i,o,r,s){var a=this._items[e];if(!a.isHidden){var c=this._handles[e].style;t?(n+=this.widgetOffset,a.update(n,i,s,o),n+=s,c.top=i+"px",c.left=n+"px",c.width=this._spacing+"px",c.height=o+"px"):(i+=this.widgetOffset,a.update(n,i,r,s),i+=s,c.top=i+"px",c.left=n+"px",c.width=r+"px",c.height=this._spacing+"px")}},t.prototype._fit=function(){for(var e=0,n=-1,i=0,o=this._items.length;i<o;++i)this._items[i].isHidden?(this._handles[i].classList.add("lm-mod-hidden"),this._handles[i].classList.add("p-mod-hidden")):(this._handles[i].classList.remove("lm-mod-hidden"),this._handles[i].classList.remove("p-mod-hidden"),n=i,e++);-1!==n&&(this._handles[n].classList.add("lm-mod-hidden"),this._handles[n].classList.add("p-mod-hidden")),this._fixed=this._spacing*Math.max(0,e-1)+this.widgetOffset*this._items.length;var r="horizontal"===this._orientation,s=r?this._fixed:0,a=r?0:this._fixed;for(i=0,o=this._items.length;i<o;++i){var c=this._items[i],l=this._sizers[i];l.size>0&&(l.sizeHint=l.size),c.isHidden?(l.minSize=0,l.maxSize=0):(c.fit(),l.stretch=t.getStretch(c.widget),r?(l.minSize=c.minWidth,l.maxSize=c.maxWidth,s+=c.minWidth,a=Math.max(a,c.minHeight)):(l.minSize=c.minHeight,l.maxSize=c.maxHeight,a+=c.minHeight,s=Math.max(s,c.minWidth)))}var d=this._box=R.boxSizing(this.parent.node);s+=d.horizontalSum,a+=d.verticalSum;var u=this.parent.node.style;u.minWidth=s+"px",u.minHeight=a+"px",this._dirty=!0,this.parent.parent&&$.sendMessage(this.parent.parent,Pe.Msg.FitRequest),this._dirty&&$.sendMessage(this.parent,Pe.Msg.UpdateRequest)},t.prototype._update=function(e,t){this._dirty=!1;for(var n=0,i=0,o=this._items.length;i<o;++i)n+=+!this._items[i].isHidden;if(0!==n||0!==this.widgetOffset){e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=R.boxSizing(this.parent.node));var r=this._box.paddingTop,s=this._box.paddingLeft,a=e-this._box.horizontalSum,c=t-this._box.verticalSum,l=0,d=0,u="horizontal"===this._orientation;if(n>0){var h=void 0;if(h=u?Math.max(0,a-this._fixed):Math.max(0,c-this._fixed),this._hasNormedSizes){for(var p=0,m=this._sizers;p<m.length;p++){var f=m[p];f.sizeHint*=h}this._hasNormedSizes=!1}var v=Ie.calc(this._sizers,h);if(v>0)switch(this._alignment){case"start":break;case"center":l=0,d=v/2;break;case"end":l=0,d=v;break;case"justify":l=v/n,d=0;break;default:throw"unreachable"}}for(i=0,o=this._items.length;i<o;++i){var g=this._items[i],_=g.isHidden?0:this._sizers[i].size+l;this.updateItemPosition(i,u,u?s+d:s,u?r:r+d,c,a,_);var y=this.widgetOffset+(this._handles[i].classList.contains("lm-mod-hidden")?0:this._spacing);u?s+=_+y:r+=_+y}}},t}(Re);(function(e){function t(e){return Ne.stretchProperty.get(e)}function n(e,t){Ne.stretchProperty.set(e,t)}e.getStretch=t,e.setStretch=n})(We||(We={})),function(e){function t(e){var t=new Ae;return t.sizeHint=Math.floor(e),t}function n(e){var t=e.createHandle();return t.style.position="absolute",t}function i(e){return e.reduce((function(e,t){return e+t.size}),0)/e.length||0}function o(e){var t=e.length;if(0===t)return[];var n=e.reduce((function(e,t){return e+Math.abs(t)}),0);return 0===n?e.map((function(e){return 1/t})):e.map((function(e){return e/n}))}function r(e){e.parent&&e.parent.layout instanceof We&&e.parent.fit()}e.stretchProperty=new Q({name:"stretch",create:function(){return 0},coerce:function(e,t){return Math.max(0,Math.floor(t))},changed:r}),e.createSizer=t,e.createHandle=n,e.averageSize=i,e.normalize=o}(Ne||(Ne={}));var He,Fe=function(e){function t(t){var n=e.call(this,Ee(Ee({},t),{orientation:t.orientation||"vertical"}))||this;return n._titles=[],n.titleSpace=t.titleSpace||22,n}return Ce(t,e),Object.defineProperty(t.prototype,"titleSpace",{get:function(){return this.widgetOffset},set:function(e){e=je.clampDimension(e),this.widgetOffset!==e&&(this.widgetOffset=e,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"titles",{get:function(){return this._titles},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this.isDisposed||(this._titles.length=0,e.prototype.dispose.call(this))},t.prototype.updateTitle=function(e,t){var n=this._titles[e],i=n.classList.contains("lm-mod-expanded"),o=He.createTitle(this.renderer,t.title,i);this._titles[e]=o,this.parent.node.replaceChild(o,n)},t.prototype.attachWidget=function(t,n){var o=He.createTitle(this.renderer,n.title);i.insert(this._titles,t,o),this.parent.node.appendChild(o),n.node.setAttribute("role","region"),n.node.setAttribute("aria-labelledby",o.id),e.prototype.attachWidget.call(this,t,n)},t.prototype.moveWidget=function(t,n,o){i.move(this._titles,t,n),e.prototype.moveWidget.call(this,t,n,o)},t.prototype.detachWidget=function(t,n){var o=i.removeAt(this._titles,t);this.parent.node.removeChild(o),e.prototype.detachWidget.call(this,t,n)},t.prototype.updateItemPosition=function(t,n,i,o,r,s,a){var c=this._titles[t].style;c.top=o+"px",c.left=i+"px",c.height=this.widgetOffset+"px",c.width=n?r+"px":s+"px",e.prototype.updateItemPosition.call(this,t,n,i,o,r,s,a)},t}(We);(function(e){function t(e,t,n){void 0===n&&(n=!0);var i=e.createSectionTitle(t);return i.style.position="absolute",i.setAttribute("aria-label",t.label+" Section"),i.setAttribute("aria-expanded",n?"true":"false"),i.setAttribute("aria-controls",t.owner.id),n&&i.classList.add("lm-mod-expanded"),i}e.createTitle=t})(He||(He={}));var qe,Ke=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.addClass("lm-Panel"),n.addClass("p-Panel"),n.layout=qe.createLayout(t),n}return Ce(t,e),Object.defineProperty(t.prototype,"widgets",{get:function(){return this.layout.widgets},enumerable:!0,configurable:!0}),t.prototype.addWidget=function(e){this.layout.addWidget(e)},t.prototype.insertWidget=function(e,t){this.layout.insertWidget(e,t)},t}(Pe);(function(e){function t(e){return e.layout||new Re}e.createLayout=t})(qe||(qe={}));var Ve,Ue=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,{layout:Ve.createLayout(t)})||this;return n._handleMoved=new te(n),n._pressData=null,n.addClass("lm-SplitPanel"),n.addClass("p-SplitPanel"),n}return Ce(t,e),t.prototype.dispose=function(){this._releaseMouse(),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"orientation",{get:function(){return this.layout.orientation},set:function(e){this.layout.orientation=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignment",{get:function(){return this.layout.alignment},set:function(e){this.layout.alignment=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){return this.layout.spacing},set:function(e){this.layout.spacing=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderer",{get:function(){return this.layout.renderer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handleMoved",{get:function(){return this._handleMoved},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handles",{get:function(){return this.layout.handles},enumerable:!0,configurable:!0}),t.prototype.relativeSizes=function(){return this.layout.relativeSizes()},t.prototype.setRelativeSizes=function(e,t){void 0===t&&(t=!0),this.layout.setRelativeSizes(e,t)},t.prototype.handleEvent=function(e){switch(e.type){case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"pointerdown":this._evtMouseDown(e);break;case"pointermove":this._evtMouseMove(e);break;case"pointerup":this._evtMouseUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}},t.prototype.onBeforeAttach=function(e){this.node.addEventListener("mousedown",this),this.node.addEventListener("pointerdown",this)},t.prototype.onAfterDetach=function(e){this.node.removeEventListener("mousedown",this),this.node.removeEventListener("pointerdown",this),this._releaseMouse()},t.prototype.onChildAdded=function(e){e.child.addClass("lm-SplitPanel-child"),e.child.addClass("p-SplitPanel-child"),this._releaseMouse()},t.prototype.onChildRemoved=function(e){e.child.removeClass("lm-SplitPanel-child"),e.child.removeClass("p-SplitPanel-child"),this._releaseMouse()},t.prototype._evtKeyDown=function(e){this._pressData&&(e.preventDefault(),e.stopPropagation()),27===e.keyCode&&this._releaseMouse()},t.prototype._evtMouseDown=function(e){if(0===e.button){var t=this.layout,n=i.findFirstIndex(t.handles,(function(t){return t.contains(e.target)}));if(-1!==n){var o;e.preventDefault(),e.stopPropagation(),document.addEventListener("mouseup",this,!0),document.addEventListener("mousemove",this,!0),document.addEventListener("pointerup",this,!0),document.addEventListener("pointermove",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0);var r=t.handles[n],s=r.getBoundingClientRect();o="horizontal"===t.orientation?e.clientX-s.left:e.clientY-s.top;var a=window.getComputedStyle(r),c=ce.overrideCursor(a.cursor);this._pressData={index:n,delta:o,override:c}}}},t.prototype._evtMouseMove=function(e){var t;e.preventDefault(),e.stopPropagation();var n=this.layout,i=this.node.getBoundingClientRect();t="horizontal"===n.orientation?e.clientX-i.left-this._pressData.delta:e.clientY-i.top-this._pressData.delta,n.moveHandle(this._pressData.index,t)},t.prototype._evtMouseUp=function(e){0===e.button&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse())},t.prototype._releaseMouse=function(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._handleMoved.emit(),document.removeEventListener("mouseup",this,!0),document.removeEventListener("mousemove",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("pointerup",this,!0),document.removeEventListener("pointermove",this,!0),document.removeEventListener("contextmenu",this,!0))},t}(Ke);(function(e){var t=function(){function e(){}return e.prototype.createHandle=function(){var e=document.createElement("div");return e.className="lm-SplitPanel-handle",e.classList.add("p-SplitPanel-handle"),e},e}();function n(e){return We.getStretch(e)}function i(e,t){We.setStretch(e,t)}e.Renderer=t,e.defaultRenderer=new t,e.getStretch=n,e.setStretch=i})(Ue||(Ue={})),function(e){function t(e){return e.layout||new We({renderer:e.renderer||Ue.defaultRenderer,orientation:e.orientation,alignment:e.alignment,spacing:e.spacing})}e.createLayout=t}(Ve||(Ve={}));var Ye,Xe=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,Ee(Ee({},t),{layout:Ye.createLayout(t)}))||this;return n._widgetSizesCache=new WeakMap,n.addClass("lm-AccordionPanel"),n}return Ce(t,e),Object.defineProperty(t.prototype,"renderer",{get:function(){return this.layout.renderer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"titleSpace",{get:function(){return this.layout.titleSpace},set:function(e){this.layout.titleSpace=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"titles",{get:function(){return this.layout.titles},enumerable:!0,configurable:!0}),t.prototype.addWidget=function(t){e.prototype.addWidget.call(this,t),t.title.changed.connect(this._onTitleChanged,this)},t.prototype.insertWidget=function(t,n){e.prototype.insertWidget.call(this,t,n),n.title.changed.connect(this._onTitleChanged,this)},t.prototype.handleEvent=function(t){switch(e.prototype.handleEvent.call(this,t),t.type){case"click":this._evtClick(t);break;case"keydown":this._eventKeyDown(t);break}},t.prototype.onBeforeAttach=function(t){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),e.prototype.onBeforeAttach.call(this,t)},t.prototype.onAfterDetach=function(t){e.prototype.onAfterDetach.call(this,t),this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this)},t.prototype._onTitleChanged=function(e){var t=i.findFirstIndex(this.widgets,(function(t){return t.contains(e.owner)}));t>=0&&(this.layout.updateTitle(t,e.owner),this.update())},t.prototype._computeWidgetSize=function(e){var t=this.layout,n=t.widgets[e];if(n){var i=n.isHidden,o=t.absoluteSizes(),r=(i?-1:1)*this.spacing,s=o.reduce((function(e,t){return e+t})),a=ke(o);if(i){var c=this._widgetSizesCache.get(n);if(!c)return;a[e]+=c;d=a.map((function(e){return e-c>0})).lastIndexOf(!0);-1===d?a.forEach((function(t,n){n!==e&&(a[n]-=o[n]/s*(c-r))})):a[d]-=c-r}else{var l=o[e];this._widgetSizesCache.set(n,l),a[e]=0;var d=a.map((function(e){return e>0})).lastIndexOf(!0);if(-1===d)return;a[d]=o[d]+l+r}return a.map((function(e){return e/(s+r)}))}},t.prototype._evtClick=function(e){var t=e.target;if(t){var n=i.findFirstIndex(this.titles,(function(e){return e.contains(t)}));if(n>=0){e.preventDefault(),e.stopPropagation();var o=this.titles[n],r=this.layout.widgets[n],s=this._computeWidgetSize(n);s&&this.setRelativeSizes(s,!1),r.isHidden?(o.classList.add("lm-mod-expanded"),o.setAttribute("aria-expanded","true"),r.show()):(o.classList.remove("lm-mod-expanded"),o.setAttribute("aria-expanded","false"),r.hide())}}},t.prototype._eventKeyDown=function(e){if(!e.defaultPrevented){var t=e.target,n=!1;if(t){var o=i.findFirstIndex(this.titles,(function(e){return e.contains(t)}));if(o>=0){var r=e.keyCode.toString();if(e.key.match(/Space|Enter/)||r.match(/13|32/))t.click(),n=!0;else if("horizontal"===this.orientation?e.key.match(/ArrowLeft|ArrowRight/)||r.match(/37|39/):e.key.match(/ArrowUp|ArrowDown/)||r.match(/38|40/)){var s=e.key.match(/ArrowLeft|ArrowUp/)||r.match(/37|38/)?-1:1,a=this.titles.length,c=(o+a+s)%a;this.titles[c].focus(),n=!0}else"End"===e.key||"35"===r?(this.titles[this.titles.length-1].focus(),n=!0):"Home"!==e.key&&"36"!==r||(this.titles[0].focus(),n=!0)}n&&e.preventDefault()}}},t}(Ue);(function(e){var t=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.titleClassName="lm-AccordionPanel-title",t._titleID=0,t._titleKeys=new WeakMap,t}return Ce(t,e),t.prototype.createCollapseIcon=function(e){return document.createElement("span")},t.prototype.createSectionTitle=function(e){var t=document.createElement("h3");for(var n in t.setAttribute("role","button"),t.setAttribute("tabindex","0"),t.id=this.createTitleKey(e),t.className=this.titleClassName,t.title=e.caption,e.dataset)t.dataset[n]=e.dataset[n];var i=t.appendChild(this.createCollapseIcon(e));i.className="lm-AccordionPanel-titleCollapser";var o=t.appendChild(document.createElement("span"));return o.className="lm-AccordionPanel-titleLabel",o.textContent=e.label,t},t.prototype.createTitleKey=function(e){var t=this._titleKeys.get(e);return void 0===t&&(t="title-key-"+this._titleID++,this._titleKeys.set(e,t)),t},t}(Ue.Renderer);e.Renderer=t,e.defaultRenderer=new t})(Xe||(Xe={})),function(e){function t(e){return e.layout||new Fe({renderer:e.renderer||Xe.defaultRenderer,orientation:e.orientation,alignment:e.alignment,spacing:e.spacing,titleSpace:e.titleSpace})}e.createLayout=t}(Ye||(Ye={}));var $e,Ge=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n._fixed=0,n._spacing=4,n._dirty=!1,n._sizers=[],n._items=[],n._box=null,n._alignment="start",n._direction="top-to-bottom",void 0!==t.direction&&(n._direction=t.direction),void 0!==t.alignment&&(n._alignment=t.alignment),void 0!==t.spacing&&(n._spacing=je.clampDimension(t.spacing)),n}return Ce(t,e),t.prototype.dispose=function(){c(this._items,(function(e){e.dispose()})),this._box=null,this._items.length=0,this._sizers.length=0,e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"direction",{get:function(){return this._direction},set:function(e){this._direction!==e&&(this._direction=e,this.parent&&(this.parent.dataset["direction"]=e,this.parent.fit()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignment",{get:function(){return this._alignment},set:function(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset["alignment"]=e,this.parent.update()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){return this._spacing},set:function(e){e=je.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),t.prototype.init=function(){this.parent.dataset["direction"]=this.direction,this.parent.dataset["alignment"]=this.alignment,e.prototype.init.call(this)},t.prototype.attachWidget=function(e,t){i.insert(this._items,e,new Oe(t)),i.insert(this._sizers,e,new Ae),this.parent.isAttached&&$.sendMessage(t,Pe.Msg.BeforeAttach),this.parent.node.appendChild(t.node),this.parent.isAttached&&$.sendMessage(t,Pe.Msg.AfterAttach),this.parent.fit()},t.prototype.moveWidget=function(e,t,n){i.move(this._items,e,t),i.move(this._sizers,e,t),this.parent.update()},t.prototype.detachWidget=function(e,t){var n=i.removeAt(this._items,e);i.removeAt(this._sizers,e),this.parent.isAttached&&$.sendMessage(t,Pe.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.isAttached&&$.sendMessage(t,Pe.Msg.AfterDetach),n.dispose(),this.parent.fit()},t.prototype.onBeforeShow=function(t){e.prototype.onBeforeShow.call(this,t),this.parent.update()},t.prototype.onBeforeAttach=function(t){e.prototype.onBeforeAttach.call(this,t),this.parent.fit()},t.prototype.onChildShown=function(e){this.parent.fit()},t.prototype.onChildHidden=function(e){this.parent.fit()},t.prototype.onResize=function(e){this.parent.isVisible&&this._update(e.width,e.height)},t.prototype.onUpdateRequest=function(e){this.parent.isVisible&&this._update(-1,-1)},t.prototype.onFitRequest=function(e){this.parent.isAttached&&this._fit()},t.prototype._fit=function(){for(var e=0,n=0,i=this._items.length;n<i;++n)e+=+!this._items[n].isHidden;this._fixed=this._spacing*Math.max(0,e-1);var o=$e.isHorizontal(this._direction),r=o?this._fixed:0,s=o?0:this._fixed;for(n=0,i=this._items.length;n<i;++n){var a=this._items[n],c=this._sizers[n];a.isHidden?(c.minSize=0,c.maxSize=0):(a.fit(),c.sizeHint=t.getSizeBasis(a.widget),c.stretch=t.getStretch(a.widget),o?(c.minSize=a.minWidth,c.maxSize=a.maxWidth,r+=a.minWidth,s=Math.max(s,a.minHeight)):(c.minSize=a.minHeight,c.maxSize=a.maxHeight,s+=a.minHeight,r=Math.max(r,a.minWidth)))}var l=this._box=R.boxSizing(this.parent.node);r+=l.horizontalSum,s+=l.verticalSum;var d=this.parent.node.style;d.minWidth=r+"px",d.minHeight=s+"px",this._dirty=!0,this.parent.parent&&$.sendMessage(this.parent.parent,Pe.Msg.FitRequest),this._dirty&&$.sendMessage(this.parent,Pe.Msg.UpdateRequest)},t.prototype._update=function(e,t){this._dirty=!1;for(var n=0,i=0,o=this._items.length;i<o;++i)n+=+!this._items[i].isHidden;if(0!==n){e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=R.boxSizing(this.parent.node));var r,s=this._box.paddingTop,a=this._box.paddingLeft,c=e-this._box.horizontalSum,l=t-this._box.verticalSum;switch(this._direction){case"left-to-right":r=Ie.calc(this._sizers,Math.max(0,c-this._fixed));break;case"top-to-bottom":r=Ie.calc(this._sizers,Math.max(0,l-this._fixed));break;case"right-to-left":r=Ie.calc(this._sizers,Math.max(0,c-this._fixed)),a+=c;break;case"bottom-to-top":r=Ie.calc(this._sizers,Math.max(0,l-this._fixed)),s+=l;break;default:throw"unreachable"}var d=0,u=0;if(r>0)switch(this._alignment){case"start":break;case"center":d=0,u=r/2;break;case"end":d=0,u=r;break;case"justify":d=r/n,u=0;break;default:throw"unreachable"}for(i=0,o=this._items.length;i<o;++i){var h=this._items[i];if(!h.isHidden){var p=this._sizers[i].size;switch(this._direction){case"left-to-right":h.update(a+u,s,p+d,l),a+=p+d+this._spacing;break;case"top-to-bottom":h.update(a,s+u,c,p+d),s+=p+d+this._spacing;break;case"right-to-left":h.update(a-u-p-d,s,p+d,l),a-=p+d+this._spacing;break;case"bottom-to-top":h.update(a,s-u-p-d,c,p+d),s-=p+d+this._spacing;break;default:throw"unreachable"}}}}},t}(Re);(function(e){function t(e){return $e.stretchProperty.get(e)}function n(e,t){$e.stretchProperty.set(e,t)}function i(e){return $e.sizeBasisProperty.get(e)}function o(e,t){$e.sizeBasisProperty.set(e,t)}e.getStretch=t,e.setStretch=n,e.getSizeBasis=i,e.setSizeBasis=o})(Ge||(Ge={})),function(e){function t(e){return"left-to-right"===e||"right-to-left"===e}function n(e){return Math.max(0,Math.floor(e))}function i(e){e.parent&&e.parent.layout instanceof Ge&&e.parent.fit()}e.stretchProperty=new Q({name:"stretch",create:function(){return 0},coerce:function(e,t){return Math.max(0,Math.floor(t))},changed:i}),e.sizeBasisProperty=new Q({name:"sizeBasis",create:function(){return 0},coerce:function(e,t){return Math.max(0,Math.floor(t))},changed:i}),e.isHorizontal=t,e.clampSpacing=n}($e||($e={}));var Je,Ze=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,{layout:Je.createLayout(t)})||this;return n.addClass("lm-BoxPanel"),n.addClass("p-BoxPanel"),n}return Ce(t,e),Object.defineProperty(t.prototype,"direction",{get:function(){return this.layout.direction},set:function(e){this.layout.direction=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignment",{get:function(){return this.layout.alignment},set:function(e){this.layout.alignment=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){return this.layout.spacing},set:function(e){this.layout.spacing=e},enumerable:!0,configurable:!0}),t.prototype.onChildAdded=function(e){e.child.addClass("lm-BoxPanel-child"),e.child.addClass("p-BoxPanel-child")},t.prototype.onChildRemoved=function(e){e.child.removeClass("lm-BoxPanel-child"),e.child.removeClass("p-BoxPanel-child")},t}(Ke);(function(e){function t(e){return Ge.getStretch(e)}function n(e,t){Ge.setStretch(e,t)}function i(e){return Ge.getSizeBasis(e)}function o(e,t){Ge.setSizeBasis(e,t)}e.getStretch=t,e.setStretch=n,e.getSizeBasis=i,e.setSizeBasis=o})(Ze||(Ze={})),function(e){function t(e){return e.layout||new Ge(e)}e.createLayout=t}(Je||(Je={}));var Qe,et=function(e){function t(n){var i=e.call(this,{node:Qe.createNode()})||this;return i._activeIndex=-1,i._items=[],i._results=null,i.addClass("lm-CommandPalette"),i.addClass("p-CommandPalette"),i.setFlag(Pe.Flag.DisallowLayout),i.commands=n.commands,i.renderer=n.renderer||t.defaultRenderer,i.commands.commandChanged.connect(i._onGenericChange,i),i.commands.keyBindingChanged.connect(i._onGenericChange,i),i}return Ce(t,e),t.prototype.dispose=function(){this._items.length=0,this._results=null,e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"searchNode",{get:function(){return this.node.getElementsByClassName("lm-CommandPalette-search")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputNode",{get:function(){return this.node.getElementsByClassName("lm-CommandPalette-input")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("lm-CommandPalette-content")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),t.prototype.addItem=function(e){var t=Qe.createItem(this.commands,e);return this._items.push(t),this.refresh(),t},t.prototype.addItems=function(e){var t=this,n=e.map((function(e){return Qe.createItem(t.commands,e)}));return n.forEach((function(e){return t._items.push(e)})),this.refresh(),n},t.prototype.removeItem=function(e){this.removeItemAt(this._items.indexOf(e))},t.prototype.removeItemAt=function(e){var t=i.removeAt(this._items,e);t&&this.refresh()},t.prototype.clearItems=function(){0!==this._items.length&&(this._items.length=0,this.refresh())},t.prototype.refresh=function(){if(this._results=null,""!==this.inputNode.value){var e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="inherit"}else{e=this.node.getElementsByClassName("lm-close-icon")[0];e.style.display="none"}this.update()},t.prototype.handleEvent=function(e){switch(e.type){case"click":this._evtClick(e);break;case"keydown":this._evtKeyDown(e);break;case"input":this.refresh();break;case"focus":case"blur":this._toggleFocused();break}},t.prototype.onBeforeAttach=function(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),this.node.addEventListener("input",this),this.node.addEventListener("focus",this,!0),this.node.addEventListener("blur",this,!0)},t.prototype.onAfterDetach=function(e){this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this),this.node.removeEventListener("input",this),this.node.removeEventListener("focus",this,!0),this.node.removeEventListener("blur",this,!0)},t.prototype.onActivateRequest=function(e){if(this.isAttached){var t=this.inputNode;t.focus(),t.select()}},t.prototype.onUpdateRequest=function(e){var t=this.inputNode.value,n=this.contentNode,o=this._results;if(o||(o=this._results=Qe.search(this._items,t),this._activeIndex=t?i.findFirstIndex(o,Qe.canActivate):-1),t||0!==o.length)if(t&&0===o.length){var r=this.renderer.renderEmptyMessage({query:t});_e.render(r,n)}else{for(var s=this.renderer,a=this._activeIndex,c=new Array(o.length),l=0,d=o.length;l<d;++l){var u=o[l];if("header"===u.type){var h=u.indices,p=u.category;c[l]=s.renderHeader({category:p,indices:h})}else{var m=u.item,f=(h=u.indices,l===a);c[l]=s.renderItem({item:m,indices:h,active:f})}}if(_e.render(c,n),a<0||a>=o.length)n.scrollTop=0;else{var v=n.children[a];R.scrollIntoViewIfNeeded(n,v)}}else _e.render(null,n)},t.prototype._evtClick=function(e){if(0===e.button){if(e.target.classList.contains("lm-close-icon"))return this.inputNode.value="",void this.refresh();var t=i.findFirstIndex(this.contentNode.children,(function(t){return t.contains(e.target)}));-1!==t&&(e.preventDefault(),e.stopPropagation(),this._execute(t))}},t.prototype._evtKeyDown=function(e){if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey))switch(e.keyCode){case 13:e.preventDefault(),e.stopPropagation(),this._execute(this._activeIndex);break;case 38:e.preventDefault(),e.stopPropagation(),this._activatePreviousItem();break;case 40:e.preventDefault(),e.stopPropagation(),this._activateNextItem();break}},t.prototype._activateNextItem=function(){if(this._results&&0!==this._results.length){var e=this._activeIndex,t=this._results.length,n=e<t-1?e+1:0,o=0===n?t-1:n-1;this._activeIndex=i.findFirstIndex(this._results,Qe.canActivate,n,o),this.update()}},t.prototype._activatePreviousItem=function(){if(this._results&&0!==this._results.length){var e=this._activeIndex,t=this._results.length,n=e<=0?t-1:e-1,o=n===t-1?0:n+1;this._activeIndex=i.findLastIndex(this._results,Qe.canActivate,n,o),this.update()}},t.prototype._execute=function(e){if(this._results){var t=this._results[e];if(t){if("header"===t.type){var n=this.inputNode;return n.value=t.category.toLowerCase()+" ",n.focus(),void this.refresh()}t.item.isEnabled&&(this.commands.execute(t.item.command,t.item.args),this.inputNode.value="",this.refresh())}}},t.prototype._toggleFocused=function(){var e=document.activeElement===this.inputNode;this.toggleClass("lm-mod-focused",e),this.toggleClass("p-mod-focused",e)},t.prototype._onGenericChange=function(){this.refresh()},t}(Pe);(function(e){var t=function(){function e(){}return e.prototype.renderHeader=function(e){var t=this.formatHeader(e);return xe.li({className:"lm-CommandPalette-header p-CommandPalette-header"},t)},e.prototype.renderItem=function(e){var t=this.createItemClass(e),n=this.createItemDataset(e);return e.item.isToggleable?xe.li({className:t,dataset:n,role:"checkbox","aria-checked":""+e.item.isToggled},this.renderItemIcon(e),this.renderItemContent(e),this.renderItemShortcut(e)):xe.li({className:t,dataset:n},this.renderItemIcon(e),this.renderItemContent(e),this.renderItemShortcut(e))},e.prototype.renderEmptyMessage=function(e){var t=this.formatEmptyMessage(e);return xe.li({className:"lm-CommandPalette-emptyMessage p-CommandPalette-emptyMessage"},t)},e.prototype.renderItemIcon=function(e){var t=this.createIconClass(e);return"string"===typeof e.item.icon?xe.div({className:t},e.item.iconLabel):xe.div({className:t},e.item.icon,e.item.iconLabel)},e.prototype.renderItemContent=function(e){return xe.div({className:"lm-CommandPalette-itemContent p-CommandPalette-itemContent"},this.renderItemLabel(e),this.renderItemCaption(e))},e.prototype.renderItemLabel=function(e){var t=this.formatItemLabel(e);return xe.div({className:"lm-CommandPalette-itemLabel p-CommandPalette-itemLabel"},t)},e.prototype.renderItemCaption=function(e){var t=this.formatItemCaption(e);return xe.div({className:"lm-CommandPalette-itemCaption p-CommandPalette-itemCaption"},t)},e.prototype.renderItemShortcut=function(e){var t=this.formatItemShortcut(e);return xe.div({className:"lm-CommandPalette-itemShortcut p-CommandPalette-itemShortcut"},t)},e.prototype.createItemClass=function(e){var t="lm-CommandPalette-item";t+=" p-CommandPalette-item",e.item.isEnabled||(t+=" lm-mod-disabled",t+=" p-mod-disabled"),e.item.isToggled&&(t+=" lm-mod-toggled",t+=" p-mod-toggled"),e.active&&(t+=" lm-mod-active",t+=" p-mod-active");var n=e.item.className;return n&&(t+=" "+n),t},e.prototype.createItemDataset=function(e){return Ee(Ee({},e.item.dataset),{command:e.item.command})},e.prototype.createIconClass=function(e){var t="lm-CommandPalette-itemIcon";t+=" p-CommandPalette-itemIcon";var n=e.item.iconClass;return n?t+" "+n:t},e.prototype.formatHeader=function(e){return e.indices&&0!==e.indices.length?A.highlight(e.category,e.indices,xe.mark):e.category},e.prototype.formatEmptyMessage=function(e){return"No commands found that match '"+e.query+"'"},e.prototype.formatItemShortcut=function(e){var t=e.item.keyBinding;return t?t.keys.map(fe.formatKeystroke).join(", "):null},e.prototype.formatItemLabel=function(e){return e.indices&&0!==e.indices.length?A.highlight(e.item.label,e.indices,xe.mark):e.item.label},e.prototype.formatItemCaption=function(e){return e.item.caption},e}();e.Renderer=t,e.defaultRenderer=new t})(et||(et={})),function(e){function t(){var e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div"),i=document.createElement("input"),o=document.createElement("ul"),r=document.createElement("button");return t.className="lm-CommandPalette-search",n.className="lm-CommandPalette-wrapper",i.className="lm-CommandPalette-input",r.className="lm-close-icon",o.className="lm-CommandPalette-content",t.classList.add("p-CommandPalette-search"),n.classList.add("p-CommandPalette-wrapper"),i.classList.add("p-CommandPalette-input"),o.classList.add("p-CommandPalette-content"),i.spellcheck=!1,n.appendChild(i),n.appendChild(r),t.appendChild(n),e.appendChild(t),e.appendChild(o),e}function n(e,t){return new h(e,t)}function o(e,t){var n=c(e,t);return n.sort(d),u(n)}function r(e){return"item"===e.type&&e.item.isEnabled}function s(e){return e.trim().replace(/\s+/g," ")}function a(e){return e.replace(/\s+/g,"").toLowerCase()}function c(e,t){t=a(t);for(var n=[],i=0,o=e.length;i<o;++i){var r=e[i];if(r.isVisible)if(t){var s=l(r,t);s&&(r.isEnabled||(s.score+=1e3),n.push(s))}else n.push({matchType:3,categoryIndices:null,labelIndices:null,score:0,item:r})}return n}function l(e,t){var n=e.category.toLowerCase(),o=e.label.toLowerCase(),r=n+" "+o,s=1/0,a=null,c=/\b\w/g;while(1){var l=c.exec(r);if(!l)break;var d=A.matchSumOfDeltas(r,t,l.index);if(!d)break;d&&d.score<=s&&(s=d.score,a=d.indices)}if(!a||s===1/0)return null;for(var u=n.length+1,h=i.lowerBound(a,u,(function(e,t){return e-t})),p=a.slice(0,h),m=a.slice(h),f=0,v=m.length;f<v;++f)m[f]-=u;return 0===p.length?{matchType:0,categoryIndices:null,labelIndices:m,score:s,item:e}:0===m.length?{matchType:1,categoryIndices:p,labelIndices:null,score:s,item:e}:{matchType:2,categoryIndices:p,labelIndices:m,score:s,item:e}}function d(e,t){var n=e.matchType-t.matchType;if(0!==n)return n;var i=e.score-t.score;if(0!==i)return i;var o=0,r=0;switch(e.matchType){case 0:o=e.labelIndices[0],r=t.labelIndices[0];break;case 1:case 2:o=e.categoryIndices[0],r=t.categoryIndices[0];break}if(o!==r)return o-r;var s=e.item.category.localeCompare(t.item.category);if(0!==s)return s;var a=e.item.rank,c=t.item.rank;return a!==c?a<c?-1:1:e.item.label.localeCompare(t.item.label)}function u(e){var t=new Array(e.length);i.fill(t,!1);for(var n=[],o=0,r=e.length;o<r;++o)if(!t[o]){var s=e[o],a=s.item,c=s.categoryIndices,l=a.category;n.push({type:"header",category:l,indices:c});for(var d=o;d<r;++d)if(!t[d]){var u=e[d],h=u.item,p=u.labelIndices;h.category===l&&(n.push({type:"item",item:h,indices:p}),t[d]=!0)}}return n}e.createNode=t,e.createItem=n,e.search=o,e.canActivate=r;var h=function(){function e(e,t){this._commands=e,this.category=s(t.category),this.command=t.command,this.args=t.args||le["JSONExt"].emptyObject,this.rank=void 0!==t.rank?t.rank:1/0}return Object.defineProperty(e.prototype,"label",{get:function(){return this._commands.label(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"icon",{get:function(){return this._commands.icon(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconClass",{get:function(){return this._commands.iconClass(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconLabel",{get:function(){return this._commands.iconLabel(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"caption",{get:function(){return this._commands.caption(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._commands.className(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataset",{get:function(){return this._commands.dataset(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEnabled",{get:function(){return this._commands.isEnabled(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isToggled",{get:function(){return this._commands.isToggled(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isToggleable",{get:function(){return this._commands.isToggleable(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVisible",{get:function(){return this._commands.isVisible(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keyBinding",{get:function(){var e=this,t=e.command,n=e.args;return i.findLastValue(this._commands.keyBindings,(function(e){return e.command===t&&le["JSONExt"].deepEqual(e.args,n)}))||null},enumerable:!0,configurable:!0}),e}()}(Qe||(Qe={}));var tt,nt=function(e){function t(n){var i=e.call(this,{node:tt.createNode()})||this;return i._childIndex=-1,i._activeIndex=-1,i._openTimerID=0,i._closeTimerID=0,i._items=[],i._childMenu=null,i._parentMenu=null,i._aboutToClose=new te(i),i._menuRequested=new te(i),i.addClass("lm-Menu"),i.addClass("p-Menu"),i.setFlag(Pe.Flag.DisallowLayout),i.commands=n.commands,i.renderer=n.renderer||t.defaultRenderer,i}return Ce(t,e),t.prototype.dispose=function(){this.close(),this._items.length=0,e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"aboutToClose",{get:function(){return this._aboutToClose},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"menuRequested",{get:function(){return this._menuRequested},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentMenu",{get:function(){return this._parentMenu},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childMenu",{get:function(){return this._childMenu},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rootMenu",{get:function(){var e=this;while(e._parentMenu)e=e._parentMenu;return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leafMenu",{get:function(){var e=this;while(e._childMenu)e=e._childMenu;return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("lm-Menu-content")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeItem",{get:function(){return this._items[this._activeIndex]||null},set:function(e){this.activeIndex=e?this._items.indexOf(e):-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeIndex",{get:function(){return this._activeIndex},set:function(e){(e<0||e>=this._items.length)&&(e=-1),-1===e||tt.canActivate(this._items[e])||(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this._activeIndex>=0&&this.contentNode.childNodes[this._activeIndex]&&this.contentNode.childNodes[this._activeIndex].focus(),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),t.prototype.activateNextItem=function(){var e=this._items.length,t=this._activeIndex,n=t<e-1?t+1:0,o=0===n?e-1:n-1;this.activeIndex=i.findFirstIndex(this._items,tt.canActivate,n,o)},t.prototype.activatePreviousItem=function(){var e=this._items.length,t=this._activeIndex,n=t<=0?e-1:t-1,o=n===e-1?0:n+1;this.activeIndex=i.findLastIndex(this._items,tt.canActivate,n,o)},t.prototype.triggerActiveItem=function(){if(this.isAttached){var e=this.activeItem;if(e)if(this._cancelOpenTimer(),this._cancelCloseTimer(),"submenu"!==e.type){this.rootMenu.close();var t=e.command,n=e.args;this.commands.isEnabled(t,n)?this.commands.execute(t,n):console.log("Command '"+t+"' is disabled.")}else this._openChildMenu(!0)}},t.prototype.addItem=function(e){return this.insertItem(this._items.length,e)},t.prototype.insertItem=function(e,t){this.isAttached&&this.close(),this.activeIndex=-1;var n=Math.max(0,Math.min(e,this._items.length)),o=tt.createItem(this,t);return i.insert(this._items,n,o),this.update(),o},t.prototype.removeItem=function(e){this.removeItemAt(this._items.indexOf(e))},t.prototype.removeItemAt=function(e){this.isAttached&&this.close(),this.activeIndex=-1;var t=i.removeAt(this._items,e);t&&this.update()},t.prototype.clearItems=function(){this.isAttached&&this.close(),this.activeIndex=-1,0!==this._items.length&&(this._items.length=0,this.update())},t.prototype.open=function(e,t,n){if(void 0===n&&(n={}),!this.isAttached){var i=n.forceX||!1,o=n.forceY||!1;tt.openRootMenu(this,e,t,i,o),this.activate()}},t.prototype.handleEvent=function(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mouseup":this._evtMouseUp(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseenter":this._evtMouseEnter(e);break;case"mouseleave":this._evtMouseLeave(e);break;case"mousedown":this._evtMouseDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}},t.prototype.onBeforeAttach=function(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mouseup",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseenter",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("contextmenu",this),document.addEventListener("mousedown",this,!0)},t.prototype.onAfterDetach=function(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mouseup",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseenter",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("contextmenu",this),document.removeEventListener("mousedown",this,!0)},t.prototype.onActivateRequest=function(e){this.isAttached&&this.node.focus()},t.prototype.onUpdateRequest=function(e){for(var t=this,n=this._items,i=this.renderer,o=this._activeIndex,r=tt.computeCollapsed(n),s=new Array(n.length),a=function(e,a){var c=n[e],l=e===o,d=r[e];s[e]=i.renderItem({item:c,active:l,collapsed:d,onfocus:function(){t.activeIndex=e}})},c=0,l=n.length;c<l;++c)a(c);_e.render(s,this.contentNode)},t.prototype.onCloseRequest=function(t){this._cancelOpenTimer(),this._cancelCloseTimer(),this.activeIndex=-1;var n=this._childMenu;n&&(this._childIndex=-1,this._childMenu=null,n._parentMenu=null,n.close());var i=this._parentMenu;i&&(this._parentMenu=null,i._childIndex=-1,i._childMenu=null,i.activate()),this.isAttached&&this._aboutToClose.emit(void 0),e.prototype.onCloseRequest.call(this,t)},t.prototype._evtKeyDown=function(e){e.preventDefault(),e.stopPropagation();var t=e.keyCode;if(13!==t)if(27!==t)if(37!==t)if(38!==t)if(39!==t)if(40!==t){var n=de().keyForKeydownEvent(e);if(n){var i=this._activeIndex+1,o=tt.findMnemonic(this._items,n,i);-1===o.index||o.multiple?-1!==o.index?this.activeIndex=o.index:-1!==o.auto&&(this.activeIndex=o.auto):(this.activeIndex=o.index,this.triggerActiveItem())}}else this.activateNextItem();else{var r=this.activeItem;r&&"submenu"===r.type?this.triggerActiveItem():this.rootMenu._menuRequested.emit("next")}else this.activatePreviousItem();else this._parentMenu?this.close():this._menuRequested.emit("previous");else this.close();else this.triggerActiveItem()},t.prototype._evtMouseUp=function(e){0===e.button&&(e.preventDefault(),e.stopPropagation(),this.triggerActiveItem())},t.prototype._evtMouseMove=function(e){var t=i.findFirstIndex(this.contentNode.children,(function(t){return R.hitTest(t,e.clientX,e.clientY)}));if(t!==this._activeIndex){if(this.activeIndex=t,t=this.activeIndex,t===this._childIndex)return this._cancelOpenTimer(),void this._cancelCloseTimer();-1!==this._childIndex&&this._startCloseTimer(),this._cancelOpenTimer();var n=this.activeItem;n&&"submenu"===n.type&&n.submenu&&this._startOpenTimer()}},t.prototype._evtMouseEnter=function(e){for(var t=this._parentMenu;t;t=t._parentMenu)t._cancelOpenTimer(),t._cancelCloseTimer(),t.activeIndex=t._childIndex},t.prototype._evtMouseLeave=function(e){if(this._cancelOpenTimer(),this._childMenu){var t=e.clientX,n=e.clientY;R.hitTest(this._childMenu.node,t,n)?this._cancelCloseTimer():(this.activeIndex=-1,this._startCloseTimer())}else this.activeIndex=-1},t.prototype._evtMouseDown=function(e){this._parentMenu||(tt.hitTestMenus(this,e.clientX,e.clientY)?(e.preventDefault(),e.stopPropagation()):this.close())},t.prototype._openChildMenu=function(e){void 0===e&&(e=!1);var t=this.activeItem;if(t&&"submenu"===t.type&&t.submenu){var n=t.submenu;if(n!==this._childMenu){this._closeChildMenu(),this._childMenu=n,this._childIndex=this._activeIndex,n._parentMenu=this,$.sendMessage(this,Pe.Msg.UpdateRequest);var i=this.contentNode.children[this._activeIndex];tt.openSubmenu(n,i),e&&(n.activeIndex=-1,n.activateNextItem()),n.activate()}}else this._closeChildMenu()},t.prototype._closeChildMenu=function(){this._childMenu&&this._childMenu.close()},t.prototype._startOpenTimer=function(){var e=this;0===this._openTimerID&&(this._openTimerID=window.setTimeout((function(){e._openTimerID=0,e._openChildMenu()}),tt.TIMER_DELAY))},t.prototype._startCloseTimer=function(){var e=this;0===this._closeTimerID&&(this._closeTimerID=window.setTimeout((function(){e._closeTimerID=0,e._closeChildMenu()}),tt.TIMER_DELAY))},t.prototype._cancelOpenTimer=function(){0!==this._openTimerID&&(clearTimeout(this._openTimerID),this._openTimerID=0)},t.prototype._cancelCloseTimer=function(){0!==this._closeTimerID&&(clearTimeout(this._closeTimerID),this._closeTimerID=0)},t}(Pe);(function(e){var t=function(){function e(){}return e.prototype.renderItem=function(e){var t=this.createItemClass(e),n=this.createItemDataset(e),i=this.createItemARIA(e);return xe.li(Ee({className:t,dataset:n,tabindex:"0",onfocus:e.onfocus},i),this.renderIcon(e),this.renderLabel(e),this.renderShortcut(e),this.renderSubmenu(e))},e.prototype.renderIcon=function(e){var t=this.createIconClass(e);return"string"===typeof e.item.icon?xe.div({className:t},e.item.iconLabel):xe.div({className:t},e.item.icon,e.item.iconLabel)},e.prototype.renderLabel=function(e){var t=this.formatLabel(e);return xe.div({className:"lm-Menu-itemLabel p-Menu-itemLabel"},t)},e.prototype.renderShortcut=function(e){var t=this.formatShortcut(e);return xe.div({className:"lm-Menu-itemShortcut p-Menu-itemShortcut"},t)},e.prototype.renderSubmenu=function(e){return xe.div({className:"lm-Menu-itemSubmenuIcon p-Menu-itemSubmenuIcon"})},e.prototype.createItemClass=function(e){var t="lm-Menu-item";t+=" p-Menu-item",e.item.isEnabled||(t+=" lm-mod-disabled",t+=" p-mod-disabled"),e.item.isToggled&&(t+=" lm-mod-toggled",t+=" p-mod-toggled"),e.item.isVisible||(t+=" lm-mod-hidden",t+=" p-mod-hidden"),e.active&&(t+=" lm-mod-active",t+=" p-mod-active"),e.collapsed&&(t+=" lm-mod-collapsed",t+=" p-mod-collapsed");var n=e.item.className;return n&&(t+=" "+n),t},e.prototype.createItemDataset=function(e){var t,n=e.item,i=n.type,o=n.command,r=n.dataset;return t=Ee(Ee({},r),"command"===i?{type:i,command:o}:{type:i}),t},e.prototype.createIconClass=function(e){var t="lm-Menu-itemIcon";t+=" p-Menu-itemIcon";var n=e.item.iconClass;return n?t+" "+n:t},e.prototype.createItemARIA=function(e){var t={};switch(e.item.type){case"separator":t.role="presentation";break;case"submenu":t["aria-haspopup"]="true",e.item.isEnabled||(t["aria-disabled"]="true");break;default:e.item.isEnabled||(t["aria-disabled"]="true"),t.role="menuitem"}return t},e.prototype.formatLabel=function(e){var t=e.item,n=t.label,i=t.mnemonic;if(i<0||i>=n.length)return n;var o=n.slice(0,i),r=n.slice(i+1),s=n[i],a=xe.span({className:"lm-Menu-itemMnemonic p-Menu-itemMnemonic"},s);return[o,a,r]},e.prototype.formatShortcut=function(e){var t=e.item.keyBinding;return t?t.keys.map(fe.formatKeystroke).join(", "):null},e}();e.Renderer=t,e.defaultRenderer=new t})(nt||(nt={})),function(e){function t(){var e=document.createElement("div"),t=document.createElement("ul");return t.className="lm-Menu-content",t.classList.add("p-Menu-content"),e.appendChild(t),t.setAttribute("role","menu"),e.tabIndex=0,e}function n(e){return"separator"!==e.type&&e.isEnabled&&e.isVisible}function o(e,t){return new d(e.commands,t)}function r(e,t,n){for(var i=e;i;i=i.childMenu)if(R.hitTest(i.node,t,n))return!0;return!1}function s(e){var t=new Array(e.length);i.fill(t,!1);for(var n=0,o=e.length;n<o;++n){var r=e[n];if(r.isVisible){if("separator"!==r.type)break;t[n]=!0}}for(var s=o-1;s>=0;--s){r=e[s];if(r.isVisible){if("separator"!==r.type)break;t[s]=!0}}var a=!1;while(++n<s){r=e[n];r.isVisible&&("separator"!==r.type?a=!1:a?t[n]=!0:a=!0)}return t}function a(e,t,n,i,o){$.sendMessage(e,Pe.Msg.UpdateRequest);var r=window.pageXOffset,s=window.pageYOffset,a=document.documentElement.clientWidth,c=document.documentElement.clientHeight,l=c-(o?n:0),d=e.node,u=d.style;u.top="",u.left="",u.width="",u.height="",u.visibility="hidden",u.maxHeight=l+"px",Pe.attach(e,document.body);var h=d.getBoundingClientRect(),p=h.width,m=h.height;!i&&t+p>r+a&&(t=r+a-p),!o&&n+m>s+c&&(n>s+c?n=s+c-m:n-=m),u.top=Math.max(0,n)+"px",u.left=Math.max(0,t)+"px",u.visibility=""}function c(t,n){$.sendMessage(t,Pe.Msg.UpdateRequest);var i=window.pageXOffset,o=window.pageYOffset,r=document.documentElement.clientWidth,s=document.documentElement.clientHeight,a=s,c=t.node,l=c.style;l.top="",l.left="",l.width="",l.height="",l.visibility="hidden",l.maxHeight=a+"px",Pe.attach(t,document.body);var d=c.getBoundingClientRect(),u=d.width,h=d.height,p=R.boxSizing(t.node),m=n.getBoundingClientRect(),f=m.right-e.SUBMENU_OVERLAP;f+u>i+r&&(f=m.left+e.SUBMENU_OVERLAP-u);var v=m.top-p.borderTop-p.paddingTop;v+h>o+s&&(v=m.bottom+p.borderBottom+p.paddingBottom-h),l.top=Math.max(0,v)+"px",l.left=Math.max(0,f)+"px",l.visibility=""}function l(e,t,i){for(var o=-1,r=-1,s=!1,a=t.toUpperCase(),c=0,l=e.length;c<l;++c){var d=(c+i)%l,u=e[d];if(n(u)){var h=u.label;if(0!==h.length){var p=u.mnemonic;p>=0&&p<h.length?h[p].toUpperCase()===a&&(-1===o?o=d:s=!0):-1===r&&h[0].toUpperCase()===a&&(r=d)}}}return{index:o,multiple:s,auto:r}}e.TIMER_DELAY=300,e.SUBMENU_OVERLAP=3,e.createNode=t,e.canActivate=n,e.createItem=o,e.hitTestMenus=r,e.computeCollapsed=s,e.openRootMenu=a,e.openSubmenu=c,e.findMnemonic=l;var d=function(){function e(e,t){this._commands=e,this.type=t.type||"command",this.command=t.command||"",this.args=t.args||le["JSONExt"].emptyObject,this.submenu=t.submenu||null}return Object.defineProperty(e.prototype,"label",{get:function(){return"command"===this.type?this._commands.label(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.label:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mnemonic",{get:function(){return"command"===this.type?this._commands.mnemonic(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.mnemonic:-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"icon",{get:function(){return"command"===this.type?this._commands.icon(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.icon:this.iconClass},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconClass",{get:function(){return"command"===this.type?this._commands.iconClass(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.iconClass:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconLabel",{get:function(){return"command"===this.type?this._commands.iconLabel(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.iconLabel:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"caption",{get:function(){return"command"===this.type?this._commands.caption(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.caption:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return"command"===this.type?this._commands.className(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.className:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataset",{get:function(){return"command"===this.type?this._commands.dataset(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.dataset:{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEnabled",{get:function(){return"command"===this.type?this._commands.isEnabled(this.command,this.args):"submenu"!==this.type||null!==this.submenu},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isToggled",{get:function(){return"command"===this.type&&this._commands.isToggled(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVisible",{get:function(){return"command"===this.type?this._commands.isVisible(this.command,this.args):"submenu"!==this.type||null!==this.submenu},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keyBinding",{get:function(){if("command"===this.type){var e=this,t=e.command,n=e.args;return i.findLastValue(this._commands.keyBindings,(function(e){return e.command===t&&le["JSONExt"].deepEqual(e.args,n)}))||null}return null},enumerable:!0,configurable:!0}),e}()}(tt||(tt={}));var it;(function(){function e(e){this._groupByTarget=!0,this._idTick=0,this._items=[],this._sortBySelector=!0;var t=e.groupByTarget,n=e.sortBySelector,i=Se(e,["groupByTarget","sortBySelector"]);this.menu=new nt(i),this._groupByTarget=!1!==t,this._sortBySelector=!1!==n}e.prototype.addItem=function(e){var t=this,n=it.createItem(e,this._idTick++);return this._items.push(n),new oe((function(){i.removeFirstOf(t._items,n)}))},e.prototype.open=function(e){var t=this;if(this.menu.clearItems(),0===this._items.length)return!1;var n=it.matchItems(this._items,e,this._groupByTarget,this._sortBySelector);return!(!n||0===n.length)&&(c(n,(function(e){t.menu.addItem(e)})),this.menu.open(e.clientX,e.clientY),!0)}})();(function(e){function t(e,t){var n=i(e.selector),o=void 0!==e.rank?e.rank:1/0;return Ee(Ee({},e),{selector:n,rank:o,id:t})}function n(e,t,n,i){var s=t.target;if(!s)return null;var a=t.currentTarget;if(!a)return null;if(!a.contains(s)&&(s=document.elementFromPoint(t.clientX,t.clientY),!s||!a.contains(s)))return null;var c=[],l=e.slice();while(null!==s){for(var d=[],u=0,h=l.length;u<h;++u){var p=l[u];p&&(j.matches(s,p.selector)&&(d.push(p),l[u]=null))}if(0!==d.length&&(n&&d.sort(i?r:o),c.push.apply(c,d)),s===a)break;s=s.parentElement}return n||c.sort(i?r:o),c}function i(e){if(-1!==e.indexOf(","))throw new Error("Selector cannot contain commas: "+e);if(!j.isValid(e))throw new Error("Invalid selector: "+e);return e}function o(e,t){var n=e.rank,i=t.rank;return n!==i?n<i?-1:1:e.id-t.id}function r(e,t){var n=j.calculateSpecificity(e.selector),i=j.calculateSpecificity(t.selector);return n!==i?i-n:o(e,t)}e.createItem=t,e.matchItems=n})(it||(it={}));var ot,rt=function(e){function t(n){void 0===n&&(n={});var i=e.call(this,{node:ot.createNode()})||this;return i._currentIndex=-1,i._titles=[],i._titlesEditable=!1,i._previousTitle=null,i._dragData=null,i._addButtonEnabled=!1,i._tabMoved=new te(i),i._currentChanged=new te(i),i._addRequested=new te(i),i._tabCloseRequested=new te(i),i._tabDetachRequested=new te(i),i._tabActivateRequested=new te(i),i.addClass("lm-TabBar"),i.addClass("p-TabBar"),i.contentNode.setAttribute("role","tablist"),i.setFlag(Pe.Flag.DisallowLayout),i._document=n.document||document,i.tabsMovable=n.tabsMovable||!1,i.titlesEditable=n.titlesEditable||!1,i.allowDeselect=n.allowDeselect||!1,i.addButtonEnabled=n.addButtonEnabled||!1,i.insertBehavior=n.insertBehavior||"select-tab-if-needed",i.name=n.name||"",i.orientation=n.orientation||"horizontal",i.removeBehavior=n.removeBehavior||"select-tab-after",i.renderer=n.renderer||t.defaultRenderer,i}return Ce(t,e),t.prototype.dispose=function(){this._releaseMouse(),this._titles.length=0,this._previousTitle=null,e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"currentChanged",{get:function(){return this._currentChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabMoved",{get:function(){return this._tabMoved},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabActivateRequested",{get:function(){return this._tabActivateRequested},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"addRequested",{get:function(){return this._addRequested},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabCloseRequested",{get:function(){return this._tabCloseRequested},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabDetachRequested",{get:function(){return this._tabDetachRequested},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"document",{get:function(){return this._document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"titlesEditable",{get:function(){return this._titlesEditable},set:function(e){this._titlesEditable=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentTitle",{get:function(){return this._titles[this._currentIndex]||null},set:function(e){this.currentIndex=e?this._titles.indexOf(e):-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentIndex",{get:function(){return this._currentIndex},set:function(e){if((e<0||e>=this._titles.length)&&(e=-1),this._currentIndex!==e){var t=this._currentIndex,n=this._titles[t]||null,i=e,o=this._titles[i]||null;this._currentIndex=i,this._previousTitle=n,this.update(),this._currentChanged.emit({previousIndex:t,previousTitle:n,currentIndex:i,currentTitle:o})}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e,e?this.contentNode.setAttribute("aria-label",e):this.contentNode.removeAttribute("aria-label")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this._orientation},set:function(e){this._orientation!==e&&(this._releaseMouse(),this._orientation=e,this.dataset["orientation"]=e,this.contentNode.setAttribute("aria-orientation",e))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"addButtonEnabled",{get:function(){return this._addButtonEnabled},set:function(e){this._addButtonEnabled!==e&&(this._addButtonEnabled=e,e?this.addButtonNode.classList.remove("lm-mod-hidden"):this.addButtonNode.classList.add("lm-mod-hidden"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"titles",{get:function(){return this._titles},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("lm-TabBar-content")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"addButtonNode",{get:function(){return this.node.getElementsByClassName("lm-TabBar-addButton")[0]},enumerable:!0,configurable:!0}),t.prototype.addTab=function(e){return this.insertTab(this._titles.length,e)},t.prototype.insertTab=function(e,t){this._releaseMouse();var n=ot.asTitle(t),o=this._titles.indexOf(n),r=Math.max(0,Math.min(e,this._titles.length));return-1===o?(i.insert(this._titles,r,n),n.changed.connect(this._onTitleChanged,this),this.update(),this._adjustCurrentForInsert(r,n),n):(r===this._titles.length&&r--,o===r||(i.move(this._titles,o,r),this.update(),this._adjustCurrentForMove(o,r)),n)},t.prototype.removeTab=function(e){this.removeTabAt(this._titles.indexOf(e))},t.prototype.removeTabAt=function(e){this._releaseMouse();var t=i.removeAt(this._titles,e);t&&(t.changed.disconnect(this._onTitleChanged,this),t===this._previousTitle&&(this._previousTitle=null),this.update(),this._adjustCurrentForRemove(e,t))},t.prototype.clearTabs=function(){if(0!==this._titles.length){this._releaseMouse();for(var e=0,t=this._titles;e<t.length;e++){var n=t[e];n.changed.disconnect(this._onTitleChanged,this)}var i=this.currentIndex,o=this.currentTitle;this._currentIndex=-1,this._previousTitle=null,this._titles.length=0,this.update(),-1!==i&&this._currentChanged.emit({previousIndex:i,previousTitle:o,currentIndex:-1,currentTitle:null})}},t.prototype.releaseMouse=function(){this._releaseMouse()},t.prototype.handleEvent=function(e){switch(e.type){case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"pointerdown":this._evtMouseDown(e);break;case"pointermove":this._evtMouseMove(e);break;case"pointerup":this._evtMouseUp(e);break;case"dblclick":this._evtDblClick(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}},t.prototype.onBeforeAttach=function(e){this.node.addEventListener("mousedown",this),this.node.addEventListener("pointerdown",this),this.node.addEventListener("dblclick",this)},t.prototype.onAfterDetach=function(e){this.node.removeEventListener("mousedown",this),this.node.removeEventListener("pointerdown",this),this.node.removeEventListener("dblclick",this),this._releaseMouse()},t.prototype.onUpdateRequest=function(e){for(var t=this._titles,n=this.renderer,i=this.currentTitle,o=new Array(t.length),r=0,s=t.length;r<s;++r){var a=t[r],c=a===i,l=c?s:s-r-1;o[r]=n.renderTab({title:a,current:c,zIndex:l})}_e.render(o,this.contentNode)},t.prototype._evtDblClick=function(e){if(this.titlesEditable){var t=this.contentNode.children,n=i.findFirstIndex(t,(function(t){return R.hitTest(t,e.clientX,e.clientY)}));if(-1!==n){var o=this.titles[n],r=t[n].querySelector(".lm-TabBar-tabLabel");if(r&&r.contains(e.target)){var s=o.label||"",a=r.innerHTML;r.innerHTML="";var c=document.createElement("input");c.classList.add("lm-TabBar-tabInput"),c.value=s,r.appendChild(c);var l=function(){c.removeEventListener("blur",l),r.innerHTML=a};c.addEventListener("dblclick",(function(e){return e.stopPropagation()})),c.addEventListener("blur",l),c.addEventListener("keydown",(function(e){"Enter"===e.key?(""!==c.value&&(o.label=o.caption=c.value),l()):"Escape"===e.key&&l()})),c.select(),c.focus(),r.children.length>0&&r.children[0].focus()}}}},t.prototype._evtKeyDown=function(e){e.preventDefault(),e.stopPropagation(),27===e.keyCode&&this._releaseMouse()},t.prototype._evtMouseDown=function(e){if((0===e.button||1===e.button)&&!this._dragData){var t=this.addButtonEnabled&&this.addButtonNode.contains(e.target),n=this.contentNode.children,o=i.findFirstIndex(n,(function(t){return R.hitTest(t,e.clientX,e.clientY)}));if((-1!==o||t)&&(e.preventDefault(),e.stopPropagation(),this._dragData={tab:n[o],index:o,pressX:e.clientX,pressY:e.clientY,tabPos:-1,tabSize:-1,tabPressPos:-1,targetIndex:-1,tabLayout:null,contentRect:null,override:null,dragActive:!1,dragAborted:!1,detachRequested:!1},this.document.addEventListener("mouseup",this,!0),this.document.addEventListener("pointerup",this,!0),1!==e.button&&!t)){var r=n[o].querySelector(this.renderer.closeIconSelector);r&&r.contains(e.target)||(this.tabsMovable&&(this.document.addEventListener("mousemove",this,!0),this.document.addEventListener("pointermove",this,!0),this.document.addEventListener("keydown",this,!0),this.document.addEventListener("contextmenu",this,!0)),this.allowDeselect&&this.currentIndex===o?this.currentIndex=-1:this.currentIndex=o,-1!==this.currentIndex&&this._tabActivateRequested.emit({index:this.currentIndex,title:this.currentTitle}))}}},t.prototype._evtMouseMove=function(e){var t=this._dragData;if(t){e.preventDefault(),e.stopPropagation();var n=this.contentNode.children;if(t.dragActive||ot.dragExceeded(t,e)){if(!t.dragActive){var i=t.tab.getBoundingClientRect();"horizontal"===this._orientation?(t.tabPos=t.tab.offsetLeft,t.tabSize=i.width,t.tabPressPos=t.pressX-i.left):(t.tabPos=t.tab.offsetTop,t.tabSize=i.height,t.tabPressPos=t.pressY-i.top),t.tabLayout=ot.snapTabLayout(n,this._orientation),t.contentRect=this.contentNode.getBoundingClientRect(),t.override=ce.overrideCursor("default"),t.tab.classList.add("lm-mod-dragging"),this.addClass("lm-mod-dragging"),t.tab.classList.add("p-mod-dragging"),this.addClass("p-mod-dragging"),t.dragActive=!0}if(!t.detachRequested&&ot.detachExceeded(t,e)){t.detachRequested=!0;var o=t.index,r=e.clientX,s=e.clientY,a=n[o],c=this._titles[o];if(this._tabDetachRequested.emit({index:o,title:c,tab:a,clientX:r,clientY:s}),t.dragAborted)return}ot.layoutTabs(n,t,e,this._orientation)}}},t.prototype._evtMouseUp=function(e){var t=this;if(0===e.button||1===e.button){var n=this._dragData;if(n){if(e.preventDefault(),e.stopPropagation(),this.document.removeEventListener("mousemove",this,!0),this.document.removeEventListener("mouseup",this,!0),this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),!n.dragActive){this._dragData=null;var o=this.addButtonEnabled&&this.addButtonNode.contains(e.target);if(o)return void this._addRequested.emit(void 0);var r=this.contentNode.children,s=i.findFirstIndex(r,(function(t){return R.hitTest(t,e.clientX,e.clientY)}));if(s!==n.index)return;var a=this._titles[s];if(!a.closable)return;if(1===e.button)return void this._tabCloseRequested.emit({index:s,title:a});var c=r[s].querySelector(this.renderer.closeIconSelector);return c&&c.contains(e.target)?void this._tabCloseRequested.emit({index:s,title:a}):void 0}if(0===e.button){ot.finalizeTabPosition(n,this._orientation),n.tab.classList.remove("lm-mod-dragging"),n.tab.classList.remove("p-mod-dragging");var l=ot.parseTransitionDuration(n.tab);setTimeout((function(){if(!n.dragAborted){t._dragData=null,ot.resetTabPositions(t.contentNode.children,t._orientation),n.override.dispose(),t.removeClass("lm-mod-dragging"),t.removeClass("p-mod-dragging");var e=n.index,o=n.targetIndex;-1!==o&&e!==o&&(i.move(t._titles,e,o),t._adjustCurrentForMove(e,o),t._tabMoved.emit({fromIndex:e,toIndex:o,title:t._titles[o]}),$.sendMessage(t,Pe.Msg.UpdateRequest))}}),l)}}}},t.prototype._releaseMouse=function(){var e=this._dragData;e&&(this._dragData=null,this.document.removeEventListener("mousemove",this,!0),this.document.removeEventListener("mouseup",this,!0),this.document.removeEventListener("pointermove",this,!0),this.document.removeEventListener("pointerup",this,!0),this.document.removeEventListener("keydown",this,!0),this.document.removeEventListener("contextmenu",this,!0),e.dragAborted=!0,e.dragActive&&(ot.resetTabPositions(this.contentNode.children,this._orientation),e.override.dispose(),e.tab.classList.remove("lm-mod-dragging"),this.removeClass("lm-mod-dragging"),e.tab.classList.remove("p-mod-dragging"),this.removeClass("p-mod-dragging")))},t.prototype._adjustCurrentForInsert=function(e,t){var n=this.currentTitle,i=this._currentIndex,o=this.insertBehavior;if("select-tab"===o||"select-tab-if-needed"===o&&-1===i)return this._currentIndex=e,this._previousTitle=n,void this._currentChanged.emit({previousIndex:i,previousTitle:n,currentIndex:e,currentTitle:t});i>=e&&this._currentIndex++},t.prototype._adjustCurrentForMove=function(e,t){this._currentIndex===e?this._currentIndex=t:this._currentIndex<e&&this._currentIndex>=t?this._currentIndex++:this._currentIndex>e&&this._currentIndex<=t&&this._currentIndex--},t.prototype._adjustCurrentForRemove=function(e,t){var n=this._currentIndex,i=this.removeBehavior;if(n===e){if(0===this._titles.length)return this._currentIndex=-1,void this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:-1,currentTitle:null});if("select-tab-after"===i)return this._currentIndex=Math.min(e,this._titles.length-1),void this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:this._currentIndex,currentTitle:this.currentTitle});if("select-tab-before"===i)return this._currentIndex=Math.max(0,e-1),void this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:this._currentIndex,currentTitle:this.currentTitle});if("select-previous-tab"===i)return this._previousTitle?(this._currentIndex=this._titles.indexOf(this._previousTitle),this._previousTitle=null):this._currentIndex=Math.min(e,this._titles.length-1),void this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:this._currentIndex,currentTitle:this.currentTitle});this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:-1,currentTitle:null})}else n>e&&this._currentIndex--},t.prototype._onTitleChanged=function(e){this.update()},t}(Pe);(function(e){var t=function(){function e(){this.closeIconSelector=".lm-TabBar-tabCloseIcon",this._tabID=0,this._tabKeys=new WeakMap}return e.prototype.renderTab=function(e){var t=e.title.caption,n=this.createTabKey(e),i=n,o=this.createTabStyle(e),r=this.createTabClass(e),s=this.createTabDataset(e),a=this.createTabARIA(e);return e.title.closable?xe.li(Ee({id:i,key:n,className:r,title:t,style:o,dataset:s},a),this.renderIcon(e),this.renderLabel(e),this.renderCloseIcon(e)):xe.li(Ee({id:i,key:n,className:r,title:t,style:o,dataset:s},a),this.renderIcon(e),this.renderLabel(e))},e.prototype.renderIcon=function(e){var t=e.title,n=this.createIconClass(e);return"string"===typeof t.icon?xe.div({className:n},t.iconLabel):xe.div({className:n},t.icon,t.iconLabel)},e.prototype.renderLabel=function(e){return xe.div({className:"lm-TabBar-tabLabel p-TabBar-tabLabel"},e.title.label)},e.prototype.renderCloseIcon=function(e){return xe.div({className:"lm-TabBar-tabCloseIcon p-TabBar-tabCloseIcon"})},e.prototype.createTabKey=function(e){var t=this._tabKeys.get(e.title);return void 0===t&&(t="tab-key-"+this._tabID++,this._tabKeys.set(e.title,t)),t},e.prototype.createTabStyle=function(e){return{zIndex:""+e.zIndex}},e.prototype.createTabClass=function(e){var t="lm-TabBar-tab";return t+=" p-TabBar-tab",e.title.className&&(t+=" "+e.title.className),e.title.closable&&(t+=" lm-mod-closable",t+=" p-mod-closable"),e.current&&(t+=" lm-mod-current",t+=" p-mod-current"),t},e.prototype.createTabDataset=function(e){return e.title.dataset},e.prototype.createTabARIA=function(e){return{role:"tab","aria-selected":e.current.toString()}},e.prototype.createIconClass=function(e){var t="lm-TabBar-tabIcon";t+=" p-TabBar-tabIcon";var n=e.title.iconClass;return n?t+" "+n:t},e}();e.Renderer=t,e.defaultRenderer=new t,e.addButtonSelector=".lm-TabBar-addButton"})(rt||(rt={})),function(e){function t(){var e=document.createElement("div"),t=document.createElement("ul");t.setAttribute("role","tablist"),t.className="lm-TabBar-content",t.classList.add("p-TabBar-content"),e.appendChild(t);var n=document.createElement("div");return n.className="lm-TabBar-addButton lm-mod-hidden",e.appendChild(n),e}function n(e){return e instanceof Le?e:new Le(e)}function i(e){var t=window.getComputedStyle(e);return 1e3*(parseFloat(t.transitionDuration)||0)}function o(e,t){for(var n=new Array(e.length),i=0,o=e.length;i<o;++i){var r=e[i],s=window.getComputedStyle(r);n[i]="horizontal"===t?{pos:r.offsetLeft,size:r.offsetWidth,margin:parseFloat(s.marginLeft)||0}:{pos:r.offsetTop,size:r.offsetHeight,margin:parseFloat(s.marginTop)||0}}return n}function r(t,n){var i=Math.abs(n.clientX-t.pressX),o=Math.abs(n.clientY-t.pressY);return i>=e.DRAG_THRESHOLD||o>=e.DRAG_THRESHOLD}function s(t,n){var i=t.contentRect;return n.clientX<i.left-e.DETACH_THRESHOLD||n.clientX>=i.right+e.DETACH_THRESHOLD||n.clientY<i.top-e.DETACH_THRESHOLD||n.clientY>=i.bottom+e.DETACH_THRESHOLD}function a(e,t,n,i){var o,r,s,a;"horizontal"===i?(o=t.pressX,r=n.clientX-t.contentRect.left,s=n.clientX,a=t.contentRect.width):(o=t.pressY,r=n.clientY-t.contentRect.top,s=n.clientY,a=t.contentRect.height);for(var c=t.index,l=r-t.tabPressPos,d=l+t.tabSize,u=0,h=e.length;u<h;++u){var p=void 0,m=t.tabLayout[u],f=m.pos+(m.size>>1);if(u<t.index&&l<f)p=t.tabSize+t.tabLayout[u+1].margin+"px",c=Math.min(c,u);else if(u>t.index&&d>f)p=-t.tabSize-m.margin+"px",c=Math.max(c,u);else if(u===t.index){var v=s-o,g=a-(t.tabPos+t.tabSize);p=Math.max(-t.tabPos,Math.min(v,g))+"px"}else p="";"horizontal"===i?e[u].style.left=p:e[u].style.top=p}t.targetIndex=c}function l(e,t){var n,i;if(n="horizontal"===t?e.contentRect.width:e.contentRect.height,e.targetIndex===e.index)i=0;else if(e.targetIndex>e.index){var o=e.tabLayout[e.targetIndex];i=o.pos+o.size-e.tabSize-e.tabPos}else{o=e.tabLayout[e.targetIndex];i=o.pos-e.tabPos}var r=n-(e.tabPos+e.tabSize),s=Math.max(-e.tabPos,Math.min(i,r));"horizontal"===t?e.tab.style.left=s+"px":e.tab.style.top=s+"px"}function d(e,t){c(e,(function(e){"horizontal"===t?e.style.left="":e.style.top=""}))}e.DRAG_THRESHOLD=5,e.DETACH_THRESHOLD=20,e.createNode=t,e.asTitle=n,e.parseTransitionDuration=i,e.snapTabLayout=o,e.dragExceeded=r,e.detachExceeded=s,e.layoutTabs=a,e.finalizeTabPosition=l,e.resetTabPositions=d}(ot||(ot={}));var st,at=function(e){function t(t){var n=e.call(this)||this;return n._spacing=4,n._dirty=!1,n._root=null,n._box=null,n._items=new Map,n.renderer=t.renderer,void 0!==t.spacing&&(n._spacing=je.clampDimension(t.spacing)),n._document=t.document||document,n._hiddenMode=void 0!==t.hiddenMode?t.hiddenMode:Pe.HiddenMode.Display,n}return Ce(t,e),t.prototype.dispose=function(){var t=this.iter();this._items.forEach((function(e){e.dispose()})),this._box=null,this._root=null,this._items.clear(),c(t,(function(e){e.dispose()})),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"hiddenMode",{get:function(){return this._hiddenMode},set:function(e){var t=this;this._hiddenMode!==e&&(this._hiddenMode=e,c(this.tabBars(),(function(e){e.titles.length>1&&e.titles.forEach((function(e){e.owner.hiddenMode=t._hiddenMode}))})))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){return this._spacing},set:function(e){e=je.clampDimension(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return null===this._root},enumerable:!0,configurable:!0}),t.prototype.iter=function(){return this._root?this._root.iterAllWidgets():f()},t.prototype.widgets=function(){return this._root?this._root.iterUserWidgets():f()},t.prototype.selectedWidgets=function(){return this._root?this._root.iterSelectedWidgets():f()},t.prototype.tabBars=function(){return this._root?this._root.iterTabBars():f()},t.prototype.handles=function(){return this._root?this._root.iterHandles():f()},t.prototype.moveHandle=function(e,t,n){var i=e.classList.contains("lm-mod-hidden");if(i=i||e.classList.contains("p-mod-hidden"),this._root&&!i){var o,r=this._root.findSplitNode(e);if(r)o="horizontal"===r.node.orientation?t-e.offsetLeft:n-e.offsetTop,0!==o&&(r.node.holdSizes(),Ie.adjust(r.node.sizers,r.index,o),this.parent&&this.parent.update())}},t.prototype.saveLayout=function(){return this._root?(this._root.holdAllSizes(),{main:this._root.createConfig()}):{main:null}},t.prototype.restoreLayout=function(e){var t,n=this,i=new Set;t=e.main?st.normalizeAreaConfig(e.main,i):null;var o=this.widgets(),r=this.tabBars(),s=this.handles();this._root=null,c(o,(function(e){i.has(e)||(e.parent=null)})),c(r,(function(e){e.dispose()})),c(s,(function(e){e.parentNode&&e.parentNode.removeChild(e)})),i.forEach((function(e){e.parent=n.parent})),this._root=t?st.realizeAreaConfig(t,{createTabBar:function(e){return n._createTabBar()},createHandle:function(){return n._createHandle()}},this._document):null,this.parent&&(i.forEach((function(e){n.attachWidget(e)})),this.parent.fit())},t.prototype.addWidget=function(e,t){void 0===t&&(t={});var n=t.ref||null,i=t.mode||"tab-after",o=null;if(this._root&&n&&(o=this._root.findTabNode(n)),n&&!o)throw new Error("Reference widget is not in the layout.");switch(e.parent=this.parent,i){case"tab-after":this._insertTab(e,n,o,!0);break;case"tab-before":this._insertTab(e,n,o,!1);break;case"split-top":this._insertSplit(e,n,o,"vertical",!1);break;case"split-left":this._insertSplit(e,n,o,"horizontal",!1);break;case"split-right":this._insertSplit(e,n,o,"horizontal",!0);break;case"split-bottom":this._insertSplit(e,n,o,"vertical",!0);break}this.parent&&(this.attachWidget(e),this.parent.fit())},t.prototype.removeWidget=function(e){this._removeWidget(e),this.parent&&(this.detachWidget(e),this.parent.fit())},t.prototype.hitTestTabAreas=function(e,t){if(!this._root||!this.parent||!this.parent.isVisible)return null;this._box||(this._box=R.boxSizing(this.parent.node));var n=this.parent.node.getBoundingClientRect(),i=e-n.left-this._box.borderLeft,o=t-n.top-this._box.borderTop,r=this._root.hitTestTabNodes(i,o);if(!r)return null;var s=r.tabBar,a=r.top,c=r.left,l=r.width,d=r.height,u=this._box.borderLeft+this._box.borderRight,h=this._box.borderTop+this._box.borderBottom,p=n.width-u-(c+l),m=n.height-h-(a+d);return{tabBar:s,x:i,y:o,top:a,left:c,right:p,bottom:m,width:l,height:d}},t.prototype.init=function(){var t=this;e.prototype.init.call(this),c(this,(function(e){t.attachWidget(e)})),c(this.handles(),(function(e){t.parent.node.appendChild(e)})),this.parent.fit()},t.prototype.attachWidget=function(e){this.parent.node!==e.node.parentNode&&(this._items.set(e,new Oe(e)),this.parent.isAttached&&$.sendMessage(e,Pe.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&$.sendMessage(e,Pe.Msg.AfterAttach))},t.prototype.detachWidget=function(e){if(this.parent.node===e.node.parentNode){this.parent.isAttached&&$.sendMessage(e,Pe.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&$.sendMessage(e,Pe.Msg.AfterDetach);var t=this._items.get(e);t&&(this._items.delete(e),t.dispose())}},t.prototype.onBeforeShow=function(t){e.prototype.onBeforeShow.call(this,t),this.parent.update()},t.prototype.onBeforeAttach=function(t){e.prototype.onBeforeAttach.call(this,t),this.parent.fit()},t.prototype.onChildShown=function(e){this.parent.fit()},t.prototype.onChildHidden=function(e){this.parent.fit()},t.prototype.onResize=function(e){this.parent.isVisible&&this._update(e.width,e.height)},t.prototype.onUpdateRequest=function(e){this.parent.isVisible&&this._update(-1,-1)},t.prototype.onFitRequest=function(e){this.parent.isAttached&&this._fit()},t.prototype._removeWidget=function(e){if(this._root){var t=this._root.findTabNode(e);if(t)if(st.removeAria(e),t.tabBar.titles.length>1){if(t.tabBar.removeTab(e.title),this._hiddenMode===Pe.HiddenMode.Scale&&1==t.tabBar.titles.length){var n=t.tabBar.titles[0].owner;n.hiddenMode=Pe.HiddenMode.Display}}else if(t.tabBar.dispose(),this._root!==t){this._root.holdAllSizes();var o=t.parent;t.parent=null;var r=i.removeFirstOf(o.children,t),s=i.removeAt(o.handles,r);if(i.removeAt(o.sizers,r),s.parentNode&&s.parentNode.removeChild(s),o.children.length>1)o.syncHandles();else{var a=o.parent;o.parent=null;var c=o.children[0],l=o.handles[0];if(o.children.length=0,o.handles.length=0,o.sizers.length=0,l.parentNode&&l.parentNode.removeChild(l),this._root===o)return c.parent=null,void(this._root=c);var d=a,u=d.children.indexOf(o);if(c instanceof st.TabLayoutNode)return c.parent=d,void(d.children[u]=c);var h=i.removeAt(d.handles,u);i.removeAt(d.children,u),i.removeAt(d.sizers,u),h.parentNode&&h.parentNode.removeChild(h);for(var p=0,m=c.children.length;p<m;++p){var f=c.children[p],v=c.handles[p],g=c.sizers[p];i.insert(d.children,u+p,f),i.insert(d.handles,u+p,v),i.insert(d.sizers,u+p,g),f.parent=d}c.children.length=0,c.handles.length=0,c.sizers.length=0,c.parent=null,d.syncHandles()}}else this._root=null}},t.prototype._insertTab=function(e,t,n,i){if(e!==t){if(!this._root){var o=new st.TabLayoutNode(this._createTabBar());return o.tabBar.addTab(e.title),this._root=o,void st.addAria(e,o.tabBar)}var r;if(n||(n=this._root.findFirstTabNode()),-1===n.tabBar.titles.indexOf(e.title)&&(this._removeWidget(e),e.hide()),r=t?n.tabBar.titles.indexOf(t.title):n.tabBar.currentIndex,this._hiddenMode===Pe.HiddenMode.Scale&&n.tabBar.titles.length>0){if(1==n.tabBar.titles.length){var s=n.tabBar.titles[0].owner;s.hiddenMode=Pe.HiddenMode.Scale}e.hiddenMode=Pe.HiddenMode.Scale}else e.hiddenMode=Pe.HiddenMode.Display;n.tabBar.insertTab(r+(i?1:0),e.title),st.addAria(e,n.tabBar)}},t.prototype._insertSplit=function(e,t,n,o,r){if(e!==t||!n||1!==n.tabBar.titles.length){this._removeWidget(e);var s=new st.TabLayoutNode(this._createTabBar());if(s.tabBar.addTab(e.title),st.addAria(e,s.tabBar),this._root){if(!n||!n.parent){var a=this._splitRoot(o),c=r?a.children.length:0;a.normalizeSizes();var l=st.createSizer(n?1:st.GOLDEN_RATIO);return i.insert(a.children,c,s),i.insert(a.sizers,c,l),i.insert(a.handles,c,this._createHandle()),s.parent=a,a.normalizeSizes(),void a.syncHandles()}var d=n.parent;if(d.orientation===o){var u=d.children.indexOf(n);d.normalizeSizes();var h=d.sizers[u].sizeHint/=2,p=u+(r?1:0);return i.insert(d.children,p,s),i.insert(d.sizers,p,st.createSizer(h)),i.insert(d.handles,p,this._createHandle()),s.parent=d,void d.syncHandles()}var m=i.removeFirstOf(d.children,n),f=new st.SplitLayoutNode(o);f.normalized=!0,f.children.push(n),f.sizers.push(st.createSizer(.5)),f.handles.push(this._createHandle()),n.parent=f;var v=r?1:0;i.insert(f.children,v,s),i.insert(f.sizers,v,st.createSizer(.5)),i.insert(f.handles,v,this._createHandle()),s.parent=f,f.syncHandles(),i.insert(d.children,m,f),f.parent=d}else this._root=s}},t.prototype._splitRoot=function(e){var t=this._root;if(t instanceof st.SplitLayoutNode&&t.orientation===e)return t;var n=this._root=new st.SplitLayoutNode(e);return t&&(n.children.push(t),n.sizers.push(st.createSizer(0)),n.handles.push(this._createHandle()),t.parent=n),n},t.prototype._fit=function(){var e=0,t=0;if(this._root){var n=this._root.fit(this._spacing,this._items);e=n.minWidth,t=n.minHeight}var i=this._box=R.boxSizing(this.parent.node);e+=i.horizontalSum,t+=i.verticalSum;var o=this.parent.node.style;o.minWidth=e+"px",o.minHeight=t+"px",this._dirty=!0,this.parent.parent&&$.sendMessage(this.parent.parent,Pe.Msg.FitRequest),this._dirty&&$.sendMessage(this.parent,Pe.Msg.UpdateRequest)},t.prototype._update=function(e,t){if(this._dirty=!1,this._root){e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=R.boxSizing(this.parent.node));var n=this._box.paddingTop,i=this._box.paddingLeft,o=e-this._box.horizontalSum,r=t-this._box.verticalSum;this._root.update(n,i,o,r,this._spacing,this._items)}},t.prototype._createTabBar=function(){var e=this.renderer.createTabBar(this._document);return e.orientation="horizontal",this.parent&&(e.parent=this.parent,this.attachWidget(e)),e},t.prototype._createHandle=function(){var e=this.renderer.createHandle(),t=e.style;return t.position="absolute",t.top="0",t.left="0",t.width="0",t.height="0",this.parent&&this.parent.node.appendChild(e),e},t}(Te);(function(e){function t(e){var t=new Ae;return t.sizeHint=e,t.size=e,t}function n(e,t){var n;return n="tab-area"===e.type?l(e,t):d(e,t),n}function i(e,t,n){var i;return i="tab-area"===e.type?u(e,t,n):h(e,t,n),i}e.GOLDEN_RATIO=.618,e.createSizer=t,e.normalizeAreaConfig=n,e.realizeAreaConfig=i;var o=function(){function e(e){this.parent=null,this._top=0,this._left=0,this._width=0,this._height=0;var t=new Ae,n=new Ae;t.stretch=0,n.stretch=1,this.tabBar=e,this.sizers=[t,n]}return Object.defineProperty(e.prototype,"top",{get:function(){return this._top},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this._left},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),e.prototype.iterAllWidgets=function(){return p(E(this.tabBar),this.iterUserWidgets())},e.prototype.iterUserWidgets=function(){return w(this.tabBar.titles,(function(e){return e.owner}))},e.prototype.iterSelectedWidgets=function(){var e=this.tabBar.currentTitle;return e?E(e.owner):f()},e.prototype.iterTabBars=function(){return E(this.tabBar)},e.prototype.iterHandles=function(){return f()},e.prototype.findTabNode=function(e){return-1!==this.tabBar.titles.indexOf(e.title)?this:null},e.prototype.findSplitNode=function(e){return null},e.prototype.findFirstTabNode=function(){return this},e.prototype.hitTestTabNodes=function(e,t){return e<this._left||e>=this._left+this._width||t<this._top||t>=this._top+this._height?null:this},e.prototype.createConfig=function(){var e=this.tabBar.titles.map((function(e){return e.owner})),t=this.tabBar.currentIndex;return{type:"tab-area",widgets:e,currentIndex:t}},e.prototype.holdAllSizes=function(){},e.prototype.fit=function(e,t){var n=0,i=0,o=1/0,r=1/0,s=t.get(this.tabBar),a=this.tabBar.currentTitle,c=a?t.get(a.owner):void 0,l=this.sizers,d=l[0],u=l[1];return s&&s.fit(),c&&c.fit(),s&&!s.isHidden?(n=Math.max(n,s.minWidth),i+=s.minHeight,d.minSize=s.minHeight,d.maxSize=s.maxHeight):(d.minSize=0,d.maxSize=0),c&&!c.isHidden?(n=Math.max(n,c.minWidth),i+=c.minHeight,u.minSize=c.minHeight,u.maxSize=1/0):(u.minSize=0,u.maxSize=1/0),{minWidth:n,minHeight:i,maxWidth:o,maxHeight:r}},e.prototype.update=function(e,t,n,i,o,r){this._top=t,this._left=e,this._width=n,this._height=i;var s=r.get(this.tabBar),a=this.tabBar.currentTitle,c=a?r.get(a.owner):void 0;if(Ie.calc(this.sizers,i),s&&!s.isHidden){var l=this.sizers[0].size;s.update(e,t,n,l),t+=l}if(c&&!c.isHidden){l=this.sizers[1].size;c.update(e,t,n,l)}},e}();e.TabLayoutNode=o;var r=function(){function e(e){this.parent=null,this.normalized=!1,this.children=[],this.sizers=[],this.handles=[],this.orientation=e}return e.prototype.iterAllWidgets=function(){var e=w(this.children,(function(e){return e.iterAllWidgets()}));return new m(e)},e.prototype.iterUserWidgets=function(){var e=w(this.children,(function(e){return e.iterUserWidgets()}));return new m(e)},e.prototype.iterSelectedWidgets=function(){var e=w(this.children,(function(e){return e.iterSelectedWidgets()}));return new m(e)},e.prototype.iterTabBars=function(){var e=w(this.children,(function(e){return e.iterTabBars()}));return new m(e)},e.prototype.iterHandles=function(){var e=w(this.children,(function(e){return e.iterHandles()}));return p(this.handles,new m(e))},e.prototype.findTabNode=function(e){for(var t=0,n=this.children.length;t<n;++t){var i=this.children[t].findTabNode(e);if(i)return i}return null},e.prototype.findSplitNode=function(e){var t=this.handles.indexOf(e);if(-1!==t)return{index:t,node:this};for(var n=0,i=this.children.length;n<i;++n){var o=this.children[n].findSplitNode(e);if(o)return o}return null},e.prototype.findFirstTabNode=function(){return 0===this.children.length?null:this.children[0].findFirstTabNode()},e.prototype.hitTestTabNodes=function(e,t){for(var n=0,i=this.children.length;n<i;++n){var o=this.children[n].hitTestTabNodes(e,t);if(o)return o}return null},e.prototype.createConfig=function(){var e=this.orientation,t=this.createNormalizedSizes(),n=this.children.map((function(e){return e.createConfig()}));return{type:"split-area",orientation:e,children:n,sizes:t}},e.prototype.syncHandles=function(){var e=this;c(this.handles,(function(t,n){t.setAttribute("data-orientation",e.orientation),n===e.handles.length-1?(t.classList.add("lm-mod-hidden"),t.classList.add("p-mod-hidden")):(t.classList.remove("lm-mod-hidden"),t.classList.remove("p-mod-hidden"))}))},e.prototype.holdSizes=function(){c(this.sizers,(function(e){e.sizeHint=e.size}))},e.prototype.holdAllSizes=function(){c(this.children,(function(e){return e.holdAllSizes()})),this.holdSizes()},e.prototype.normalizeSizes=function(){var e=this.sizers.length;if(0!==e){this.holdSizes();var t=C(this.sizers,(function(e,t){return e+t.sizeHint}),0);c(this.sizers,0===t?function(t){t.size=t.sizeHint=1/e}:function(e){e.size=e.sizeHint/=t}),this.normalized=!0}},e.prototype.createNormalizedSizes=function(){var e=this.sizers.length;if(0===e)return[];var t=this.sizers.map((function(e){return e.size})),n=C(t,(function(e,t){return e+t}),0);return c(t,0===n?function(n,i){t[i]=1/e}:function(e,i){t[i]=e/n}),t},e.prototype.fit=function(e,t){for(var n="horizontal"===this.orientation,i=Math.max(0,this.children.length-1)*e,o=n?i:0,r=n?0:i,s=1/0,a=1/0,c=0,l=this.children.length;c<l;++c){var d=this.children[c].fit(e,t);n?(r=Math.max(r,d.minHeight),o+=d.minWidth,this.sizers[c].minSize=d.minWidth):(o=Math.max(o,d.minWidth),r+=d.minHeight,this.sizers[c].minSize=d.minHeight)}return{minWidth:o,minHeight:r,maxWidth:s,maxHeight:a}},e.prototype.update=function(e,t,n,i,o,r){var s="horizontal"===this.orientation,a=Math.max(0,this.children.length-1)*o,l=Math.max(0,(s?n:i)-a);this.normalized&&(c(this.sizers,(function(e){e.sizeHint*=l})),this.normalized=!1),Ie.calc(this.sizers,l);for(var d=0,u=this.children.length;d<u;++d){var h=this.children[d],p=this.sizers[d].size,m=this.handles[d].style;s?(h.update(e,t,p,i,o,r),e+=p,m.top=t+"px",m.left=e+"px",m.width=o+"px",m.height=i+"px",e+=o):(h.update(e,t,n,p,o,r),t+=p,m.top=t+"px",m.left=e+"px",m.width=n+"px",m.height=o+"px",t+=o)}},e}();function s(e,t){e.node.setAttribute("role","tabpanel");var n=t.renderer;if(n instanceof rt.Renderer){var i=n.createTabKey({title:e.title,current:!1,zIndex:0});e.node.setAttribute("aria-labelledby",i)}}function a(e){e.node.removeAttribute("role"),e.node.removeAttribute("aria-labelledby")}function l(e,t){if(0===e.widgets.length)return null;var n=[];if(c(e.widgets,(function(e){t.has(e)||(t.add(e),n.push(e))})),0===n.length)return null;var i=e.currentIndex;return-1!==i&&(i<0||i>=n.length)&&(i=0),{type:"tab-area",widgets:n,currentIndex:i}}function d(e,t){for(var i=e.orientation,o=[],r=[],s=0,a=e.children.length;s<a;++s){var c=n(e.children[s],t);c&&("tab-area"===c.type||c.orientation!==i?(o.push(c),r.push(Math.abs(e.sizes[s]||0))):(o.push.apply(o,c.children),r.push.apply(r,c.sizes)))}return 0===o.length?null:1===o.length?o[0]:{type:"split-area",orientation:i,children:o,sizes:r}}function u(t,n,i){var r=n.createTabBar(i);return c(t.widgets,(function(t){t.hide(),r.addTab(t.title),e.addAria(t,r)})),r.currentIndex=t.currentIndex,new o(r)}function h(e,n,o){var s=new r(e.orientation);return c(e.children,(function(r,a){var c=i(r,n,o),l=t(e.sizes[a]),d=n.createHandle();s.children.push(c),s.handles.push(d),s.sizers.push(l),c.parent=s})),s.syncHandles(),s.normalizeSizes(),s}e.SplitLayoutNode=r,e.addAria=s,e.removeAria=a})(st||(st={}));var ct,lt=function(e){function t(n){void 0===n&&(n={});var i=e.call(this)||this;i._drag=null,i._tabsMovable=!0,i._tabsConstrained=!1,i._addButtonEnabled=!1,i._pressData=null,i._layoutModified=new te(i),i._addRequested=new te(i),i.addClass("lm-DockPanel"),i.addClass("p-DockPanel"),i._document=n.document||document,i._mode=n.mode||"multiple-document",i._renderer=n.renderer||t.defaultRenderer,i._edges=n.edges||ct.DEFAULT_EDGES,void 0!==n.tabsMovable&&(i._tabsMovable=n.tabsMovable),void 0!==n.tabsConstrained&&(i._tabsConstrained=n.tabsConstrained),void 0!==n.addButtonEnabled&&(i._addButtonEnabled=n.addButtonEnabled),i.dataset["mode"]=i._mode;var o={createTabBar:function(){return i._createTabBar()},createHandle:function(){return i._createHandle()}};return i.layout=new at({document:i._document,renderer:o,spacing:n.spacing,hiddenMode:n.hiddenMode}),i.overlay=n.overlay||new t.Overlay,i.node.appendChild(i.overlay.node),i}return Ce(t,e),t.prototype.dispose=function(){this._releaseMouse(),this.overlay.hide(0),this._drag&&this._drag.dispose(),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"hiddenMode",{get:function(){return this.layout.hiddenMode},set:function(e){this.layout.hiddenMode=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layoutModified",{get:function(){return this._layoutModified},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"addRequested",{get:function(){return this._addRequested},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderer",{get:function(){return this.layout.renderer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){return this.layout.spacing},set:function(e){this.layout.spacing=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mode",{get:function(){return this._mode},set:function(e){if(this._mode!==e){this._mode=e,this.dataset["mode"]=e;var t=this.layout;switch(e){case"multiple-document":c(t.tabBars(),(function(e){e.show()}));break;case"single-document":t.restoreLayout(ct.createSingleDocumentConfig(this));break;default:throw"unreachable"}$.postMessage(this,ct.LayoutModified)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabsMovable",{get:function(){return this._tabsMovable},set:function(e){this._tabsMovable=e,c(this.tabBars(),(function(t){t.tabsMovable=e}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabsConstrained",{get:function(){return this._tabsConstrained},set:function(e){this._tabsConstrained=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"addButtonEnabled",{get:function(){return this._addButtonEnabled},set:function(e){this._addButtonEnabled=e,c(this.tabBars(),(function(t){t.addButtonEnabled=e}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return this.layout.isEmpty},enumerable:!0,configurable:!0}),t.prototype.widgets=function(){return this.layout.widgets()},t.prototype.selectedWidgets=function(){return this.layout.selectedWidgets()},t.prototype.tabBars=function(){return this.layout.tabBars()},t.prototype.handles=function(){return this.layout.handles()},t.prototype.selectWidget=function(e){var t=y(this.tabBars(),(function(t){return-1!==t.titles.indexOf(e.title)}));if(!t)throw new Error("Widget is not contained in the dock panel.");t.currentTitle=e.title},t.prototype.activateWidget=function(e){this.selectWidget(e),e.activate()},t.prototype.saveLayout=function(){return this.layout.saveLayout()},t.prototype.restoreLayout=function(e){this._mode="multiple-document",this.layout.restoreLayout(e),(N.IS_EDGE||N.IS_IE)&&$.flush(),$.postMessage(this,ct.LayoutModified)},t.prototype.addWidget=function(e,t){void 0===t&&(t={}),"single-document"===this._mode?this.layout.addWidget(e):this.layout.addWidget(e,t),$.postMessage(this,ct.LayoutModified)},t.prototype.processMessage=function(t){"layout-modified"===t.type?this._layoutModified.emit(void 0):e.prototype.processMessage.call(this,t)},t.prototype.handleEvent=function(e){switch(e.type){case"lm-dragenter":this._evtDragEnter(e);break;case"lm-dragleave":this._evtDragLeave(e);break;case"lm-dragover":this._evtDragOver(e);break;case"lm-drop":this._evtDrop(e);break;case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"pointerdown":this._evtMouseDown(e);break;case"pointermove":this._evtMouseMove(e);break;case"pointerup":this._evtMouseUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}},t.prototype.onBeforeAttach=function(e){this.node.addEventListener("lm-dragenter",this),this.node.addEventListener("lm-dragleave",this),this.node.addEventListener("lm-dragover",this),this.node.addEventListener("lm-drop",this),this.node.addEventListener("mousedown",this),this.node.addEventListener("pointerdown",this)},t.prototype.onAfterDetach=function(e){this.node.removeEventListener("lm-dragenter",this),this.node.removeEventListener("lm-dragleave",this),this.node.removeEventListener("lm-dragover",this),this.node.removeEventListener("lm-drop",this),this.node.removeEventListener("mousedown",this),this.node.removeEventListener("pointerdown",this),this._releaseMouse()},t.prototype.onChildAdded=function(e){ct.isGeneratedTabBarProperty.get(e.child)||(e.child.addClass("lm-DockPanel-widget"),e.child.addClass("p-DockPanel-widget"))},t.prototype.onChildRemoved=function(e){ct.isGeneratedTabBarProperty.get(e.child)||(e.child.removeClass("lm-DockPanel-widget"),e.child.removeClass("p-DockPanel-widget"),$.postMessage(this,ct.LayoutModified))},t.prototype._evtDragEnter=function(e){e.mimeData.hasData("application/vnd.lumino.widget-factory")&&(e.preventDefault(),e.stopPropagation())},t.prototype._evtDragLeave=function(e){e.preventDefault(),e.stopPropagation(),this.overlay.hide(1)},t.prototype._evtDragOver=function(e){e.preventDefault(),e.stopPropagation(),this._tabsConstrained&&e.source!==this||"invalid"===this._showOverlay(e.clientX,e.clientY)?e.dropAction="none":e.dropAction=e.proposedAction},t.prototype._evtDrop=function(e){if(e.preventDefault(),e.stopPropagation(),this.overlay.hide(0),"none"!==e.proposedAction){var t=e.clientX,n=e.clientY,i=ct.findDropTarget(this,t,n,this._edges),o=i.zone,r=i.target;if("invalid"!==o){var s=e.mimeData,a=s.getData("application/vnd.lumino.widget-factory");if("function"===typeof a){var c=a();if(c instanceof Pe)if(c.contains(this))e.dropAction="none";else{var l=r?ct.getDropRef(r.tabBar):null;switch(o){case"root-all":this.addWidget(c);break;case"root-top":this.addWidget(c,{mode:"split-top"});break;case"root-left":this.addWidget(c,{mode:"split-left"});break;case"root-right":this.addWidget(c,{mode:"split-right"});break;case"root-bottom":this.addWidget(c,{mode:"split-bottom"});break;case"widget-all":this.addWidget(c,{mode:"tab-after",ref:l});break;case"widget-top":this.addWidget(c,{mode:"split-top",ref:l});break;case"widget-left":this.addWidget(c,{mode:"split-left",ref:l});break;case"widget-right":this.addWidget(c,{mode:"split-right",ref:l});break;case"widget-bottom":this.addWidget(c,{mode:"split-bottom",ref:l});break;case"widget-tab":this.addWidget(c,{mode:"tab-after",ref:l});break;default:throw"unreachable"}e.dropAction=e.proposedAction,this.activateWidget(c)}else e.dropAction="none"}else e.dropAction="none"}else e.dropAction="none"}else e.dropAction="none"},t.prototype._evtKeyDown=function(e){e.preventDefault(),e.stopPropagation(),27===e.keyCode&&(this._releaseMouse(),$.postMessage(this,ct.LayoutModified))},t.prototype._evtMouseDown=function(e){if(0===e.button){var t=this.layout,n=e.target,i=y(t.handles(),(function(e){return e.contains(n)}));if(i){e.preventDefault(),e.stopPropagation(),this._document.addEventListener("keydown",this,!0),this._document.addEventListener("mouseup",this,!0),this._document.addEventListener("mousemove",this,!0),this._document.addEventListener("pointerup",this,!0),this._document.addEventListener("pointermove",this,!0),this._document.addEventListener("contextmenu",this,!0);var o=i.getBoundingClientRect(),r=e.clientX-o.left,s=e.clientY-o.top,a=window.getComputedStyle(i),c=ce.overrideCursor(a.cursor,this._document);this._pressData={handle:i,deltaX:r,deltaY:s,override:c}}}},t.prototype._evtMouseMove=function(e){if(this._pressData){e.preventDefault(),e.stopPropagation();var t=this.node.getBoundingClientRect(),n=e.clientX-t.left-this._pressData.deltaX,i=e.clientY-t.top-this._pressData.deltaY,o=this.layout;o.moveHandle(this._pressData.handle,n,i)}},t.prototype._evtMouseUp=function(e){0===e.button&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse(),$.postMessage(this,ct.LayoutModified))},t.prototype._releaseMouse=function(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,this._document.removeEventListener("keydown",this,!0),this._document.removeEventListener("mouseup",this,!0),this._document.removeEventListener("mousemove",this,!0),this._document.removeEventListener("pointerup",this,!0),this._document.removeEventListener("pointermove",this,!0),this._document.removeEventListener("contextmenu",this,!0))},t.prototype._showOverlay=function(e,t){var n,i,o,r,s=ct.findDropTarget(this,e,t,this._edges),a=s.zone,c=s.target;if("invalid"===a)return this.overlay.hide(100),a;var l=R.boxSizing(this.node),d=this.node.getBoundingClientRect();switch(a){case"root-all":n=l.paddingTop,i=l.paddingLeft,o=l.paddingRight,r=l.paddingBottom;break;case"root-top":n=l.paddingTop,i=l.paddingLeft,o=l.paddingRight,r=d.height*ct.GOLDEN_RATIO;break;case"root-left":n=l.paddingTop,i=l.paddingLeft,o=d.width*ct.GOLDEN_RATIO,r=l.paddingBottom;break;case"root-right":n=l.paddingTop,i=d.width*ct.GOLDEN_RATIO,o=l.paddingRight,r=l.paddingBottom;break;case"root-bottom":n=d.height*ct.GOLDEN_RATIO,i=l.paddingLeft,o=l.paddingRight,r=l.paddingBottom;break;case"widget-all":n=c.top,i=c.left,o=c.right,r=c.bottom;break;case"widget-top":n=c.top,i=c.left,o=c.right,r=c.bottom+c.height/2;break;case"widget-left":n=c.top,i=c.left,o=c.right+c.width/2,r=c.bottom;break;case"widget-right":n=c.top,i=c.left+c.width/2,o=c.right,r=c.bottom;break;case"widget-bottom":n=c.top+c.height/2,i=c.left,o=c.right,r=c.bottom;break;case"widget-tab":var u=c.tabBar.node.getBoundingClientRect().height;n=c.top,i=c.left,o=c.right,r=c.bottom+c.height-u;break;default:throw"unreachable"}return this.overlay.show({top:n,left:i,right:o,bottom:r}),a},t.prototype._createTabBar=function(){var e=this._renderer.createTabBar(this._document);return ct.isGeneratedTabBarProperty.set(e,!0),"single-document"===this._mode&&e.hide(),e.tabsMovable=this._tabsMovable,e.allowDeselect=!1,e.addButtonEnabled=this._addButtonEnabled,e.removeBehavior="select-previous-tab",e.insertBehavior="select-tab-if-needed",e.tabMoved.connect(this._onTabMoved,this),e.currentChanged.connect(this._onCurrentChanged,this),e.tabCloseRequested.connect(this._onTabCloseRequested,this),e.tabDetachRequested.connect(this._onTabDetachRequested,this),e.tabActivateRequested.connect(this._onTabActivateRequested,this),e.addRequested.connect(this._onTabAddRequested,this),e},t.prototype._createHandle=function(){return this._renderer.createHandle()},t.prototype._onTabMoved=function(){$.postMessage(this,ct.LayoutModified)},t.prototype._onCurrentChanged=function(e,t){var n=t.previousTitle,i=t.currentTitle;n&&n.owner.hide(),i&&i.owner.show(),(N.IS_EDGE||N.IS_IE)&&$.flush(),$.postMessage(this,ct.LayoutModified)},t.prototype._onTabAddRequested=function(e){this._addRequested.emit(e)},t.prototype._onTabActivateRequested=function(e,t){t.title.owner.activate()},t.prototype._onTabCloseRequested=function(e,t){t.title.owner.close()},t.prototype._onTabDetachRequested=function(e,t){var n=this;if(!this._drag){e.releaseMouse();var i=t.title,o=t.tab,r=t.clientX,s=t.clientY,a=new le["MimeData"],c=function(){return i.owner};a.setData("application/vnd.lumino.widget-factory",c);var l=o.cloneNode(!0);this._drag=new ce({document:this._document,mimeData:a,dragImage:l,proposedAction:"move",supportedActions:"move",source:this}),o.classList.add("lm-mod-hidden"),o.classList.add("p-mod-hidden");var d=function(){n._drag=null,o.classList.remove("lm-mod-hidden"),o.classList.remove("p-mod-hidden")};this._drag.start(r,s).then(d)}},t}(Pe);(function(e){var t=function(){function e(){this._timer=-1,this._hidden=!0,this.node=document.createElement("div"),this.node.classList.add("lm-DockPanel-overlay"),this.node.classList.add("lm-mod-hidden"),this.node.classList.add("p-DockPanel-overlay"),this.node.classList.add("p-mod-hidden"),this.node.style.position="absolute"}return e.prototype.show=function(e){var t=this.node.style;t.top=e.top+"px",t.left=e.left+"px",t.right=e.right+"px",t.bottom=e.bottom+"px",clearTimeout(this._timer),this._timer=-1,this._hidden&&(this._hidden=!1,this.node.classList.remove("lm-mod-hidden"),this.node.classList.remove("p-mod-hidden"))},e.prototype.hide=function(e){var t=this;if(!this._hidden)return e<=0?(clearTimeout(this._timer),this._timer=-1,this._hidden=!0,this.node.classList.add("lm-mod-hidden"),void this.node.classList.add("p-mod-hidden")):void(-1===this._timer&&(this._timer=window.setTimeout((function(){t._timer=-1,t._hidden=!0,t.node.classList.add("lm-mod-hidden"),t.node.classList.add("p-mod-hidden")}),e)))},e}();e.Overlay=t;var n=function(){function e(){}return e.prototype.createTabBar=function(e){var t=new rt({document:e});return t.addClass("lm-DockPanel-tabBar"),t.addClass("p-DockPanel-tabBar"),t},e.prototype.createHandle=function(){var e=document.createElement("div");return e.className="lm-DockPanel-handle",e.classList.add("p-DockPanel-handle"),e},e}();e.Renderer=n,e.defaultRenderer=new n})(lt||(lt={})),function(e){function t(e){if(e.isEmpty)return{main:null};var t=u(e.widgets()),n=e.selectedWidgets().next(),i=n?t.indexOf(n):-1;return{main:{type:"tab-area",widgets:t,currentIndex:i}}}function n(e,t,n,i){if(!R.hitTest(e.node,t,n))return{zone:"invalid",target:null};var o=e.layout;if(o.isEmpty)return{zone:"root-all",target:null};if("multiple-document"===e.mode){var r=e.node.getBoundingClientRect(),s=t-r.left+1,a=n-r.top+1,c=r.right-t,l=r.bottom-n,d=Math.min(a,c,l,s);switch(d){case a:if(a<i.top)return{zone:"root-top",target:null};break;case c:if(c<i.right)return{zone:"root-right",target:null};break;case l:if(l<i.bottom)return{zone:"root-bottom",target:null};break;case s:if(s<i.left)return{zone:"root-left",target:null};break;default:throw"unreachable"}}var u=o.hitTestTabAreas(t,n);if(!u)return{zone:"invalid",target:null};if("single-document"===e.mode)return{zone:"widget-all",target:u};var h=u.x-u.left+1,p=u.y-u.top+1,m=u.left+u.width-u.x,f=u.top+u.height-u.y,v=u.tabBar.node.getBoundingClientRect().height;if(p<v)return{zone:"widget-tab",target:u};var g=Math.round(u.width/3),_=Math.round(u.height/3);if(h>g&&m>g&&p>_&&f>_)return{zone:"widget-all",target:u};h/=g,p/=_,m/=g,f/=_;var y,b=Math.min(h,p,m,f);switch(b){case h:y="widget-left";break;case p:y="widget-top";break;case m:y="widget-right";break;case f:y="widget-bottom";break;default:throw"unreachable"}return{zone:y,target:u}}function i(e){return 0===e.titles.length?null:e.currentTitle?e.currentTitle.owner:e.titles[e.titles.length-1].owner}e.GOLDEN_RATIO=.618,e.DEFAULT_EDGES={top:12,right:40,bottom:40,left:40},e.LayoutModified=new J("layout-modified"),e.isGeneratedTabBarProperty=new Q({name:"isGeneratedTabBar",create:function(){return!1}}),e.createSingleDocumentConfig=t,e.findDropTarget=n,e.getDropRef=i}(ct||(ct={}));(function(){function e(){this._counter=0,this._widgets=[],this._activeWidget=null,this._currentWidget=null,this._numbers=new Map,this._nodes=new Map,this._activeChanged=new te(this),this._currentChanged=new te(this)}e.prototype.dispose=function(){var e=this;this._counter<0||(this._counter=-1,te.clearData(this),c(this._widgets,(function(t){t.node.removeEventListener("focus",e,!0),t.node.removeEventListener("blur",e,!0)})),this._activeWidget=null,this._currentWidget=null,this._nodes.clear(),this._numbers.clear(),this._widgets.length=0)},Object.defineProperty(e.prototype,"currentChanged",{get:function(){return this._currentChanged},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeChanged",{get:function(){return this._activeChanged},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._counter<0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentWidget",{get:function(){return this._currentWidget},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeWidget",{get:function(){return this._activeWidget},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"widgets",{get:function(){return this._widgets},enumerable:!0,configurable:!0}),e.prototype.focusNumber=function(e){var t=this._numbers.get(e);return void 0===t?-1:t},e.prototype.has=function(e){return this._numbers.has(e)},e.prototype.add=function(e){if(!this._numbers.has(e)){var t=e.node.contains(document.activeElement),n=t?this._counter++:-1;this._widgets.push(e),this._numbers.set(e,n),this._nodes.set(e.node,e),e.node.addEventListener("focus",this,!0),e.node.addEventListener("blur",this,!0),e.disposed.connect(this._onWidgetDisposed,this),t&&this._setWidgets(e,e)}},e.prototype.remove=function(e){var t=this;if(this._numbers.has(e)&&(e.disposed.disconnect(this._onWidgetDisposed,this),e.node.removeEventListener("focus",this,!0),e.node.removeEventListener("blur",this,!0),i.removeFirstOf(this._widgets,e),this._nodes.delete(e.node),this._numbers.delete(e),this._currentWidget===e)){var n=g(this._widgets,(function(e){return-1!==t._numbers.get(e)})),o=b(n,(function(e,n){var i=t._numbers.get(e),o=t._numbers.get(n);return i-o}))||null;this._setWidgets(o,null)}},e.prototype.handleEvent=function(e){switch(e.type){case"focus":this._evtFocus(e);break;case"blur":this._evtBlur(e);break}},e.prototype._setWidgets=function(e,t){var n=this._currentWidget;this._currentWidget=e;var i=this._activeWidget;this._activeWidget=t,n!==e&&this._currentChanged.emit({oldValue:n,newValue:e}),i!==t&&this._activeChanged.emit({oldValue:i,newValue:t})},e.prototype._evtFocus=function(e){var t=this._nodes.get(e.currentTarget);t!==this._currentWidget&&this._numbers.set(t,this._counter++),this._setWidgets(t,t)},e.prototype._evtBlur=function(e){var t=this._nodes.get(e.currentTarget),n=e.relatedTarget;n&&(t.node.contains(n)||y(this._widgets,(function(e){return e.node.contains(n)})))||this._setWidgets(this._currentWidget,null)},e.prototype._onWidgetDisposed=function(e){this.remove(e)}})();var dt,ut=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n._dirty=!1,n._rowSpacing=4,n._columnSpacing=4,n._items=[],n._rowStarts=[],n._columnStarts=[],n._rowSizers=[new Ae],n._columnSizers=[new Ae],n._box=null,void 0!==t.rowCount&&dt.reallocSizers(n._rowSizers,t.rowCount),void 0!==t.columnCount&&dt.reallocSizers(n._columnSizers,t.columnCount),void 0!==t.rowSpacing&&(n._rowSpacing=dt.clampValue(t.rowSpacing)),void 0!==t.columnSpacing&&(n._columnSpacing=dt.clampValue(t.columnSpacing)),n}return Ce(t,e),t.prototype.dispose=function(){c(this._items,(function(e){var t=e.widget;e.dispose(),t.dispose()})),this._box=null,this._items.length=0,this._rowStarts.length=0,this._rowSizers.length=0,this._columnStarts.length=0,this._columnSizers.length=0,e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"rowCount",{get:function(){return this._rowSizers.length},set:function(e){e!==this.rowCount&&(dt.reallocSizers(this._rowSizers,e),this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnCount",{get:function(){return this._columnSizers.length},set:function(e){e!==this.columnCount&&(dt.reallocSizers(this._columnSizers,e),this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowSpacing",{get:function(){return this._rowSpacing},set:function(e){e=dt.clampValue(e),this._rowSpacing!==e&&(this._rowSpacing=e,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnSpacing",{get:function(){return this._columnSpacing},set:function(e){e=dt.clampValue(e),this._columnSpacing!==e&&(this._columnSpacing=e,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),t.prototype.rowStretch=function(e){var t=this._rowSizers[e];return t?t.stretch:-1},t.prototype.setRowStretch=function(e,t){var n=this._rowSizers[e];n&&(t=dt.clampValue(t),n.stretch!==t&&(n.stretch=t,this.parent&&this.parent.update()))},t.prototype.columnStretch=function(e){var t=this._columnSizers[e];return t?t.stretch:-1},t.prototype.setColumnStretch=function(e,t){var n=this._columnSizers[e];n&&(t=dt.clampValue(t),n.stretch!==t&&(n.stretch=t,this.parent&&this.parent.update()))},t.prototype.iter=function(){return w(this._items,(function(e){return e.widget}))},t.prototype.addWidget=function(e){var t=i.findFirstIndex(this._items,(function(t){return t.widget===e}));-1===t&&(this._items.push(new Oe(e)),this.parent&&this.attachWidget(e))},t.prototype.removeWidget=function(e){var t=i.findFirstIndex(this._items,(function(t){return t.widget===e}));if(-1!==t){var n=i.removeAt(this._items,t);this.parent&&this.detachWidget(e),n.dispose()}},t.prototype.init=function(){var t=this;e.prototype.init.call(this),c(this,(function(e){t.attachWidget(e)}))},t.prototype.attachWidget=function(e){this.parent.isAttached&&$.sendMessage(e,Pe.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&$.sendMessage(e,Pe.Msg.AfterAttach),this.parent.fit()},t.prototype.detachWidget=function(e){this.parent.isAttached&&$.sendMessage(e,Pe.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&$.sendMessage(e,Pe.Msg.AfterDetach),this.parent.fit()},t.prototype.onBeforeShow=function(t){e.prototype.onBeforeShow.call(this,t),this.parent.update()},t.prototype.onBeforeAttach=function(t){e.prototype.onBeforeAttach.call(this,t),this.parent.fit()},t.prototype.onChildShown=function(e){this.parent.fit()},t.prototype.onChildHidden=function(e){this.parent.fit()},t.prototype.onResize=function(e){this.parent.isVisible&&this._update(e.width,e.height)},t.prototype.onUpdateRequest=function(e){this.parent.isVisible&&this._update(-1,-1)},t.prototype.onFitRequest=function(e){this.parent.isAttached&&this._fit()},t.prototype._fit=function(){for(var e=0,n=this.rowCount;e<n;++e)this._rowSizers[e].minSize=0;for(e=0,n=this.columnCount;e<n;++e)this._columnSizers[e].minSize=0;var i=this._items.filter((function(e){return!e.isHidden}));for(e=0,n=i.length;e<n;++e)i[e].fit();var o=this.rowCount-1,r=this.columnCount-1;i.sort(dt.rowSpanCmp);for(e=0,n=i.length;e<n;++e){var s=i[e],a=t.getCellConfig(s.widget),c=Math.min(a.row,o),l=Math.min(a.row+a.rowSpan-1,o);dt.distributeMin(this._rowSizers,c,l,s.minHeight)}i.sort(dt.columnSpanCmp);for(e=0,n=i.length;e<n;++e){s=i[e],a=t.getCellConfig(s.widget);var d=Math.min(a.column,r),u=Math.min(a.column+a.columnSpan-1,r);dt.distributeMin(this._columnSizers,d,u,s.minWidth)}if("set-no-constraint"!==this.fitPolicy){var h=o*this._rowSpacing,p=r*this._columnSpacing;for(e=0,n=this.rowCount;e<n;++e)h+=this._rowSizers[e].minSize;for(e=0,n=this.columnCount;e<n;++e)p+=this._columnSizers[e].minSize;var m=this._box=R.boxSizing(this.parent.node);p+=m.horizontalSum,h+=m.verticalSum;var f=this.parent.node.style;f.minWidth=p+"px",f.minHeight=h+"px",this._dirty=!0,this.parent.parent&&$.sendMessage(this.parent.parent,Pe.Msg.FitRequest),this._dirty&&$.sendMessage(this.parent,Pe.Msg.UpdateRequest)}else $.sendMessage(this.parent,Pe.Msg.UpdateRequest)},t.prototype._update=function(e,n){this._dirty=!1,e<0&&(e=this.parent.node.offsetWidth),n<0&&(n=this.parent.node.offsetHeight),this._box||(this._box=R.boxSizing(this.parent.node));var i=this._box.paddingTop,o=this._box.paddingLeft,r=e-this._box.horizontalSum,s=n-this._box.verticalSum,a=this.rowCount-1,c=this.columnCount-1,l=a*this._rowSpacing,d=c*this._columnSpacing;Ie.calc(this._rowSizers,Math.max(0,s-l)),Ie.calc(this._columnSizers,Math.max(0,r-d));for(var u=0,h=i,p=this.rowCount;u<p;++u)this._rowStarts[u]=h,h+=this._rowSizers[u].size+this._rowSpacing;for(u=0,h=o,p=this.columnCount;u<p;++u)this._columnStarts[u]=h,h+=this._columnSizers[u].size+this._columnSpacing;for(u=0,p=this._items.length;u<p;++u){var m=this._items[u];if(!m.isHidden){var f=t.getCellConfig(m.widget),v=Math.min(f.row,a),g=Math.min(f.column,c),_=Math.min(f.row+f.rowSpan-1,a),y=Math.min(f.column+f.columnSpan-1,c),b=this._columnStarts[g],w=this._rowStarts[v],x=this._columnStarts[y]+this._columnSizers[y].size-b,M=this._rowStarts[_]+this._rowSizers[_].size-w;m.update(b,w,x,M)}}},t}(Te);(function(e){function t(e){return dt.cellConfigProperty.get(e)}function n(e,t){dt.cellConfigProperty.set(e,dt.normalizeConfig(t))}e.getCellConfig=t,e.setCellConfig=n})(ut||(ut={})),function(e){function t(e){var t=Math.max(0,Math.floor(e.row||0)),n=Math.max(0,Math.floor(e.column||0)),i=Math.max(1,Math.floor(e.rowSpan||0)),o=Math.max(1,Math.floor(e.columnSpan||0));return{row:t,column:n,rowSpan:i,columnSpan:o}}function n(e){return Math.max(0,Math.floor(e))}function i(t,n){var i=e.cellConfigProperty.get(t.widget),o=e.cellConfigProperty.get(n.widget);return i.rowSpan-o.rowSpan}function o(t,n){var i=e.cellConfigProperty.get(t.widget),o=e.cellConfigProperty.get(n.widget);return i.columnSpan-o.columnSpan}function r(e,t){t=Math.max(1,Math.floor(t));while(e.length<t)e.push(new Ae);e.length>t&&(e.length=t)}function s(e,t,n,i){if(!(n<t))if(t!==n){for(var o=0,r=t;r<=n;++r)o+=e[r].minSize;if(!(o>=i)){var s=(i-o)/(n-t+1);for(r=t;r<=n;++r)e[r].minSize+=s}}else{var a=e[t];a.minSize=Math.max(a.minSize,i)}}function a(e){e.parent&&e.parent.layout instanceof ut&&e.parent.fit()}e.cellConfigProperty=new Q({name:"cellConfig",create:function(){return{row:0,column:0,rowSpan:1,columnSpan:1}},changed:a}),e.normalizeConfig=t,e.clampValue=n,e.rowSpanCmp=i,e.columnSpanCmp=o,e.reallocSizers=r,e.distributeMin=s}(dt||(dt={}));var ht,pt=function(e){function t(n){void 0===n&&(n={});var i=e.call(this,{node:ht.createNode()})||this;return i._activeIndex=-1,i._menus=[],i._childMenu=null,i.addClass("lm-MenuBar"),i.addClass("p-MenuBar"),i.setFlag(Pe.Flag.DisallowLayout),i.renderer=n.renderer||t.defaultRenderer,i._forceItemsPosition=n.forceItemsPosition||{forceX:!0,forceY:!0},i}return Ce(t,e),t.prototype.dispose=function(){this._closeChildMenu(),this._menus.length=0,e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"childMenu",{get:function(){return this._childMenu},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("lm-MenuBar-content")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeMenu",{get:function(){return this._menus[this._activeIndex]||null},set:function(e){this.activeIndex=e?this._menus.indexOf(e):-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeIndex",{get:function(){return this._activeIndex},set:function(e){(e<0||e>=this._menus.length)&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this._activeIndex>=0&&this.contentNode.childNodes[this._activeIndex]&&this.contentNode.childNodes[this._activeIndex].focus(),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"menus",{get:function(){return this._menus},enumerable:!0,configurable:!0}),t.prototype.openActiveMenu=function(){-1!==this._activeIndex&&(this._openChildMenu(),this._childMenu&&(this._childMenu.activeIndex=-1,this._childMenu.activateNextItem()))},t.prototype.addMenu=function(e){this.insertMenu(this._menus.length,e)},t.prototype.insertMenu=function(e,t){this._closeChildMenu();var n=this._menus.indexOf(t),o=Math.max(0,Math.min(e,this._menus.length));if(-1===n)return i.insert(this._menus,o,t),t.addClass("lm-MenuBar-menu"),t.addClass("p-MenuBar-menu"),t.aboutToClose.connect(this._onMenuAboutToClose,this),t.menuRequested.connect(this._onMenuMenuRequested,this),t.title.changed.connect(this._onTitleChanged,this),void this.update();o===this._menus.length&&o--,n!==o&&(i.move(this._menus,n,o),this.update())},t.prototype.removeMenu=function(e){this.removeMenuAt(this._menus.indexOf(e))},t.prototype.removeMenuAt=function(e){this._closeChildMenu();var t=i.removeAt(this._menus,e);t&&(t.aboutToClose.disconnect(this._onMenuAboutToClose,this),t.menuRequested.disconnect(this._onMenuMenuRequested,this),t.title.changed.disconnect(this._onTitleChanged,this),t.removeClass("lm-MenuBar-menu"),t.removeClass("p-MenuBar-menu"),this.update())},t.prototype.clearMenus=function(){if(0!==this._menus.length){this._closeChildMenu();for(var e=0,t=this._menus;e<t.length;e++){var n=t[e];n.aboutToClose.disconnect(this._onMenuAboutToClose,this),n.menuRequested.disconnect(this._onMenuMenuRequested,this),n.title.changed.disconnect(this._onTitleChanged,this),n.removeClass("lm-MenuBar-menu"),n.removeClass("p-MenuBar-menu")}this._menus.length=0,this.update()}},t.prototype.handleEvent=function(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseleave":this._evtMouseLeave(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}},t.prototype.onBeforeAttach=function(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mousedown",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("contextmenu",this)},t.prototype.onAfterDetach=function(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mousedown",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("contextmenu",this),this._closeChildMenu()},t.prototype.onActivateRequest=function(e){this.isAttached&&this.node.focus()},t.prototype.onUpdateRequest=function(e){for(var t=this,n=this._menus,i=this.renderer,o=this._activeIndex,r=new Array(n.length),s=function(e,s){var a=n[e].title,c=e===o;c&&0==n[e].items.length&&(c=!1),r[e]=i.renderItem({title:a,active:c,onfocus:function(){t.activeIndex=e}})},a=0,c=n.length;a<c;++a)s(a);_e.render(r,this.contentNode)},t.prototype._evtKeyDown=function(e){e.preventDefault(),e.stopPropagation();var t=e.keyCode;if(13!==t&&38!==t&&40!==t){if(27===t)return this._closeChildMenu(),this.activeIndex=-1,void this.node.blur();if(37!==t)if(39!==t){var n=de().keyForKeydownEvent(e);if(n){var i=this._activeIndex+1,o=ht.findMnemonic(this._menus,n,i);-1===o.index||o.multiple?-1!==o.index?this.activeIndex=o.index:-1!==o.auto&&(this.activeIndex=o.auto):(this.activeIndex=o.index,this.openActiveMenu())}}else{r=this._activeIndex,s=this._menus.length;this.activeIndex=r===s-1?0:r+1}else{var r=this._activeIndex,s=this._menus.length;this.activeIndex=0===r?s-1:r-1}}else this.openActiveMenu()},t.prototype._evtMouseDown=function(e){if(R.hitTest(this.node,e.clientX,e.clientY)){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation();var t=i.findFirstIndex(this.contentNode.children,(function(t){return R.hitTest(t,e.clientX,e.clientY)}));-1!==t?0===e.button&&(this._childMenu?(this._closeChildMenu(),this.activeIndex=t):(this.activeIndex=t,this._openChildMenu())):this._closeChildMenu()}},t.prototype._evtMouseMove=function(e){var t=i.findFirstIndex(this.contentNode.children,(function(t){return R.hitTest(t,e.clientX,e.clientY)}));t!==this._activeIndex&&(-1===t&&this._childMenu||(this.activeIndex=t,this._childMenu&&this._openChildMenu()))},t.prototype._evtMouseLeave=function(e){this._childMenu||(this.activeIndex=-1)},t.prototype._openChildMenu=function(){var e=this.activeMenu;if(e){var t=this._childMenu;if(t!==e){this._childMenu=e,t?t.close():(this.addClass("lm-mod-active"),this.addClass("p-mod-active"),document.addEventListener("mousedown",this,!0)),$.sendMessage(this,Pe.Msg.UpdateRequest);var n=this.contentNode.children[this._activeIndex],i=n.getBoundingClientRect(),o=i.left,r=i.bottom;e.items.length>0&&e.open(o,r,this._forceItemsPosition)}}else this._closeChildMenu()},t.prototype._closeChildMenu=function(){if(this._childMenu){this.removeClass("lm-mod-active"),this.removeClass("p-mod-active"),document.removeEventListener("mousedown",this,!0);var e=this._childMenu;this._childMenu=null,e.close(),this.activeIndex=-1}},t.prototype._onMenuAboutToClose=function(e){e===this._childMenu&&(this.removeClass("lm-mod-active"),this.removeClass("p-mod-active"),document.removeEventListener("mousedown",this,!0),this._childMenu=null,this.activeIndex=-1)},t.prototype._onMenuMenuRequested=function(e,t){if(e===this._childMenu){var n=this._activeIndex,i=this._menus.length;switch(t){case"next":this.activeIndex=n===i-1?0:n+1;break;case"previous":this.activeIndex=0===n?i-1:n-1;break}this.openActiveMenu()}},t.prototype._onTitleChanged=function(){this.update()},t}(Pe);(function(e){var t=function(){function e(){}return e.prototype.renderItem=function(e){var t=this.createItemClass(e),n=this.createItemDataset(e),i=this.createItemARIA(e);return xe.li(Ee({className:t,dataset:n,tabindex:"0",onfocus:e.onfocus},i),this.renderIcon(e),this.renderLabel(e))},e.prototype.renderIcon=function(e){var t=this.createIconClass(e);return"string"===typeof e.title.icon?xe.div({className:t},e.title.iconLabel):xe.div({className:t},e.title.icon,e.title.iconLabel)},e.prototype.renderLabel=function(e){var t=this.formatLabel(e);return xe.div({className:"lm-MenuBar-itemLabel p-MenuBar-itemLabel"},t)},e.prototype.createItemClass=function(e){var t="lm-MenuBar-item";return t+=" p-MenuBar-item",e.title.className&&(t+=" "+e.title.className),e.active&&(t+=" lm-mod-active",t+=" p-mod-active"),t},e.prototype.createItemDataset=function(e){return e.title.dataset},e.prototype.createItemARIA=function(e){return{role:"menuitem","aria-haspopup":"true"}},e.prototype.createIconClass=function(e){var t="lm-MenuBar-itemIcon";t+=" p-MenuBar-itemIcon";var n=e.title.iconClass;return n?t+" "+n:t},e.prototype.formatLabel=function(e){var t=e.title,n=t.label,i=t.mnemonic;if(i<0||i>=n.length)return n;var o=n.slice(0,i),r=n.slice(i+1),s=n[i],a=xe.span({className:"lm-MenuBar-itemMnemonic p-MenuBar-itemMnemonic"},s);return[o,a,r]},e}();e.Renderer=t,e.defaultRenderer=new t})(pt||(pt={})),function(e){function t(){var e=document.createElement("div"),t=document.createElement("ul");return t.className="lm-MenuBar-content",t.classList.add("p-MenuBar-content"),e.appendChild(t),t.setAttribute("role","menubar"),e.tabIndex=0,t.tabIndex=0,e}function n(e,t,n){for(var i=-1,o=-1,r=!1,s=t.toUpperCase(),a=0,c=e.length;a<c;++a){var l=(a+n)%c,d=e[l].title;if(0!==d.label.length){var u=d.mnemonic;u>=0&&u<d.label.length?d.label[u].toUpperCase()===s&&(-1===i?i=l:r=!0):-1===o&&d.label[0].toUpperCase()===s&&(o=l)}}return{index:i,multiple:r,auto:o}}e.createNode=t,e.findMnemonic=n}(ht||(ht={}));var mt;(function(e){function t(t){void 0===t&&(t={});var n=e.call(this,{node:mt.createNode()})||this;return n._onRepeat=function(){if(n._repeatTimer=-1,n._pressData){var e=n._pressData.part;if("thumb"!==e){n._repeatTimer=window.setTimeout(n._onRepeat,20);var t=n._pressData.mouseX,i=n._pressData.mouseY;if("decrement"!==e)if("increment"!==e){if("track"===e){if(!R.hitTest(n.trackNode,t,i))return;var o=n.thumbNode;if(R.hitTest(o,t,i))return;var r=o.getBoundingClientRect(),s=void 0;return s="horizontal"===n._orientation?t<r.left?"decrement":"increment":i<r.top?"decrement":"increment",void n._pageRequested.emit(s)}}else{if(!R.hitTest(n.incrementNode,t,i))return;n._stepRequested.emit("increment")}else{if(!R.hitTest(n.decrementNode,t,i))return;n._stepRequested.emit("decrement")}}}},n._value=0,n._page=10,n._maximum=100,n._repeatTimer=-1,n._pressData=null,n._thumbMoved=new te(n),n._stepRequested=new te(n),n._pageRequested=new te(n),n.addClass("lm-ScrollBar"),n.addClass("p-ScrollBar"),n.setFlag(Pe.Flag.DisallowLayout),n._orientation=t.orientation||"vertical",n.dataset["orientation"]=n._orientation,void 0!==t.maximum&&(n._maximum=Math.max(0,t.maximum)),void 0!==t.page&&(n._page=Math.max(0,t.page)),void 0!==t.value&&(n._value=Math.max(0,Math.min(t.value,n._maximum))),n}Ce(t,e),Object.defineProperty(t.prototype,"thumbMoved",{get:function(){return this._thumbMoved},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stepRequested",{get:function(){return this._stepRequested},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageRequested",{get:function(){return this._pageRequested},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this._orientation},set:function(e){this._orientation!==e&&(this._releaseMouse(),this._orientation=e,this.dataset["orientation"]=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){e=Math.max(0,Math.min(e,this._maximum)),this._value!==e&&(this._value=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"page",{get:function(){return this._page},set:function(e){e=Math.max(0,e),this._page!==e&&(this._page=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximum",{get:function(){return this._maximum},set:function(e){e=Math.max(0,e),this._maximum!==e&&(this._maximum=e,this._value=Math.min(this._value,e),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"decrementNode",{get:function(){return this.node.getElementsByClassName("lm-ScrollBar-button")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"incrementNode",{get:function(){return this.node.getElementsByClassName("lm-ScrollBar-button")[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trackNode",{get:function(){return this.node.getElementsByClassName("lm-ScrollBar-track")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"thumbNode",{get:function(){return this.node.getElementsByClassName("lm-ScrollBar-thumb")[0]},enumerable:!0,configurable:!0}),t.prototype.handleEvent=function(e){switch(e.type){case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation();break}},t.prototype.onBeforeAttach=function(e){this.node.addEventListener("mousedown",this),this.update()},t.prototype.onAfterDetach=function(e){this.node.removeEventListener("mousedown",this),this._releaseMouse()},t.prototype.onUpdateRequest=function(e){var t=100*this._value/this._maximum,n=100*this._page/(this._page+this._maximum);t=Math.max(0,Math.min(t,100)),n=Math.max(0,Math.min(n,100));var i=this.thumbNode.style;"horizontal"===this._orientation?(i.top="",i.height="",i.left=t+"%",i.width=n+"%",i.transform="translate("+-t+"%, 0%)"):(i.left="",i.width="",i.top=t+"%",i.height=n+"%",i.transform="translate(0%, "+-t+"%)")},t.prototype._evtKeyDown=function(e){if(e.preventDefault(),e.stopPropagation(),27===e.keyCode){var t=this._pressData?this._pressData.value:-1;this._releaseMouse(),-1!==t&&this._moveThumb(t)}},t.prototype._evtMouseDown=function(e){if(0===e.button&&(this.activate(),!this._pressData)){var t=mt.findPart(this,e.target);if(t){e.preventDefault(),e.stopPropagation();var n=ce.overrideCursor("default");if(this._pressData={part:t,override:n,delta:-1,value:-1,mouseX:e.clientX,mouseY:e.clientY},document.addEventListener("mousemove",this,!0),document.addEventListener("mouseup",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0),"thumb"===t){var i=this.thumbNode,o=i.getBoundingClientRect();return"horizontal"===this._orientation?this._pressData.delta=e.clientX-o.left:this._pressData.delta=e.clientY-o.top,i.classList.add("lm-mod-active"),i.classList.add("p-mod-active"),void(this._pressData.value=this._value)}if("track"===t){o=this.thumbNode.getBoundingClientRect();var r=void 0;return r="horizontal"===this._orientation?e.clientX<o.left?"decrement":"increment":e.clientY<o.top?"decrement":"increment",this._repeatTimer=window.setTimeout(this._onRepeat,350),void this._pageRequested.emit(r)}return"decrement"===t?(this.decrementNode.classList.add("lm-mod-active"),this.decrementNode.classList.add("p-mod-active"),this._repeatTimer=window.setTimeout(this._onRepeat,350),void this._stepRequested.emit("decrement")):"increment"===t?(this.incrementNode.classList.add("lm-mod-active"),this.incrementNode.classList.add("p-mod-active"),this._repeatTimer=window.setTimeout(this._onRepeat,350),void this._stepRequested.emit("increment")):void 0}}},t.prototype._evtMouseMove=function(e){if(this._pressData&&(e.preventDefault(),e.stopPropagation(),this._pressData.mouseX=e.clientX,this._pressData.mouseY=e.clientY,"thumb"===this._pressData.part)){var t,n,i=this.thumbNode.getBoundingClientRect(),o=this.trackNode.getBoundingClientRect();"horizontal"===this._orientation?(t=e.clientX-o.left-this._pressData.delta,n=o.width-i.width):(t=e.clientY-o.top-this._pressData.delta,n=o.height-i.height);var r=0===n?0:t*this._maximum/n;this._moveThumb(r)}},t.prototype._evtMouseUp=function(e){0===e.button&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse())},t.prototype._releaseMouse=function(){this._pressData&&(clearTimeout(this._repeatTimer),this._repeatTimer=-1,this._pressData.override.dispose(),this._pressData=null,document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("contextmenu",this,!0),this.thumbNode.classList.remove("lm-mod-active"),this.decrementNode.classList.remove("lm-mod-active"),this.incrementNode.classList.remove("lm-mod-active"),this.thumbNode.classList.remove("p-mod-active"),this.decrementNode.classList.remove("p-mod-active"),this.incrementNode.classList.remove("p-mod-active"))},t.prototype._moveThumb=function(e){e=Math.max(0,Math.min(e,this._maximum)),this._value!==e&&(this._value=e,this.update(),this._thumbMoved.emit(e))}})(Pe);(function(e){function t(){var e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div"),i=document.createElement("div"),o=document.createElement("div");return t.className="lm-ScrollBar-button",n.className="lm-ScrollBar-button",t.dataset["action"]="decrement",n.dataset["action"]="increment",i.className="lm-ScrollBar-track",o.className="lm-ScrollBar-thumb",t.classList.add("p-ScrollBar-button"),n.classList.add("p-ScrollBar-button"),i.classList.add("p-ScrollBar-track"),o.classList.add("p-ScrollBar-thumb"),i.appendChild(o),e.appendChild(t),e.appendChild(i),e.appendChild(n),e}function n(e,t){return e.thumbNode.contains(t)?"thumb":e.trackNode.contains(t)?"track":e.decrementNode.contains(t)?"decrement":e.incrementNode.contains(t)?"increment":null}e.createNode=t,e.findPart=n})(mt||(mt={}));(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._widget=null,t}Ce(t,e),t.prototype.dispose=function(){if(this._widget){var t=this._widget;this._widget=null,t.dispose()}e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"widget",{get:function(){return this._widget},set:function(e){e&&(e.parent=this.parent),this._widget!==e&&(this._widget&&this._widget.dispose(),this._widget=e,this.parent&&e&&this.attachWidget(e))},enumerable:!0,configurable:!0}),t.prototype.iter=function(){return this._widget?E(this._widget):f()},t.prototype.removeWidget=function(e){this._widget===e&&(this._widget=null,this.parent&&this.detachWidget(e))},t.prototype.init=function(){var t=this;e.prototype.init.call(this),c(this,(function(e){t.attachWidget(e)}))},t.prototype.attachWidget=function(e){this.parent.isAttached&&$.sendMessage(e,Pe.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&$.sendMessage(e,Pe.Msg.AfterAttach)},t.prototype.detachWidget=function(e){this.parent.isAttached&&$.sendMessage(e,Pe.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&$.sendMessage(e,Pe.Msg.AfterDetach)}})(Te);var ft,vt=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n._dirty=!1,n._items=[],n._box=null,n._hiddenMode=void 0!==t.hiddenMode?t.hiddenMode:Pe.HiddenMode.Display,n}return Ce(t,e),Object.defineProperty(t.prototype,"hiddenMode",{get:function(){return this._hiddenMode},set:function(e){var t=this;this._hiddenMode!==e&&(this._hiddenMode=e,this.widgets.length>1&&this.widgets.forEach((function(e){e.hiddenMode=t._hiddenMode})))},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){c(this._items,(function(e){e.dispose()})),this._box=null,this._items.length=0,e.prototype.dispose.call(this)},t.prototype.attachWidget=function(e,t){this._hiddenMode===Pe.HiddenMode.Scale&&this._items.length>0?(1===this._items.length&&(this.widgets[0].hiddenMode=Pe.HiddenMode.Scale),t.hiddenMode=Pe.HiddenMode.Scale):t.hiddenMode=Pe.HiddenMode.Display,i.insert(this._items,e,new Oe(t)),this.parent.isAttached&&$.sendMessage(t,Pe.Msg.BeforeAttach),this.parent.node.appendChild(t.node),this.parent.isAttached&&$.sendMessage(t,Pe.Msg.AfterAttach),this.parent.fit()},t.prototype.moveWidget=function(e,t,n){i.move(this._items,e,t),this.parent.update()},t.prototype.detachWidget=function(e,t){var n=i.removeAt(this._items,e);this.parent.isAttached&&$.sendMessage(t,Pe.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.isAttached&&$.sendMessage(t,Pe.Msg.AfterDetach),n.widget.node.style.zIndex="",this._hiddenMode===Pe.HiddenMode.Scale&&(t.hiddenMode=Pe.HiddenMode.Display,1===this._items.length&&(this._items[0].widget.hiddenMode=Pe.HiddenMode.Display)),n.dispose(),this.parent.fit()},t.prototype.onBeforeShow=function(t){e.prototype.onBeforeShow.call(this,t),this.parent.update()},t.prototype.onBeforeAttach=function(t){e.prototype.onBeforeAttach.call(this,t),this.parent.fit()},t.prototype.onChildShown=function(e){this.parent.fit()},t.prototype.onChildHidden=function(e){this.parent.fit()},t.prototype.onResize=function(e){this.parent.isVisible&&this._update(e.width,e.height)},t.prototype.onUpdateRequest=function(e){this.parent.isVisible&&this._update(-1,-1)},t.prototype.onFitRequest=function(e){this.parent.isAttached&&this._fit()},t.prototype._fit=function(){for(var e=0,t=0,n=0,i=this._items.length;n<i;++n){var o=this._items[n];o.isHidden||(o.fit(),e=Math.max(e,o.minWidth),t=Math.max(t,o.minHeight))}var r=this._box=R.boxSizing(this.parent.node);e+=r.horizontalSum,t+=r.verticalSum;var s=this.parent.node.style;s.minWidth=e+"px",s.minHeight=t+"px",this._dirty=!0,this.parent.parent&&$.sendMessage(this.parent.parent,Pe.Msg.FitRequest),this._dirty&&$.sendMessage(this.parent,Pe.Msg.UpdateRequest)},t.prototype._update=function(e,t){this._dirty=!1;for(var n=0,i=0,o=this._items.length;i<o;++i)n+=+!this._items[i].isHidden;if(0!==n){e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=R.boxSizing(this.parent.node));var r=this._box.paddingTop,s=this._box.paddingLeft,a=e-this._box.horizontalSum,c=t-this._box.verticalSum;for(i=0,o=this._items.length;i<o;++i){var l=this._items[i];l.isHidden||(l.widget.node.style.zIndex=""+i,l.update(s,r,a,c))}}},t}(Re),gt=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,{layout:ft.createLayout(t)})||this;return n._widgetRemoved=new te(n),n.addClass("lm-StackedPanel"),n.addClass("p-StackedPanel"),n}return Ce(t,e),Object.defineProperty(t.prototype,"hiddenMode",{get:function(){return this.layout.hiddenMode},set:function(e){this.layout.hiddenMode=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"widgetRemoved",{get:function(){return this._widgetRemoved},enumerable:!0,configurable:!0}),t.prototype.onChildAdded=function(e){e.child.addClass("lm-StackedPanel-child"),e.child.addClass("p-StackedPanel-child")},t.prototype.onChildRemoved=function(e){e.child.removeClass("lm-StackedPanel-child"),e.child.removeClass("p-StackedPanel-child"),this._widgetRemoved.emit(e.child)},t}(Ke);(function(e){function t(e){return e.layout||new vt}e.createLayout=t})(ft||(ft={}));var _t;(function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;n._currentChanged=new te(n),n._addRequested=new te(n),n.addClass("lm-TabPanel"),n.addClass("p-TabPanel"),n.tabBar=new rt(t),n.tabBar.addClass("lm-TabPanel-tabBar"),n.stackedPanel=new gt,n.stackedPanel.addClass("lm-TabPanel-stackedPanel"),n.tabBar.addClass("p-TabPanel-tabBar"),n.stackedPanel.addClass("p-TabPanel-stackedPanel"),n.tabBar.tabMoved.connect(n._onTabMoved,n),n.tabBar.currentChanged.connect(n._onCurrentChanged,n),n.tabBar.tabCloseRequested.connect(n._onTabCloseRequested,n),n.tabBar.tabActivateRequested.connect(n._onTabActivateRequested,n),n.tabBar.addRequested.connect(n._onTabAddRequested,n),n.stackedPanel.widgetRemoved.connect(n._onWidgetRemoved,n),n._tabPlacement=t.tabPlacement||"top";var i=_t.directionFromPlacement(n._tabPlacement),o=_t.orientationFromPlacement(n._tabPlacement);n.tabBar.orientation=o,n.tabBar.dataset["placement"]=n._tabPlacement;var r=new Ge({direction:i,spacing:0});return Ge.setStretch(n.tabBar,0),Ge.setStretch(n.stackedPanel,1),r.addWidget(n.tabBar),r.addWidget(n.stackedPanel),n.layout=r,n}Ce(t,e),Object.defineProperty(t.prototype,"currentChanged",{get:function(){return this._currentChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentIndex",{get:function(){return this.tabBar.currentIndex},set:function(e){this.tabBar.currentIndex=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentWidget",{get:function(){var e=this.tabBar.currentTitle;return e?e.owner:null},set:function(e){this.tabBar.currentTitle=e?e.title:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabsMovable",{get:function(){return this.tabBar.tabsMovable},set:function(e){this.tabBar.tabsMovable=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"addButtonEnabled",{get:function(){return this.tabBar.addButtonEnabled},set:function(e){this.tabBar.addButtonEnabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabPlacement",{get:function(){return this._tabPlacement},set:function(e){if(this._tabPlacement!==e){this._tabPlacement=e;var t=_t.directionFromPlacement(e),n=_t.orientationFromPlacement(e);this.tabBar.orientation=n,this.tabBar.dataset["placement"]=e,this.layout.direction=t}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"addRequested",{get:function(){return this._addRequested},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"widgets",{get:function(){return this.stackedPanel.widgets},enumerable:!0,configurable:!0}),t.prototype.addWidget=function(e){this.insertWidget(this.widgets.length,e)},t.prototype.insertWidget=function(e,t){t!==this.currentWidget&&t.hide(),this.stackedPanel.insertWidget(e,t),this.tabBar.insertTab(e,t.title),t.node.setAttribute("role","tabpanel");var n=this.tabBar.renderer;if(n instanceof rt.Renderer){var i=n.createTabKey({title:t.title,current:!1,zIndex:0});t.node.setAttribute("aria-labelledby",i)}},t.prototype._onCurrentChanged=function(e,t){var n=t.previousIndex,i=t.previousTitle,o=t.currentIndex,r=t.currentTitle,s=i?i.owner:null,a=r?r.owner:null;s&&s.hide(),a&&a.show(),this._currentChanged.emit({previousIndex:n,previousWidget:s,currentIndex:o,currentWidget:a}),(N.IS_EDGE||N.IS_IE)&&$.flush()},t.prototype._onTabAddRequested=function(e,t){this._addRequested.emit(e)},t.prototype._onTabActivateRequested=function(e,t){t.title.owner.activate()},t.prototype._onTabCloseRequested=function(e,t){t.title.owner.close()},t.prototype._onTabMoved=function(e,t){this.stackedPanel.insertWidget(t.toIndex,t.title.owner)},t.prototype._onWidgetRemoved=function(e,t){t.node.removeAttribute("role"),t.node.removeAttribute("aria-labelledby"),this.tabBar.removeTab(t.title)}})(Pe);function yt(){var e="/home/runner/work/cylc-ui/cylc-ui/src/components/cylc/workflow/lumino-widget.js",t="e71a87b2d033ab0a0f5879cef4e5fdc4429d518b",n=new Function("return this")(),i="__coverage__",o={path:"/home/runner/work/cylc-ui/cylc-ui/src/components/cylc/workflow/lumino-widget.js",statementMap:{0:{start:{line:38,column:4},end:{line:38,column:48}},1:{start:{line:39,column:4},end:{line:39,column:16}},2:{start:{line:40,column:4},end:{line:40,column:20}},3:{start:{line:41,column:4},end:{line:41,column:28}},4:{start:{line:43,column:4},end:{line:43,column:44}},5:{start:{line:44,column:4},end:{line:44,column:28}},6:{start:{line:46,column:4},end:{line:46,column:27}},7:{start:{line:47,column:4},end:{line:47,column:34}},8:{start:{line:56,column:16},end:{line:56,column:45}},9:{start:{line:57,column:4},end:{line:57,column:30}},10:{start:{line:58,column:4},end:{line:58,column:44}},11:{start:{line:59,column:4},end:{line:59,column:14}},12:{start:{line:64,column:18},end:{line:64,column:78}},13:{start:{line:65,column:4},end:{line:65,column:57}},14:{start:{line:67,column:4},end:{line:67,column:32}},15:{start:{line:72,column:18},end:{line:72,column:76}},16:{start:{line:73,column:4},end:{line:73,column:57}},17:{start:{line:75,column:4},end:{line:75,column:29}},18:{start:{line:92,column:4},end:{line:98,column:5}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:37,column:2},end:{line:37,column:3}},loc:{start:{line:37,column:42},end:{line:48,column:3}},line:37},1:{name:"(anonymous_1)",decl:{start:{line:55,column:2},end:{line:55,column:3}},loc:{start:{line:55,column:25},end:{line:60,column:3}},line:55},2:{name:"(anonymous_2)",decl:{start:{line:62,column:2},end:{line:62,column:3}},loc:{start:{line:62,column:26},end:{line:68,column:3}},line:62},3:{name:"(anonymous_3)",decl:{start:{line:70,column:2},end:{line:70,column:3}},loc:{start:{line:70,column:23},end:{line:76,column:3}},line:70},4:{name:"(anonymous_4)",decl:{start:{line:91,column:2},end:{line:91,column:3}},loc:{start:{line:91,column:22},end:{line:99,column:3}},line:91}},branchMap:{0:{loc:{start:{line:37,column:25},end:{line:37,column:40}},type:"default-arg",locations:[{start:{line:37,column:36},end:{line:37,column:40}}],line:37}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"e71a87b2d033ab0a0f5879cef4e5fdc4429d518b"},r=n[i]||(n[i]={});r[e]&&r[e].hash===t||(r[e]=o);var s=r[e];return yt=function(){return s},s}(function(e){function t(e){return i[e]}function n(e){return o[e]}e.orientationFromPlacement=t,e.directionFromPlacement=n;var i={top:"horizontal",left:"vertical",right:"vertical",bottom:"horizontal"},o={top:"top-to-bottom",left:"left-to-right",right:"right-to-left",bottom:"bottom-to-top"}})(_t||(_t={})),yt();class bt extends Pe{constructor(e,t,n=(yt().b[0][0]++,!0)){yt().f[0]++,yt().s[0]++,super({node:bt.createNode(e)}),yt().s[1]++,this.id=e,yt().s[2]++,this.name=t,yt().s[3]++,this.closable=n,yt().s[4]++,this.setFlag(Pe.Flag.DisallowLayout),yt().s[5]++,this.addClass("content"),yt().s[6]++,this.title.label=t,yt().s[7]++,this.title.closable=n}static createNode(e){yt().f[1]++;const t=(yt().s[8]++,document.createElement("div"));return yt().s[9]++,t.setAttribute("id",e),yt().s[10]++,t.setAttribute("class","fill-height"),yt().s[11]++,t}onActivateRequest(e){yt().f[2]++;const t=(yt().s[12]++,new CustomEvent("lumino:activated",this._getEventDetails()));yt().s[13]++,document.getElementById(this.id).dispatchEvent(t),yt().s[14]++,super.onActivateRequest(e)}onCloseRequest(e){yt().f[3]++;const t=(yt().s[15]++,new CustomEvent("lumino:deleted",this._getEventDetails()));yt().s[16]++,document.getElementById(this.id).dispatchEvent(t),yt().s[17]++,super.onCloseRequest(e)}_getEventDetails(){return yt().f[4]++,yt().s[18]++,{detail:{id:this.id,name:this.name,closable:this.closable}}}}function wt(){var e="/home/runner/work/cylc-ui/cylc-ui/src/components/cylc/workflow/Lumino.vue",t="b6c342a9fea9095c75f923227ebf6063dde05ccb",n=new Function("return this")(),i="__coverage__",o={path:"/home/runner/work/cylc-ui/cylc-ui/src/components/cylc/workflow/Lumino.vue",statementMap:{0:{start:{line:69,column:4},end:{line:75,column:5}},1:{start:{line:83,column:4},end:{line:83,column:25}},2:{start:{line:84,column:4},end:{line:84,column:25}},3:{start:{line:85,column:4},end:{line:85,column:34}},4:{start:{line:86,column:4},end:{line:86,column:50}},5:{start:{line:86,column:30},end:{line:86,column:48}},6:{start:{line:87,column:4},end:{line:87,column:37}},7:{start:{line:88,column:15},end:{line:88,column:19}},8:{start:{line:89,column:4},end:{line:92,column:6}},9:{start:{line:90,column:6},end:{line:90,column:43}},10:{start:{line:91,column:6},end:{line:91,column:24}},11:{start:{line:103,column:4},end:{line:103,column:22}},12:{start:{line:112,column:27},end:{line:112,column:51}},13:{start:{line:113,column:6},end:{line:122,column:10}},14:{start:{line:114,column:25},end:{line:114,column:64}},15:{start:{line:116,column:21},end:{line:116,column:44}},16:{start:{line:117,column:23},end:{line:117,column:109}},17:{start:{line:118,column:10},end:{line:118,column:34}},18:{start:{line:119,column:10},end:{line:121,column:12}},19:{start:{line:120,column:12},end:{line:120,column:65}},20:{start:{line:130,column:6},end:{line:130,column:27}},21:{start:{line:131,column:27},end:{line:131,column:74}},22:{start:{line:132,column:6},end:{line:132,column:62}},23:{start:{line:134,column:6},end:{line:142,column:8}},24:{start:{line:135,column:8},end:{line:136,column:71}},25:{start:{line:137,column:8},end:{line:138,column:67}},26:{start:{line:139,column:8},end:{line:141,column:9}},27:{start:{line:140,column:10},end:{line:140,column:56}},28:{start:{line:159,column:6},end:{line:159,column:56}},29:{start:{line:174,column:17},end:{line:174,column:38}},30:{start:{line:175,column:6},end:{line:175,column:54}},31:{start:{line:176,column:6},end:{line:177,column:68}},32:{start:{line:178,column:6},end:{line:179,column:72}},33:{start:{line:182,column:6},end:{line:182,column:54}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:68,column:2},end:{line:68,column:3}},loc:{start:{line:68,column:10},end:{line:76,column:3}},line:68},1:{name:"(anonymous_1)",decl:{start:{line:82,column:2},end:{line:82,column:3}},loc:{start:{line:82,column:13},end:{line:93,column:3}},line:82},2:{name:"(anonymous_2)",decl:{start:{line:86,column:22},end:{line:86,column:23}},loc:{start:{line:86,column:28},end:{line:86,column:50}},line:86},3:{name:"(anonymous_3)",decl:{start:{line:89,column:19},end:{line:89,column:20}},loc:{start:{line:89,column:25},end:{line:92,column:5}},line:89},4:{name:"(anonymous_4)",decl:{start:{line:102,column:2},end:{line:102,column:3}},loc:{start:{line:102,column:13},end:{line:104,column:3}},line:102},5:{name:"(anonymous_5)",decl:{start:{line:111,column:4},end:{line:111,column:5}},loc:{start:{line:111,column:19},end:{line:123,column:5}},line:111},6:{name:"(anonymous_6)",decl:{start:{line:114,column:16},end:{line:114,column:17}},loc:{start:{line:114,column:25},end:{line:114,column:64}},line:114},7:{name:"(anonymous_7)",decl:{start:{line:115,column:17},end:{line:115,column:18}},loc:{start:{line:115,column:29},end:{line:122,column:9}},line:115},8:{name:"(anonymous_8)",decl:{start:{line:119,column:25},end:{line:119,column:26}},loc:{start:{line:119,column:31},end:{line:121,column:11}},line:119},9:{name:"(anonymous_9)",decl:{start:{line:129,column:4},end:{line:129,column:5}},loc:{start:{line:129,column:39},end:{line:143,column:5}},line:129},10:{name:"(anonymous_10)",decl:{start:{line:134,column:21},end:{line:134,column:22}},loc:{start:{line:134,column:27},end:{line:142,column:7}},line:134},11:{name:"(anonymous_11)",decl:{start:{line:156,column:4},end:{line:156,column:5}},loc:{start:{line:156,column:36},end:{line:160,column:5}},line:156},12:{name:"(anonymous_12)",decl:{start:{line:173,column:4},end:{line:173,column:5}},loc:{start:{line:173,column:34},end:{line:183,column:5}},line:173}},branchMap:{0:{loc:{start:{line:117,column:23},end:{line:117,column:109}},type:"cond-expr",locations:[{start:{line:117,column:55},end:{line:117,column:84}},{start:{line:117,column:87},end:{line:117,column:109}}],line:117},1:{loc:{start:{line:129,column:25},end:{line:129,column:37}},type:"default-arg",locations:[{start:{line:129,column:33},end:{line:129,column:37}}],line:129},2:{loc:{start:{line:139,column:8},end:{line:141,column:9}},type:"if",locations:[{start:{line:139,column:8},end:{line:141,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:139}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0},b:{0:[0,0],1:[0],2:[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b6c342a9fea9095c75f923227ebf6063dde05ccb"},r=n[i]||(n[i]={});r[e]&&r[e].hash===t||(r[e]=o);var s=r[e];return wt=function(){return s},s}wt();var xt={name:"Lumino",props:{tabTitleProp:{type:String,default:"name"}},data(){return wt().f[0]++,wt().s[0]++,{main:new Ze({direction:"left-to-right",spacing:0}),dock:new lt,widgets:[]}},created(){wt().f[1]++,wt().s[1]++,this.dock.id="dock",wt().s[2]++,this.main.id="main",wt().s[3]++,this.main.addWidget(this.dock),wt().s[4]++,window.onresize=()=>{wt().f[2]++,wt().s[5]++,this.main.update()},wt().s[6]++,Ze.setStretch(this.dock,1);const e=(wt().s[7]++,this);wt().s[8]++,this.$nextTick(()=>{wt().f[3]++,wt().s[9]++,Pe.attach(e.main,e.$refs.main),wt().s[10]++,this.syncWidgets()})},updated(){wt().f[4]++,wt().s[11]++,this.syncWidgets()},methods:{syncWidgets(){wt().f[5]++;const e=(wt().s[12]++,this.$props.tabTitleProp);wt().s[13]++,this.$children.filter(e=>(wt().f[6]++,wt().s[14]++,!this.widgets.includes(e.$attrs.id))).forEach(t=>{wt().f[7]++;const n=(wt().s[15]++,""+t.$attrs.id),i=(wt().s[16]++,t.$attrs[e]?(wt().b[0][0]++,t.$attrs[e]):(wt().b[0][1]++,t.$options.name));wt().s[17]++,this.addWidget(n,i),wt().s[18]++,this.$nextTick(()=>{wt().f[8]++,wt().s[19]++,document.getElementById(n).appendChild(t.$el)})})},addWidget(e,t,n=(wt().b[1][0]++,!0)){wt().f[9]++,wt().s[20]++,this.widgets.push(e);const i=(wt().s[21]++,new bt(e,t,!0));wt().s[22]++,this.dock.addWidget(i,{mode:"tab-after"}),wt().s[23]++,this.$nextTick(()=>{wt().f[10]++,wt().s[24]++,document.getElementById(e).addEventListener("lumino:activated",this.onWidgetActivated),wt().s[25]++,document.getElementById(e).addEventListener("lumino:deleted",this.onWidgetDeleted),wt().s[26]++,n?(wt().b[2][0]++,wt().s[27]++,i.parent.selectWidget(i)):wt().b[2][1]++})},onWidgetActivated(e){wt().f[11]++,wt().s[28]++,this.$emit("lumino:activated",e.detail)},onWidgetDeleted(e){wt().f[12]++;const t=(wt().s[29]++,e.detail.id);wt().s[30]++,this.widgets.splice(this.widgets.indexOf(t),1),wt().s[31]++,document.getElementById(t).removeEventListener("lumino:deleted",this.onWidgetDeleted),wt().s[32]++,document.getElementById(t).removeEventListener("lumino:activated",this.onWidgetActivated),wt().s[33]++,this.$emit("lumino:deleted",e.detail)}}},Mt=xt,Ct=n("2877"),Et=Object(Ct["a"])(Mt,H,F,!1,null,null,null),St=Et.exports,kt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app-bar",{staticClass:"c-toolbar",attrs:{app:"",id:"core-app-bar",dense:"",flat:""},scopedSlots:e._u([e.extended?{key:"extension",fn:function(){return[n("span",{staticStyle:{"margin-left":"260px"}},[n("a",{on:{click:e.onClickPause}},[n("v-icon",{attrs:{color:"#5E5E5E"}},[e._v(e._s(e.svgPaths.hold))])],1),n("a",{on:{click:e.onClickStop}},[n("v-icon",{attrs:{color:"#5E5E5E"}},[e._v(e._s(e.svgPaths.stop))])],1),n("span",[e._v("Other controls added in the future")])])]},proxy:!0}:null],null,!0)},[e.responsive?n("v-btn",{staticClass:"default v-btn--simple",attrs:{icon:"",id:"toggle-drawer"},on:{click:function(t){return t.stopPropagation(),e.onClickBtn.apply(null,arguments)}}},[n("v-icon",[e._v(e._s(e.svgPaths.list))])],1):e._e(),n("v-toolbar-title",{staticClass:"text-md-h6 text-subtitle-1"},[n("span",{staticClass:"c-toolbar-title"},[e._v(e._s(e.title))])]),e.currentWorkflow?[n("div",{staticClass:"c-workflow-controls flex-shrink-0"},[n("v-icon",{directives:[{name:"cylc-object",rawName:"v-cylc-object",value:e.currentWorkflow,expression:"currentWorkflow"}],attrs:{id:"workflow-mutate-button",color:"#5E5E5E"}},[e._v(" "+e._s(e.svgPaths.menu)+" ")]),e.isRunning?e._e():n("v-icon",{attrs:{id:"workflow-play-button",color:"#5E5E5E",disabled:!e.enabled.playToggle},on:{click:e.onClickPlay}},[e._v(" "+e._s(e.svgPaths.run)+" ")]),e.isRunning?n("v-icon",{attrs:{id:"workflow-play-pause-button",color:"#5E5E5E",disabled:!e.enabled.pauseToggle},on:{click:e.onClickReleaseHold}},[e._v(" "+e._s(e.isPaused?e.svgPaths.run:e.svgPaths.hold)+" ")]):e._e(),n("v-icon",{attrs:{id:"workflow-stop-button",color:"#5E5E5E",disabled:!e.enabled.stopToggle},on:{click:e.onClickStop}},[e._v(" "+e._s(e.svgPaths.stop)+" ")])],1),n("span",{staticClass:"status-msg text-md-body-1 text-body-2"},[e._v(" "+e._s(e.statusMsg)+" ")]),n("v-spacer"),"workspace"===e.$route.name?n("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("a",e._g({staticClass:"add-view d-flex flex-row-reverse align-items-center"},i),[n("v-icon",{staticClass:"icon",attrs:{color:"#5995EB"}},[e._v(e._s(e.svgPaths.add))]),n("span",{staticClass:"label"},[e._v(" "+e._s(e.$t("Toolbar.addView"))+" ")])],1)]}}],null,!1,3111597859)},[n("v-list",{staticClass:"pa-0"},e._l(e.views,(function(t){return n("v-list-item",{key:t.name,staticClass:"py-0 px-8 ma-0 c-add-view",attrs:{id:"toolbar-add-"+t.name+"-view"},on:{click:function(n){return e.$listeners["add"]({viewName:t.name})}}},[n("v-list-item-icon",[n("v-icon",[e._v(e._s(t.data().widget.icon))])],1),n("v-list-item-title",[e._v(e._s(t.name))])],1)})),1)],1):e._e()]:e._e()],2)},It=[],At=n("2f62"),zt=n("94ed"),Lt=n("3993"),Pt=n("e2db"),Tt=n("f55f");function Dt(){var e="/home/runner/work/cylc-ui/cylc-ui/src/components/cylc/workflow/Toolbar.vue",t="863a576f1a375fc68dd60398ce78983dcd0bec77",n=new Function("return this")(),i="__coverage__",o={path:"/home/runner/work/cylc-ui/cylc-ui/src/components/cylc/workflow/Toolbar.vue",statementMap:{0:{start:{line:172,column:15},end:{line:189,column:3}},1:{start:{line:195,column:6},end:{line:195,column:50}},2:{start:{line:198,column:6},end:{line:205,column:7}},3:{start:{line:208,column:6},end:{line:211,column:7}},4:{start:{line:214,column:6},end:{line:217,column:7}},5:{start:{line:220,column:6},end:{line:220,column:54}},6:{start:{line:226,column:6},end:{line:253,column:7}},7:{start:{line:258,column:6},end:{line:258,column:32}},8:{start:{line:261,column:6},end:{line:261,column:34}},9:{start:{line:264,column:6},end:{line:264,column:32}},10:{start:{line:269,column:6},end:{line:276,column:8}},11:{start:{line:273,column:8},end:{line:275,column:9}},12:{start:{line:274,column:10},end:{line:274,column:47}},13:{start:{line:279,column:6},end:{line:286,column:8}},14:{start:{line:283,column:8},end:{line:285,column:9}},15:{start:{line:284,column:10},end:{line:284,column:48}},16:{start:{line:289,column:6},end:{line:296,column:8}},17:{start:{line:293,column:8},end:{line:295,column:9}},18:{start:{line:294,column:10},end:{line:294,column:54}},19:{start:{line:299,column:6},end:{line:299,column:36}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:172,column:8},end:{line:172,column:9}},loc:{start:{line:172,column:15},end:{line:189,column:3}},line:172},1:{name:"(anonymous_1)",decl:{start:{line:194,column:4},end:{line:194,column:5}},loc:{start:{line:194,column:23},end:{line:196,column:5}},line:194},2:{name:"(anonymous_2)",decl:{start:{line:197,column:4},end:{line:197,column:5}},loc:{start:{line:197,column:17},end:{line:206,column:5}},line:197},3:{name:"(anonymous_3)",decl:{start:{line:207,column:4},end:{line:207,column:5}},loc:{start:{line:207,column:16},end:{line:212,column:5}},line:207},4:{name:"(anonymous_4)",decl:{start:{line:213,column:4},end:{line:213,column:5}},loc:{start:{line:213,column:17},end:{line:218,column:5}},line:213},5:{name:"(anonymous_5)",decl:{start:{line:219,column:4},end:{line:219,column:5}},loc:{start:{line:219,column:17},end:{line:221,column:5}},line:219},6:{name:"(anonymous_6)",decl:{start:{line:222,column:4},end:{line:222,column:5}},loc:{start:{line:222,column:15},end:{line:254,column:5}},line:222},7:{name:"(anonymous_7)",decl:{start:{line:257,column:4},end:{line:257,column:5}},loc:{start:{line:257,column:17},end:{line:259,column:5}},line:257},8:{name:"(anonymous_8)",decl:{start:{line:260,column:4},end:{line:260,column:5}},loc:{start:{line:260,column:16},end:{line:262,column:5}},line:260},9:{name:"(anonymous_9)",decl:{start:{line:263,column:4},end:{line:263,column:5}},loc:{start:{line:263,column:17},end:{line:265,column:5}},line:263},10:{name:"(anonymous_10)",decl:{start:{line:268,column:4},end:{line:268,column:5}},loc:{start:{line:268,column:19},end:{line:277,column:5}},line:268},11:{name:"(anonymous_11)",decl:{start:{line:272,column:13},end:{line:272,column:14}},loc:{start:{line:272,column:20},end:{line:276,column:7}},line:272},12:{name:"(anonymous_12)",decl:{start:{line:278,column:4},end:{line:278,column:5}},loc:{start:{line:278,column:26},end:{line:287,column:5}},line:278},13:{name:"(anonymous_13)",decl:{start:{line:282,column:13},end:{line:282,column:14}},loc:{start:{line:282,column:25},end:{line:286,column:7}},line:282},14:{name:"(anonymous_14)",decl:{start:{line:288,column:4},end:{line:288,column:5}},loc:{start:{line:288,column:25},end:{line:297,column:5}},line:288},15:{name:"(anonymous_15)",decl:{start:{line:292,column:13},end:{line:292,column:14}},loc:{start:{line:292,column:25},end:{line:296,column:7}},line:292},16:{name:"(anonymous_16)",decl:{start:{line:298,column:4},end:{line:298,column:5}},loc:{start:{line:298,column:22},end:{line:300,column:5}},line:298}},branchMap:{0:{loc:{start:{line:199,column:8},end:{line:204,column:9}},type:"binary-expr",locations:[{start:{line:199,column:8},end:{line:199,column:28}},{start:{line:201,column:10},end:{line:201,column:73}},{start:{line:202,column:10},end:{line:202,column:72}},{start:{line:203,column:10},end:{line:203,column:74}}],line:199},1:{loc:{start:{line:209,column:8},end:{line:210,column:70}},type:"binary-expr",locations:[{start:{line:209,column:8},end:{line:209,column:28}},{start:{line:210,column:8},end:{line:210,column:70}}],line:209},2:{loc:{start:{line:215,column:8},end:{line:216,column:71}},type:"binary-expr",locations:[{start:{line:215,column:8},end:{line:215,column:29}},{start:{line:216,column:8},end:{line:216,column:71}}],line:215},3:{loc:{start:{line:220,column:13},end:{line:220,column:54}},type:"binary-expr",locations:[{start:{line:220,column:13},end:{line:220,column:48}},{start:{line:220,column:52},end:{line:220,column:54}}],line:220},4:{loc:{start:{line:229,column:10},end:{line:233,column:11}},type:"binary-expr",locations:[{start:{line:229,column:10},end:{line:229,column:24}},{start:{line:231,column:12},end:{line:231,column:40}},{start:{line:232,column:12},end:{line:232,column:50}}],line:229},5:{loc:{start:{line:237,column:10},end:{line:243,column:11}},type:"binary-expr",locations:[{start:{line:237,column:10},end:{line:237,column:25}},{start:{line:238,column:10},end:{line:238,column:30}},{start:{line:239,column:10},end:{line:239,column:74}},{start:{line:241,column:12},end:{line:241,column:42}},{start:{line:242,column:12},end:{line:242,column:51}}],line:237},6:{loc:{start:{line:247,column:10},end:{line:251,column:11}},type:"binary-expr",locations:[{start:{line:247,column:10},end:{line:247,column:25}},{start:{line:249,column:12},end:{line:249,column:40}},{start:{line:250,column:12},end:{line:250,column:50}}],line:247},7:{loc:{start:{line:273,column:8},end:{line:275,column:9}},type:"if",locations:[{start:{line:273,column:8},end:{line:275,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:273},8:{loc:{start:{line:280,column:8},end:{line:280,column:42}},type:"cond-expr",locations:[{start:{line:280,column:24},end:{line:280,column:32}},{start:{line:280,column:35},end:{line:280,column:42}}],line:280},9:{loc:{start:{line:283,column:8},end:{line:285,column:9}},type:"if",locations:[{start:{line:283,column:8},end:{line:285,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:283},10:{loc:{start:{line:293,column:8},end:{line:295,column:9}},type:"if",locations:[{start:{line:293,column:8},end:{line:295,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:293}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0},b:{0:[0,0,0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0,0],5:[0,0,0,0,0],6:[0,0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"863a576f1a375fc68dd60398ce78983dcd0bec77"},r=n[i]||(n[i]={});r[e]&&r[e].hash===t||(r[e]=o);var s=r[e];return Dt=function(){return s},s}Dt();var Ot={name:"Toolbar",mixins:[Lt["a"],L["a"]],props:{views:{type:Array,required:!0}},data:()=>(Dt().f[0]++,Dt().s[0]++,{extended:!1,svgPaths:{add:zt["Q"],hold:zt["H"],list:zt["ab"],menu:zt["E"],run:zt["L"],stop:zt["W"]},expecting:{play:null,paused:null,stop:null}}),computed:{...Object(At["e"])("app",["title"]),...Object(At["e"])("user",["user"]),...Object(At["e"])("workflows",["cylcTree"]),currentWorkflow(){return Dt().f[1]++,Dt().s[1]++,this.cylcTree.$index[this.workflowId]},isRunning(){return Dt().f[2]++,Dt().s[2]++,Dt().b[0][0]++,this.currentWorkflow&&(Dt().b[0][1]++,this.currentWorkflow.node.status===Pt["c"].RUNNING.name||(Dt().b[0][2]++,this.currentWorkflow.node.status===Pt["c"].PAUSED.name)||(Dt().b[0][3]++,this.currentWorkflow.node.status===Pt["c"].STOPPING.name))},isPaused(){return Dt().f[3]++,Dt().s[3]++,Dt().b[1][0]++,this.currentWorkflow&&(Dt().b[1][1]++,this.currentWorkflow.node.status===Pt["c"].PAUSED.name)},isStopped(){return Dt().f[4]++,Dt().s[4]++,Dt().b[2][0]++,!this.currentWorkflow||(Dt().b[2][1]++,this.currentWorkflow.node.status===Pt["c"].STOPPED.name)},statusMsg(){return Dt().f[5]++,Dt().s[5]++,Dt().b[3][0]++,this.currentWorkflow.node.statusMsg||(Dt().b[3][1]++,"")},enabled(){return Dt().f[6]++,Dt().s[6]++,{playToggle:(Dt().b[4][0]++,this.isStopped&&(Dt().b[4][1]++,null===this.expecting.play||(Dt().b[4][2]++,this.expecting.play===this.isRunning))),pauseToggle:(Dt().b[5][0]++,!this.isStopped&&(Dt().b[5][1]++,!this.expecting.stop)&&(Dt().b[5][2]++,this.currentWorkflow.node.status!==Pt["c"].STOPPING.name)&&(Dt().b[5][3]++,null===this.expecting.paused||(Dt().b[5][4]++,this.expecting.paused===this.isPaused))),stopToggle:(Dt().b[6][0]++,!this.isStopped&&(Dt().b[6][1]++,null===this.expecting.stop||(Dt().b[6][2]++,this.expecting.stop===this.isStopped)))}}},watch:{isRunning(){Dt().f[7]++,Dt().s[7]++,this.expecting.play=null},isPaused(){Dt().f[8]++,Dt().s[8]++,this.expecting.paused=null},isStopped(){Dt().f[9]++,Dt().s[9]++,this.expecting.stop=null}},methods:{onClickPlay(){Dt().f[10]++,Dt().s[10]++,this.$workflowService.mutate("play",this.currentWorkflow.id).then(e=>{Dt().f[11]++,Dt().s[11]++,e[0]===Tt["l"].SUCCEEDED?(Dt().b[7][0]++,Dt().s[12]++,this.expecting.play=!this.isRunning):Dt().b[7][1]++})},onClickReleaseHold(){Dt().f[12]++,Dt().s[13]++,this.$workflowService.mutate(this.isPaused?(Dt().b[8][0]++,"resume"):(Dt().b[8][1]++,"pause"),this.currentWorkflow.id).then(e=>{Dt().f[13]++,Dt().s[14]++,e.status===Tt["l"].SUCCEEDED?(Dt().b[9][0]++,Dt().s[15]++,this.expecting.paused=!this.isPaused):Dt().b[9][1]++})},async onClickStop(){Dt().f[14]++,Dt().s[16]++,this.$workflowService.mutate("stop",this.currentWorkflow.id).then(e=>{Dt().f[15]++,Dt().s[17]++,e.status===Tt["l"].SUCCEEDED?(Dt().b[10][0]++,Dt().s[18]++,this.expecting.stop=Pt["c"].STOPPING):Dt().b[10][1]++})},toggleExtended(){Dt().f[16]++,Dt().s[19]++,this.extended=!this.extended}}},Bt=Ot,Rt=n("6544"),Nt=n.n(Rt),jt=n("40dc"),Wt=n("8336"),Ht=n("132d"),Ft=n("8860"),qt=n("da13"),Kt=n("34c3"),Vt=n("5d23"),Ut=n("e449"),Yt=n("2fa4"),Xt=n("2a7f"),$t=Object(Ct["a"])(Bt,kt,It,!1,null,null,null),Gt=$t.exports;Nt()($t,{VAppBar:jt["a"],VBtn:Wt["a"],VIcon:Ht["a"],VList:Ft["a"],VListItem:qt["a"],VListItemIcon:Kt["a"],VListItemTitle:Vt["d"],VMenu:Ut["a"],VSpacer:Yt["a"],VToolbarTitle:Xt["a"]});var Jt=n("3f0e"),Zt=n("54ce"),Qt=n("8b30"),en=n("f836");function tn(){var e="/home/runner/work/cylc-ui/cylc-ui/src/views/Workspace.vue",t="ce4fcc28cdf016765d465e4aa821f7e03b2994db",n=new Function("return this")(),i="__coverage__",o={path:"/home/runner/work/cylc-ui/cylc-ui/src/views/Workspace.vue",statementMap:{0:{start:{line:82,column:4},end:{line:84,column:5}},1:{start:{line:95,column:15},end:{line:118,column:3}},2:{start:{line:122,column:4},end:{line:124,column:6}},3:{start:{line:123,column:6},end:{line:123,column:48}},4:{start:{line:131,column:4},end:{line:135,column:6}},5:{start:{line:132,column:6},end:{line:134,column:8}},6:{start:{line:133,column:8},end:{line:133,column:47}},7:{start:{line:140,column:4},end:{line:140,column:27}},8:{start:{line:141,column:4},end:{line:141,column:10}},9:{start:{line:144,column:4},end:{line:147,column:6}},10:{start:{line:146,column:6},end:{line:146,column:47}},11:{start:{line:152,column:4},end:{line:152,column:27}},12:{start:{line:153,column:4},end:{line:153,column:10}},13:{start:{line:157,column:4},end:{line:157,column:47}},14:{start:{line:161,column:4},end:{line:161,column:48}},15:{start:{line:171,column:19},end:{line:173,column:20}},16:{start:{line:172,column:21},end:{line:172,column:40}},17:{start:{line:174,column:6},end:{line:176,column:7}},18:{start:{line:175,column:8},end:{line:175,column:49}},19:{start:{line:177,column:6},end:{line:181,column:7}},20:{start:{line:182,column:6},end:{line:188,column:8}},21:{start:{line:187,column:8},end:{line:187,column:50}},22:{start:{line:194,column:26},end:{line:194,column:58}},23:{start:{line:195,column:22},end:{line:195,column:24}},24:{start:{line:196,column:6},end:{line:198,column:8}},25:{start:{line:197,column:8},end:{line:197,column:28}},26:{start:{line:199,column:6},end:{line:199,column:47}},27:{start:{line:199,column:32},end:{line:199,column:46}},28:{start:{line:215,column:6},end:{line:215,column:40}},29:{start:{line:219,column:6},end:{line:221,column:7}},30:{start:{line:220,column:8},end:{line:220,column:43}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:81,column:2},end:{line:81,column:3}},loc:{start:{line:81,column:14},end:{line:85,column:3}},line:81},1:{name:"(anonymous_1)",decl:{start:{line:91,column:15},end:{line:91,column:16}},loc:{start:{line:91,column:21},end:{line:91,column:23}},line:91},2:{name:"(anonymous_2)",decl:{start:{line:95,column:8},end:{line:95,column:9}},loc:{start:{line:95,column:15},end:{line:118,column:3}},line:95},3:{name:"(anonymous_3)",decl:{start:{line:119,column:2},end:{line:119,column:3}},loc:{start:{line:119,column:13},end:{line:125,column:3}},line:119},4:{name:"(anonymous_4)",decl:{start:{line:122,column:23},end:{line:122,column:24}},loc:{start:{line:122,column:31},end:{line:124,column:5}},line:122},5:{name:"(anonymous_5)",decl:{start:{line:130,column:2},end:{line:130,column:3}},loc:{start:{line:130,column:36},end:{line:136,column:3}},line:130},6:{name:"(anonymous_6)",decl:{start:{line:131,column:9},end:{line:131,column:10}},loc:{start:{line:131,column:15},end:{line:135,column:5}},line:131},7:{name:"(anonymous_7)",decl:{start:{line:132,column:19},end:{line:132,column:20}},loc:{start:{line:132,column:25},end:{line:134,column:7}},line:132},8:{name:"(anonymous_8)",decl:{start:{line:138,column:2},end:{line:138,column:3}},loc:{start:{line:138,column:37},end:{line:148,column:3}},line:138},9:{name:"(anonymous_9)",decl:{start:{line:144,column:19},end:{line:144,column:20}},loc:{start:{line:144,column:25},end:{line:147,column:5}},line:144},10:{name:"(anonymous_10)",decl:{start:{line:150,column:2},end:{line:150,column:3}},loc:{start:{line:150,column:36},end:{line:154,column:3}},line:150},11:{name:"(anonymous_11)",decl:{start:{line:156,column:2},end:{line:156,column:3}},loc:{start:{line:156,column:13},end:{line:158,column:3}},line:156},12:{name:"(anonymous_12)",decl:{start:{line:160,column:2},end:{line:160,column:3}},loc:{start:{line:160,column:19},end:{line:162,column:3}},line:160},13:{name:"(anonymous_13)",decl:{start:{line:170,column:4},end:{line:170,column:5}},loc:{start:{line:170,column:48},end:{line:189,column:5}},line:170},14:{name:"(anonymous_14)",decl:{start:{line:172,column:16},end:{line:172,column:17}},loc:{start:{line:172,column:21},end:{line:172,column:40}},line:172},15:{name:"(anonymous_15)",decl:{start:{line:182,column:21},end:{line:182,column:22}},loc:{start:{line:182,column:27},end:{line:188,column:7}},line:182},16:{name:"(anonymous_16)",decl:{start:{line:193,column:4},end:{line:193,column:5}},loc:{start:{line:193,column:24},end:{line:200,column:5}},line:193},17:{name:"(anonymous_17)",decl:{start:{line:196,column:30},end:{line:196,column:31}},loc:{start:{line:196,column:40},end:{line:198,column:7}},line:196},18:{name:"(anonymous_18)",decl:{start:{line:199,column:22},end:{line:199,column:23}},loc:{start:{line:199,column:32},end:{line:199,column:46}},line:199},19:{name:"(anonymous_19)",decl:{start:{line:214,column:4},end:{line:214,column:5}},loc:{start:{line:214,column:33},end:{line:222,column:5}},line:214}},branchMap:{0:{loc:{start:{line:170,column:25},end:{line:170,column:44}},type:"default-arg",locations:[{start:{line:170,column:42},end:{line:170,column:44}}],line:170},1:{loc:{start:{line:174,column:6},end:{line:176,column:7}},type:"if",locations:[{start:{line:174,column:6},end:{line:176,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:174},2:{loc:{start:{line:219,column:6},end:{line:221,column:7}},type:"if",locations:[{start:{line:219,column:6},end:{line:221,column:7}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:219}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0},b:{0:[0],1:[0,0],2:[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ce4fcc28cdf016765d465e4aa821f7e03b2994db"},r=n[i]||(n[i]={});r[e]&&r[e].hash===t||(r[e]=o);var s=r[e];return tn=function(){return s},s}tn();var nn={name:"Workflow",mixins:[z["a"],L["a"],P["a"]],components:{Lumino:St,Toolbar:Gt},metaInfo(){return tn().f[0]++,tn().s[0]++,{title:this.getPageTitle("App.workflow",{name:this.workflowName})}},props:{initialOptions:{type:Object,required:!1,default:()=>{tn().f[1]++}}},data:()=>(tn().f[2]++,tn().s[1]++,{widgets:{},views:[Zt["default"],Jt["default"],Qt["default"],en["default"]]}),created(){tn().f[3]++,tn().s[2]++,this.views.forEach(e=>{tn().f[4]++,tn().s[3]++,this.$options.components[e.name]=e})},computed:{},beforeRouteEnter(e,t,n){tn().f[5]++,tn().s[4]++,n(e=>{tn().f[6]++,tn().s[5]++,e.$nextTick(()=>{tn().f[7]++,tn().s[6]++,e.addView({viewName:Zt["default"].name})})})},beforeRouteUpdate(e,t,n){tn().f[8]++,tn().s[7]++,this.removeAllWidgets(),tn().s[8]++,n(),tn().s[9]++,this.$nextTick(()=>{tn().f[9]++,tn().s[10]++,this.addView({viewName:Zt["default"].name})})},beforeRouteLeave(e,t,n){tn().f[10]++,tn().s[11]++,this.removeAllWidgets(),tn().s[12]++,n()},mounted(){tn().f[11]++,tn().s[13]++,this.$eventBus.on("add-view",this.addView)},beforeDestroy(){tn().f[12]++,tn().s[14]++,this.$eventBus.off("add-view",this.addView)},methods:{addView({viewName:e,initialOptions:t=(tn().b[0][0]++,{})}){tn().f[13]++;const n=(tn().s[15]++,this.views.filter(t=>(tn().f[14]++,tn().s[16]++,t.name===e)).slice(0)[0]);if(tn().s[17]++,!n)throw tn().b[1][0]++,tn().s[18]++,Error(`Unknown view "${e}"`);tn().b[1][1]++,tn().s[19]++,s["a"].set(this.widgets,O(),{view:n,initialOptions:t}),tn().s[20]++,this.$nextTick(()=>{tn().f[15]++,tn().s[21]++,this.$workflowService.startSubscriptions()})},removeAllWidgets(){tn().f[16]++;const e=(tn().s[22]++,this.$refs.lumino.dock.widgets()),t=(tn().s[23]++,[]);tn().s[24]++,c(a(e),e=>{tn().f[17]++,tn().s[25]++,t.push(e)}),tn().s[26]++,t.forEach(e=>(tn().f[18]++,tn().s[27]++,e.close()))},onWidgetDeletedEvent(e){tn().f[19]++,tn().s[28]++,s["a"].delete(this.widgets,e.id),tn().s[29]++,0===Object.entries(this.widgets).length?(tn().b[2][0]++,tn().s[30]++,this.viewState=T["a"].NO_STATE):tn().b[2][1]++}}},on=nn,rn=n("3129"),sn=Object(Ct["a"])(on,o,r,!1,null,null,null);t["default"]=sn.exports;Nt()(sn,{VSkeletonLoader:rn["a"]})},"54ce":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"h-100"},[n("div",{staticClass:"c-tree pa-2 h-100",attrs:{"data-cy":"tree-view"}},[n("tree-component",{key:"tree0",ref:"tree0",attrs:{workflows:e.workflows,hoverable:!1,activable:!1,"multiple-active":!1,"min-depth":1,autoExpandTypes:["workflow","cycle","family"],autoStripTypes:["workflow"]}})],1)])},o=[],r=n("2f62"),s=n("94ed"),a=n("1b62"),c=n("a254"),l=n("ebc4"),d=n("5982"),u=n("020d"),h=n("46b1"),p=n("0306");function m(){var e="/home/runner/work/cylc-ui/cylc-ui/src/views/Tree.vue",t="d8cf45a519cd9e6087f26492d3d094e24eaa969c",n=new Function("return this")(),i="__coverage__",o={path:"/home/runner/work/cylc-ui/cylc-ui/src/views/Tree.vue",statementMap:{0:{start:{line:59,column:4},end:{line:61,column:5}},1:{start:{line:64,column:4},end:{line:69,column:5}},2:{start:{line:75,column:6},end:{line:75,column:30}},3:{start:{line:78,column:6},end:{line:78,column:56}},4:{start:{line:81,column:6},end:{line:88,column:7}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:58,column:2},end:{line:58,column:3}},loc:{start:{line:58,column:14},end:{line:62,column:3}},line:58},1:{name:"(anonymous_1)",decl:{start:{line:63,column:2},end:{line:63,column:3}},loc:{start:{line:63,column:10},end:{line:70,column:3}},line:63},2:{name:"(anonymous_2)",decl:{start:{line:74,column:4},end:{line:74,column:5}},loc:{start:{line:74,column:19},end:{line:76,column:5}},line:74},3:{name:"(anonymous_3)",decl:{start:{line:77,column:4},end:{line:77,column:5}},loc:{start:{line:77,column:17},end:{line:79,column:5}},line:77},4:{name:"(anonymous_4)",decl:{start:{line:80,column:4},end:{line:80,column:5}},loc:{start:{line:80,column:13},end:{line:89,column:5}},line:80}},branchMap:{},s:{0:0,1:0,2:0,3:0,4:0},f:{0:0,1:0,2:0,3:0,4:0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"d8cf45a519cd9e6087f26492d3d094e24eaa969c"},r=n[i]||(n[i]={});r[e]&&r[e].hash===t||(r[e]=o);var s=r[e];return m=function(){return s},s}m();var f={mixins:[a["a"],c["a"],d["a"],l["a"]],name:"Tree",components:{TreeComponent:h["a"]},metaInfo(){return m().f[0]++,m().s[0]++,{title:this.getPageTitle("App.workflow",{name:this.workflowName})}},data(){return m().f[1]++,m().s[1]++,{widget:{title:"tree",icon:s["s"]}}},computed:{...Object(r["e"])("workflows",["cylcTree"]),...Object(r["c"])("workflows",["getNodes"]),workflowIDs(){return m().f[2]++,m().s[2]++,[this.workflowId]},workflows(){return m().f[3]++,m().s[3]++,this.getNodes("workflow",this.workflowIDs)},query(){return m().f[4]++,m().s[4]++,new u["a"](p["e"],this.variables,"workflow",[],!0,!0)}}},v=f,g=n("2877"),_=Object(g["a"])(v,i,o,!1,null,null,null);t["default"]=_.exports},"587e":function(e,t,n){(function(e,n){n(t)})(0,(function(e){"use strict";e.JSONExt=void 0,function(e){function t(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e}function n(e){return Array.isArray(e)}function i(e){return!t(e)&&!n(e)}function o(e,i){if(e===i)return!0;if(t(e)||t(i))return!1;var o=n(e),r=n(i);return o===r&&(o&&r?s(e,i):a(e,i))}function r(e){return t(e)?e:n(e)?c(e):l(e)}function s(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(var n=0,i=e.length;n<i;++n)if(!o(e[n],t[n]))return!1;return!0}function a(e,t){if(e===t)return!0;for(var n in e)if(void 0!==e[n]&&!(n in t))return!1;for(var n in t)if(void 0!==t[n]&&!(n in e))return!1;for(var n in e){var i=e[n],r=t[n];if(void 0!==i||void 0!==r){if(void 0===i||void 0===r)return!1;if(!o(i,r))return!1}}return!0}function c(e){for(var t=new Array(e.length),n=0,i=e.length;n<i;++n)t[n]=r(e[n]);return t}function l(e){var t={};for(var n in e){var i=e[n];void 0!==i&&(t[n]=r(i))}return t}e.emptyObject=Object.freeze({}),e.emptyArray=Object.freeze([]),e.isPrimitive=t,e.isArray=n,e.isObject=i,e.deepEqual=o,e.deepCopy=r}(e.JSONExt||(e.JSONExt={}));var t=function(){function e(){this._types=[],this._values=[]}return e.prototype.types=function(){return this._types.slice()},e.prototype.hasData=function(e){return-1!==this._types.indexOf(e)},e.prototype.getData=function(e){var t=this._types.indexOf(e);return-1!==t?this._values[t]:void 0},e.prototype.setData=function(e,t){this.clearData(e),this._types.push(e),this._values.push(t)},e.prototype.clearData=function(e){var t=this._types.indexOf(e);-1!==t&&(this._types.splice(t,1),this._values.splice(t,1))},e.prototype.clear=function(){this._types.length=0,this._values.length=0},e}(),n=function(){function e(){var e=this;this.promise=new Promise((function(t,n){e._resolve=t,e._reject=n}))}return e.prototype.resolve=function(e){var t=this._resolve;t(e)},e.prototype.reject=function(e){var t=this._reject;t(e)},e}(),i=function(){function e(e){this.name=e,this._tokenStructuralPropertyT=null}return e}();function o(e){for(var t=0,n=0,i=e.length;n<i;++n)n%4===0&&(t=4294967295*Math.random()>>>0),e[n]=255&t,t>>>=8}function r(e){for(var t=new Uint8Array(16),n=new Array(256),i=0;i<16;++i)n[i]="0"+i.toString(16);for(i=16;i<256;++i)n[i]=i.toString(16);return function(){return e(t),t[6]=64|15&t[6],t[8]=128|63&t[8],n[t[0]]+n[t[1]]+n[t[2]]+n[t[3]]+"-"+n[t[4]]+n[t[5]]+"-"+n[t[6]]+n[t[7]]+"-"+n[t[8]]+n[t[9]]+"-"+n[t[10]]+n[t[11]]+n[t[12]]+n[t[13]]+n[t[14]]+n[t[15]]}}e.Random=void 0,function(e){e.getRandomValues=function(){var e="undefined"!==typeof window&&(window.crypto||window.msCrypto)||null;return e&&"function"===typeof e.getRandomValues?function(t){return e.getRandomValues(t)}:o}()}(e.Random||(e.Random={})),e.UUID=void 0,function(t){t.uuid4=r(e.Random.getRandomValues)}(e.UUID||(e.UUID={})),e.MimeData=t,e.PromiseDelegate=n,e.Token=i,Object.defineProperty(e,"__esModule",{value:!0})}))}}]);